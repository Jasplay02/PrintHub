window.Modernizr=function(e,t,n){function r(e){h.cssText=e}function a(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var r in e){var a=e[r];if(!i(a,"-")&&h[a]!==n)return"pfx"!=t||a}return!1}function s(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return!1===r?e[i]:a(o,"function")?o.bind(r||t):o}return!1}function c(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+b.join(r+" ")+r).split(" ");return a(t,"string")||a(t,"undefined")?o(i,t):s(i=(e+" "+x.join(r+" ")+r).split(" "),t,n)}var l,u,d={},f=t.documentElement,m="modernizr",p=t.createElement(m),h=p.style,g=t.createElement("input"),v=":)",y={}.toString,_=" -webkit- -moz- -o- -ms- ".split(" "),k="Webkit Moz O ms",b=k.split(" "),x=k.toLowerCase().split(" "),w="http://www.w3.org/2000/svg",S={},T={},P={},C=[],M=C.slice,D=function(e,n,r,a){var i,o,s,c,l=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(r,10))for(;r--;)(s=t.createElement("div")).id=a?a[r]:m+(r+1),l.appendChild(s);return i=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),l.id=m,(u?l:d).innerHTML+=i,d.appendChild(l),u||(d.style.background="",d.style.overflow="hidden",c=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),o=n(l,e),u?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),f.style.overflow=c),!!o},O=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r,i){i=i||t.createElement(e[r]||"div");var o=(r="on"+r)in i;return o||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),o=a(i[r],"function"),a(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,o}}(),A={}.hasOwnProperty;for(var E in u=a(A,"undefined")||a(A.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return A.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=M.call(arguments,1),r=function(){if(this instanceof r){var a=function(){};a.prototype=t.prototype;var i=new a,o=t.apply(i,n.concat(M.call(arguments)));return Object(o)===o?o:i}return t.apply(e,n.concat(M.call(arguments)))};return r}),S.flexbox=function(){return c("flexWrap")},S.flexboxlegacy=function(){return c("boxDirection")},S.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},S.canvastext=function(){return!!d.canvas&&!!a(t.createElement("canvas").getContext("2d").fillText,"function")},S.webgl=function(){return!!e.WebGLRenderingContext},S.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:D(["@media (",_.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(e){n=9===e.offsetTop})),n},S.geolocation=function(){return"geolocation"in navigator},S.postmessage=function(){return!!e.postMessage},S.websqldatabase=function(){return!!e.openDatabase},S.indexedDB=function(){return!!c("indexedDB",e)},S.hashchange=function(){return O("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},S.history=function(){return!!e.history&&!!history.pushState},S.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},S.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},S.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),i(h.backgroundColor,"rgba")},S.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),i(h.backgroundColor,"rgba")||i(h.backgroundColor,"hsla")},S.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(h.background)},S.backgroundsize=function(){return c("backgroundSize")},S.borderimage=function(){return c("borderImage")},S.borderradius=function(){return c("borderRadius")},S.boxshadow=function(){return c("boxShadow")},S.textshadow=function(){return""===t.createElement("div").style.textShadow},S.opacity=function(){return function(e,t){r(_.join(e+";")+(t||""))}("opacity:.55"),/^0.55$/.test(h.opacity)},S.cssanimations=function(){return c("animationName")},S.csscolumns=function(){return c("columnCount")},S.cssgradients=function(){var e="background-image:";return r((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+_.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),i(h.backgroundImage,"gradient")},S.cssreflections=function(){return c("boxReflect")},S.csstransforms=function(){return!!c("transform")},S.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in f.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},S.csstransitions=function(){return c("transition")},S.fontface=function(){var e;return D('@font-face {font-family:"font";src:url("https://")}',(function(n,r){var a=t.getElementById("smodernizr"),i=a.sheet||a.styleSheet,o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(o)&&0===o.indexOf(r.split(" ")[0])})),e},S.generatedcontent=function(){var e;return D(["#",m,"{font:0/0 a}#",m,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),(function(t){e=t.offsetHeight>=3})),e},S.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},S.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},S.localstorage=function(){try{return localStorage.setItem(m,m),localStorage.removeItem(m),!0}catch(e){return!1}},S.sessionstorage=function(){try{return sessionStorage.setItem(m,m),sessionStorage.removeItem(m),!0}catch(e){return!1}},S.webworkers=function(){return!!e.Worker},S.applicationcache=function(){return!!e.applicationCache},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(w,"svg").createSVGRect},S.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==w},S.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(y.call(t.createElementNS(w,"animate")))},S.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(y.call(t.createElementNS(w,"clipPath")))},S)u(S,E)&&(l=E.toLowerCase(),d[l]=S[E](),C.push((d[l]?"":"no-")+l));return d.input||(d.input=function(n){for(var r=0,a=n.length;r<a;r++)P[n[r]]=n[r]in g;return P.list&&(P.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),P}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),d.inputtypes=function(e){for(var r,a,i,o=0,s=e.length;o<s;o++)g.setAttribute("type",a=e[o]),(r="text"!==g.type)&&(g.value=v,g.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&g.style.WebkitAppearance!==n?(f.appendChild(g),r=(i=t.defaultView).getComputedStyle&&"textfield"!==i.getComputedStyle(g,null).WebkitAppearance&&0!==g.offsetHeight,f.removeChild(g)):/^(search|tel)$/.test(a)||(r=/^(url|email)$/.test(a)?g.checkValidity&&!1===g.checkValidity():g.value!=v)),T[e[o]]=!!r;return T}("search tel url email datetime date month week time datetime-local number range color".split(" "))),d.addTest=function(e,t){if("object"==typeof e)for(var r in e)u(e,r)&&d.addTest(r,e[r]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,f.className+=" "+(t?"":"no-")+e,d[e]=t}return d},r(""),p=g=null,function(e,t){function n(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=m[e[d]];return t||(t={},f++,e[d]=f,m[f]=t),t}function a(e,n,a){return n||(n=t),s?n.createElement(e):(a||(a=r(n)),!(i=a.cache[e]?a.cache[e].cloneNode():u.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e)).canHaveChildren||l.test(e)||i.tagUrn?i:a.frag.appendChild(i));var i}function i(e){e||(e=t);var i=r(e);return p.shivCSS&&!o&&!i.hasCSS&&(i.hasCSS=!!function(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),s||function(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return p.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(p,t.frag)}(e,i),e}var o,s,c=e.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d="_html5shiv",f=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",o="hidden"in e,s=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){o=!0,s=!0}}();var p={elements:c.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==c.shivCSS,supportsUnknownElements:s,shivMethods:!1!==c.shivMethods,type:"default",shivDocument:i,createElement:a,createDocumentFragment:function(e,a){if(e||(e=t),s)return e.createDocumentFragment();for(var i=(a=a||r(e)).frag.cloneNode(),o=0,c=n(),l=c.length;o<l;o++)i.createElement(c[o]);return i}};e.html5=p,i(t)}(this,t),d._version="2.8.3",d._prefixes=_,d._domPrefixes=x,d._cssomPrefixes=b,d.hasEvent=O,d.testProp=function(e){return o([e])},d.testAllProps=c,d.testStyles=D,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+C.join(" "),d}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==g.call(e)}function a(e){return"string"==typeof e}function i(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();y=1,e?e.t?p((function(){("c"==e.t?f.injectCss:f.injectJs)(e.s,0,e.a,e.x,e.e,1)}),0):(e(),s()):y=0}function c(e,n,r,a,i,c,l){function u(t){if(!m&&o(d.readyState)&&(_.r=m=1,!y&&s(),d.onload=d.onreadystatechange=null,t))for(var r in"img"!=e&&p((function(){b.removeChild(d)}),50),P[n])P[n].hasOwnProperty(r)&&P[n][r].onload()}l=l||f.errorTimeout;var d=t.createElement(e),m=0,g=0,_={t:r,s:n,e:i,a:c,x:l};1===P[n]&&(g=1,P[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},v.splice(a,0,_),"img"!=e&&(g||2===P[n]?(b.insertBefore(d,k?null:h),p(u,l)):P[n].push(d))}function l(e,t,n,r,i){return y=0,t=t||"j",a(e)?c("c"==t?w:x,e,t,this.i++,n,r,i):(v.splice(this.i++,0,e),1==v.length&&s()),this}function u(){var e=f;return e.loader={load:l,i:0},e}var d,f,m=t.documentElement,p=e.setTimeout,h=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,_="MozAppearance"in m.style,k=_&&!!t.createRange().compareNode,b=k?m:h.parentNode,x=(m=e.opera&&"[object Opera]"==g.call(e.opera),m=!!t.attachEvent&&!m,_?"object":m?"script":"img"),w=m?"script":x,S=Array.isArray||function(e){return"[object Array]"==g.call(e)},T=[],P={},C={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};f=function(e){function t(e,t,n,a,i){var o=function(e){e=e.split("!");var t,n,r,a=T.length,i=e.pop(),o=e.length;for(i={url:i,origUrl:i,prefixes:e},n=0;n<o;n++)r=e[n].split("="),(t=C[r.shift()])&&(i=t(i,r));for(n=0;n<a;n++)i=T[n](i);return i}(e),s=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(t&&(t=r(t)?t:t[e]||t[a]||t[e.split("/").pop().split("?")[0]]),o.instead?o.instead(e,t,n,a,i):(P[o.url]?o.noexec=!0:P[o.url]=1,n.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":undefined,o.noexec,o.attrs,o.timeout),(r(t)||r(s))&&n.load((function(){u(),t&&t(o.origUrl,i,a),s&&s(o.origUrl,i,a),P[o.url]=2}))))}function n(e,n){function o(e,i){if(e){if(a(e))i||(d=function(){var e=[].slice.call(arguments);f.apply(this,e),m()}),t(e,d,n,0,l);else if(Object(e)===e)for(c in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(c)&&(!i&&!--s&&(r(d)?d=function(){var e=[].slice.call(arguments);f.apply(this,e),m()}:d[c]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),m()}}(f[c])),t(e[c],d,n,c,l))}else!i&&m()}var s,c,l=!!e.test,u=e.load||e.both,d=e.callback||i,f=d,m=e.complete||i;o(l?e.yep:e.nope,!!u),u&&o(u)}var o,s,c=this.yepnope.loader;if(a(e))t(e,0,c,0);else if(S(e))for(o=0;o<e.length;o++)a(s=e[o])?t(s,0,c,0):S(s)?f(s):Object(s)===s&&n(s,c);else Object(e)===e&&n(e,c)},f.addPrefix=function(e,t){C[e]=t},f.addFilter=function(e){T.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,r,a,c,l){var u,d,m=t.createElement("script");a=a||f.errorTimeout;for(d in m.src=e,r)m.setAttribute(d,r[d]);n=l?s:n||i,m.onreadystatechange=m.onload=function(){!u&&o(m.readyState)&&(u=1,n(),m.onload=m.onreadystatechange=null)},p((function(){u||(u=1,n(1))}),a),c?m.onload():h.parentNode.insertBefore(m,h)},e.yepnope.injectCss=function(e,n,r,a,o,c){var l;a=t.createElement("link"),n=c?s:n||i;for(l in a.href=e,a.rel="stylesheet",a.type="text/css",r)a.setAttribute(l,r[l]);o||(h.parentNode.insertBefore(a,h),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return gt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var n=f(e),r=t.call(n.parsedDateParts,(function(e){return null!=e})),a=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&r);if(e._strict&&(a=a&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function p(e){var t=d(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var h=n.momentProperties=[];function g(e,t){var n,r,a;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=f(t)),i(t._locale)||(e._locale=t._locale),0<h.length)for(n=0;n<h.length;n++)i(a=t[r=h[n]])||(e[r]=a);return e}var v=!1;function y(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function _(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function k(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=k(t)),n}function x(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&o++;return o+i}function w(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var r=!0;return u((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var a,i=[],o=0;o<arguments.length;o++){if(a="","object"==typeof arguments[o]){for(var s in a+="\n["+o+"] ",arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[o];i.push(a)}w(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var T,P={};function C(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),P[e]||(w(t),P[e]=!0)}function M(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,r=u({},e);for(n in t)l(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&a(e[n])&&(r[n]=u({},r[n]));return r}function O(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var A={};function E(e,t){var n=e.toLowerCase();A[n]=A[n+"s"]=A[t]=e}function I(e){return"string"==typeof e?A[e]||A[e.toLowerCase()]:void 0}function F(e){var t,n,r={};for(n in e)l(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var N={};function R(e,t){N[e]=t}function Y(e,t,n){var r=""+Math.abs(e),a=t-r.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},W={};function V(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(W[e]=a),t&&(W[t[0]]=function(){return Y(a.apply(this,arguments),t[1],t[2])}),n&&(W[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=B(t,e.localeData()),H[t]=H[t]||function(e){var t,n,r,a=e.match(L);for(t=0,n=a.length;t<n;t++)W[a[t]]?a[t]=W[a[t]]:a[t]=(r=a[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=M(a[r])?a[r].call(t,e):a[r];return i}}(t),H[t](e)):e.localeData().invalidDate()}function B(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;0<=n&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var G=/\d/,U=/\d\d/,$=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,K=/\d\d?/,Z=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,X=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,re=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,ie=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function ce(e,t,n){se[e]=M(t)?t:function(e,r){return e&&n?n:t}}function le(e,t){return l(se,e)?se[e](t._strict,t._locale):new RegExp(ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,a){return t||n||r||a}))))}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function fe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),o(t)&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)de[e[n]]=r}function me(e,t){fe(e,(function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)}))}function pe(e){return he(e)?366:365}function he(e){return e%4==0&&e%100!=0||e%400==0}V("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),E("year","y"),R("year",1),ce("Y",re),ce("YY",K,U),ce("YYYY",ee,q),ce("YYYYY",te,J),ce("YYYYYY",te,J),fe(["YYYYY","YYYYYY"],0),fe("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):b(e)})),fe("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),fe("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return b(e)+(68<b(e)?1900:2e3)};var ge,ve=ye("FullYear",!0);function ye(e,t){return function(r){return null!=r?(ke(this,e,r),n.updateOffset(this,t),this):_e(this,e)}}function _e(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ke(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&he(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),be(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function be(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?he(e)?29:28:31-n%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),E("month","M"),R("month",8),ce("M",K),ce("MM",K,U),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),fe(["M","MM"],(function(e,t){t[1]=b(e)-1})),fe(["MMM","MMMM"],(function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[1]=a:f(n).invalidMonth=e}));var xe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,we="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(!o(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),be(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Pe(e){return null!=e?(Te(this,e),n.updateOffset(this,!0),this):_e(this,"Month")}var Ce=oe,Me=oe;function De(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],i=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),i.sort(e),t=0;t<12;t++)r[t]=ue(r[t]),a[t]=ue(a[t]);for(t=0;t<24;t++)i[t]=ue(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Oe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ae(e,t,n){var r=7+t-n;return-(7+Oe(e,0,r).getUTCDay()-t)%7+r-1}function Ee(e,t,n,r,a){var i,o,s=1+7*(t-1)+(7+n-r)%7+Ae(e,r,a);return s<=0?o=pe(i=e-1)+s:s>pe(e)?(i=e+1,o=s-pe(e)):(i=e,o=s),{year:i,dayOfYear:o}}function Ie(e,t,n){var r,a,i=Ae(e.year(),t,n),o=Math.floor((e.dayOfYear()-i-1)/7)+1;return o<1?r=o+Fe(a=e.year()-1,t,n):o>Fe(e.year(),t,n)?(r=o-Fe(e.year(),t,n),a=e.year()+1):(a=e.year(),r=o),{week:r,year:a}}function Fe(e,t,n){var r=Ae(e,t,n),a=Ae(e+1,t,n);return(pe(e)-r+a)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),R("week",5),R("isoWeek",5),ce("w",K),ce("ww",K,U),ce("W",K),ce("WW",K,U),me(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=b(e)})),V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),ce("d",K),ce("e",K),ce("E",K),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),me(["dd","ddd","dddd"],(function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:f(n).invalidWeekday=e})),me(["d","e","E"],(function(e,t,n,r){t[r]=b(e)}));var Ne="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Le=oe,je=oe,$e=oe;function He(){function e(e,t){return t.length-e.length}var t,n,r,a,i,o=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),i=this.weekdays(n,""),o.push(r),s.push(a),c.push(i),l.push(r),l.push(a),l.push(i);for(o.sort(e),s.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)s[t]=ue(s[t]),c[t]=ue(c[t]),l[t]=ue(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function We(){return this.hours()%12||12}function Ve(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ze(e,t){return t._meridiemParse}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,We),V("k",["kk",2],0,(function(){return this.hours()||24})),V("hmm",0,0,(function(){return""+We.apply(this)+Y(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+We.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)})),Ve("a",!0),Ve("A",!1),E("hour","h"),R("hour",13),ce("a",ze),ce("A",ze),ce("H",K),ce("h",K),ce("k",K),ce("HH",K,U),ce("hh",K,U),ce("kk",K,U),ce("hmm",Z),ce("hmmss",Q),ce("Hmm",Z),ce("Hmmss",Q),fe(["H","HH"],3),fe(["k","kk"],(function(e,t,n){var r=b(e);t[3]=24===r?0:r})),fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),fe(["h","hh"],(function(e,t,n){t[3]=b(e),f(n).bigHour=!0})),fe("hmm",(function(e,t,n){var r=e.length-2;t[3]=b(e.substr(0,r)),t[4]=b(e.substr(r)),f(n).bigHour=!0})),fe("hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[3]=b(e.substr(0,r)),t[4]=b(e.substr(r,2)),t[5]=b(e.substr(a)),f(n).bigHour=!0})),fe("Hmm",(function(e,t,n){var r=e.length-2;t[3]=b(e.substr(0,r)),t[4]=b(e.substr(r))})),fe("Hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[3]=b(e.substr(0,r)),t[4]=b(e.substr(r,2)),t[5]=b(e.substr(a))}));var Be,Ge=ye("Hours",!0),Ue={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:we,monthsShort:Se,week:{dow:0,doy:6},weekdays:Ne,weekdaysMin:Ye,weekdaysShort:Re,meridiemParse:/[ap]\.?m?\.?/i},qe={},Je={};function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){var t=null;if(!qe[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Be._abbr,require("./locale/"+e),Qe(t)}catch(e){}return qe[e]}function Qe(e,t){var n;return e&&((n=i(t)?et(e):Xe(e,t))?Be=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Be._abbr}function Xe(e,t){if(null!==t){var n,r=Ue;if(t.abbr=e,null!=qe[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=qe[e]._config;else if(null!=t.parentLocale)if(null!=qe[t.parentLocale])r=qe[t.parentLocale]._config;else{if(null==(n=Ze(t.parentLocale)))return Je[t.parentLocale]||(Je[t.parentLocale]=[]),Je[t.parentLocale].push({name:e,config:t}),null;r=n._config}return qe[e]=new O(D(r,t)),Je[e]&&Je[e].forEach((function(e){Xe(e.name,e.config)})),Qe(e),qe[e]}return delete qe[e],null}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Be;if(!r(e)){if(t=Ze(e))return t;e=[e]}return function(e){for(var t,n,r,a,i=0;i<e.length;){for(t=(a=Ke(e[i]).split("-")).length,n=(n=Ke(e[i+1]))?n.split("-"):null;0<t;){if(r=Ze(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&x(a,n,!0)>=t-1)break;t--}i++}return Be}(e)}function tt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||11<n[1]?1:n[2]<1||n[2]>be(n[0],n[1])?2:n[3]<0||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||59<n[4]?4:n[5]<0||59<n[5]?5:n[6]<0||999<n[6]?6:-1,f(e)._overflowDayOfYear&&(t<0||2<t)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}function nt(e,t,n){return null!=e?e:null!=t?t:n}function rt(e){var t,r,a,i,o,s=[];if(!e._d){var c,l;for(c=e,l=new Date(n.now()),a=c._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,a,i,o,s,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)i=1,o=4,n=nt(t.GG,e._a[0],Ie(vt(),1,4).year),r=nt(t.W,1),((a=nt(t.E,1))<1||7<a)&&(c=!0);else{i=e._locale._week.dow,o=e._locale._week.doy;var l=Ie(vt(),i,o);n=nt(t.gg,e._a[0],l.year),r=nt(t.w,l.week),null!=t.d?((a=t.d)<0||6<a)&&(c=!0):null!=t.e?(a=t.e+i,(t.e<0||6<t.e)&&(c=!0)):a=i}r<1||r>Fe(n,i,o)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(s=Ee(n,r,a,i,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=nt(e._a[0],a[0]),(e._dayOfYear>pe(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),r=Oe(o,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Oe:function(e,t,n,r,a,i,o){var s=new Date(e,t,n,r,a,i,o);return e<100&&0<=e&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}
var at=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,it=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ot=/Z|[+-]\d\d(?::?\d\d)?/,st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ct=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lt=/^\/?Date\((\-?\d+)/i;function ut(e){var t,n,r,a,i,o,s=e._i,c=at.exec(s)||it.exec(s);if(c){for(f(e).iso=!0,t=0,n=st.length;t<n;t++)if(st[t][1].exec(c[1])){a=st[t][0],r=!1!==st[t][2];break}if(null==a)return void(e._isValid=!1);if(c[3]){for(t=0,n=ct.length;t<n;t++)if(ct[t][1].exec(c[3])){i=(c[2]||" ")+ct[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(c[4]){if(!ot.exec(c[4]))return void(e._isValid=!1);o="Z"}e._f=a+(i||"")+(o||""),pt(e)}else e._isValid=!1}var dt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var ft={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function mt(e){var t,n,r,a=dt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(a){var i=function(e,t,n,r,a,i){var o=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Se.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&o.push(parseInt(i,10)),o}(a[4],a[3],a[2],a[5],a[6],a[7]);if(n=i,r=e,(t=a[1])&&Re.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(f(r).weekdayMismatch=!0,!(r._isValid=!1)))return;e._a=i,e._tzm=function(e,t,n){if(e)return ft[e];if(t)return 0;var r=parseInt(n,10),a=r%100;return(r-a)/100*60+a}(a[8],a[9],a[10]),e._d=Oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function pt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],f(e).empty=!0;var t,r,a,i,o,s,c,u,d=""+e._i,m=d.length,p=0;for(a=B(e._f,e._locale).match(L)||[],t=0;t<a.length;t++)i=a[t],(r=(d.match(le(i,e))||[])[0])&&(0<(o=d.substr(0,d.indexOf(r))).length&&f(e).unusedInput.push(o),d=d.slice(d.indexOf(r)+r.length),p+=r.length),W[i]?(r?f(e).empty=!1:f(e).unusedTokens.push(i),s=i,u=e,null!=(c=r)&&l(de,s)&&de[s](c,u._a,u,s)):e._strict&&!r&&f(e).unusedTokens.push(i);f(e).charsLeftOver=m-p,0<d.length&&f(e).unusedInput.push(d),e._a[3]<=12&&!0===f(e).bigHour&&0<e._a[3]&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0)),t)}(e._locale,e._a[3],e._meridiem),rt(e),tt(e)}else mt(e);else ut(e)}function ht(e){var t,l,d,h,v=e._i,k=e._f;return e._locale=e._locale||et(e._l),null===v||void 0===k&&""===v?p({nullInput:!0}):("string"==typeof v&&(e._i=v=e._locale.preparse(v)),_(v)?new y(tt(v)):(s(v)?e._d=v:r(k)?function(e){var t,n,r,a,i;if(0===e._f.length)return f(e).invalidFormat=!0,e._d=new Date(NaN);for(a=0;a<e._f.length;a++)i=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],pt(t),m(t)&&(i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,(null==r||i<r)&&(r=i,n=t));u(e,n||t)}(e):k?pt(e):i(l=(t=e)._i)?t._d=new Date(n.now()):s(l)?t._d=new Date(l.valueOf()):"string"==typeof l?(d=t,null===(h=lt.exec(d._i))?(ut(d),!1===d._isValid&&(delete d._isValid,mt(d),!1===d._isValid&&(delete d._isValid,n.createFromInputFallback(d)))):d._d=new Date(+h[1])):r(l)?(t._a=c(l.slice(0),(function(e){return parseInt(e,10)})),rt(t)):a(l)?function(e){if(!e._d){var t=F(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),rt(e)}}(t):o(l)?t._d=new Date(l):n.createFromInputFallback(t),m(e)||(e._d=null),e))}function gt(e,t,n,i,o){var s,c={};return!0!==n&&!1!==n||(i=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=o,c._l=n,c._i=e,c._f=t,c._strict=i,(s=new y(tt(ht(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function vt(e,t,n,r){return gt(e,t,n,r,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var yt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()})),_t=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:p()}));function kt(e,t){var n,a;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return vt();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}var bt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xt(e){var t=F(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ge.call(bt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<bt.length;++r)if(e[bt[r]]){if(n)return!1;parseFloat(e[bt[r]])!==b(e[bt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+o+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=et(),this._bubble()}function wt(e){return e instanceof xt}function St(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Tt(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Y(~~(e/60),2)+t+Y(~~e%60,2)}))}Tt("Z",":"),Tt("ZZ",""),ce("Z",ie),ce("ZZ",ie),fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ct(ie,e)}));var Pt=/([\+\-]|\d\d)/gi;function Ct(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Pt)||["-",0,0],a=60*r[1]+b(r[2]);return 0===a?0:"+"===r[0]?a:-a}function Mt(e,t){var r,a;return t._isUTC?(r=t.clone(),a=(_(e)||s(e)?e.valueOf():vt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+a),n.updateOffset(r,!1),r):vt(e).local()}function Dt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ot(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var At=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Et=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function It(e,t){var n,r,a,i=e,s=null;return wt(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(i={},t?i[t]=e:i.milliseconds=e):(s=At.exec(e))?(n="-"===s[1]?-1:1,i={y:0,d:b(s[2])*n,h:b(s[3])*n,m:b(s[4])*n,s:b(s[5])*n,ms:b(St(1e3*s[6]))*n}):(s=Et.exec(e))?(n="-"===s[1]?-1:(s[1],1),i={y:Ft(s[2],n),M:Ft(s[3],n),w:Ft(s[4],n),d:Ft(s[5],n),h:Ft(s[6],n),m:Ft(s[7],n),s:Ft(s[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(a=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Mt(t,e),e.isBefore(t)?n=Nt(e,t):((n=Nt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(vt(i.from),vt(i.to)),(i={}).ms=a.milliseconds,i.M=a.months),r=new xt(i),wt(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Rt(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Yt(this,It(n="string"==typeof n?+n:n,r),e),this}}function Yt(e,t,r,a){var i=t._milliseconds,o=St(t._days),s=St(t._months);e.isValid()&&(a=null==a||a,s&&Te(e,_e(e,"Month")+s*r),o&&ke(e,"Date",_e(e,"Date")+o*r),i&&e._d.setTime(e._d.valueOf()+i*r),a&&n.updateOffset(e,o||s))}It.fn=xt.prototype,It.invalid=function(){return It(NaN)};var Lt=Rt(1,"add"),jt=Rt(-1,"subtract");function $t(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Ht(e){var t;return void 0===e?this._locale._abbr:(null!=(t=et(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Wt=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Vt(){return this._locale}function zt(e,t){V(0,[e,e.length],0,t)}function Bt(e,t,n,r,a){var i;return null==e?Ie(this,r,a).year:((i=Fe(e,r,a))<t&&(t=i),function(e,t,n,r,a){var i=Ee(e,t,n,r,a),o=Oe(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,a))}V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),zt("gggg","weekYear"),zt("ggggg","weekYear"),zt("GGGG","isoWeekYear"),zt("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),ce("G",re),ce("g",re),ce("GG",K,U),ce("gg",K,U),ce("GGGG",ee,q),ce("gggg",ee,q),ce("GGGGG",te,J),ce("ggggg",te,J),me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=b(e)})),me(["gg","GG"],(function(e,t,r,a){t[a]=n.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),E("quarter","Q"),R("quarter",7),ce("Q",G),fe("Q",(function(e,t){t[1]=3*(b(e)-1)})),V("D",["DD",2],"Do","date"),E("date","D"),R("date",9),ce("D",K),ce("DD",K,U),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),fe(["D","DD"],2),fe("Do",(function(e,t){t[2]=b(e.match(K)[0])}));var Gt=ye("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),R("dayOfYear",4),ce("DDD",X),ce("DDDD",$),fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=b(e)})),V("m",["mm",2],0,"minute"),E("minute","m"),R("minute",14),ce("m",K),ce("mm",K,U),fe(["m","mm"],4);var Ut=ye("Minutes",!1);V("s",["ss",2],0,"second"),E("second","s"),R("second",15),ce("s",K),ce("ss",K,U),fe(["s","ss"],5);var qt,Jt=ye("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),E("millisecond","ms"),R("millisecond",16),ce("S",X,G),ce("SS",X,U),ce("SSS",X,$),qt="SSSS";qt.length<=9;qt+="S")ce(qt,ne);function Kt(e,t){t[6]=b(1e3*("0."+e))}for(qt="S";qt.length<=9;qt+="S")fe(qt,Kt);var Zt=ye("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Qt=y.prototype;function Xt(e){return e}Qt.add=Lt,Qt.calendar=function(e,t){var r=e||vt(),a=Mt(r,this).startOf("day"),i=n.calendarFormat(this,a)||"sameElse",o=t&&(M(t[i])?t[i].call(this,r):t[i]);return this.format(o||this.localeData().calendar(i,this,vt(r)))},Qt.clone=function(){return new y(this)},Qt.diff=function(e,t,n){var r,a,i;if(!this.isValid())return NaN;if(!(r=Mt(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":i=$t(this,r)/12;break;case"month":i=$t(this,r);break;case"quarter":i=$t(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:k(i)},Qt.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Qt.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},Qt.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||vt(e).isValid())?It({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qt.fromNow=function(e){return this.from(vt(),e)},Qt.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||vt(e).isValid())?It({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qt.toNow=function(e){return this.to(vt(),e)},Qt.get=function(e){return M(this[e=I(e)])?this[e]():this},Qt.invalidAt=function(){return f(this).overflow},Qt.isAfter=function(e,t){var n=_(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(i(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Qt.isBefore=function(e,t){var n=_(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(i(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Qt.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},Qt.isSame=function(e,t){var n,r=_(e)?e:vt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Qt.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Qt.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Qt.isValid=function(){return m(this)},Qt.lang=Wt,Qt.locale=Ht,Qt.localeData=Vt,Qt.max=_t,Qt.min=yt,Qt.parsingFlags=function(){return u({},f(this))},Qt.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:N[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=F(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(M(this[e=I(e)]))return this[e](t);return this},Qt.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Qt.subtract=jt,Qt.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Qt.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Qt.toDate=function(){return new Date(this.valueOf())},Qt.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Qt.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+a)},Qt.toJSON=function(){return this.isValid()?this.toISOString():null},Qt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Qt.unix=function(){return Math.floor(this.valueOf()/1e3)},Qt.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Qt.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Qt.year=ve,Qt.isLeapYear=function(){return he(this.year())},Qt.weekYear=function(e){return Bt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Qt.isoWeekYear=function(e){return Bt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Qt.quarter=Qt.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Qt.month=Pe,Qt.daysInMonth=function(){return be(this.year(),this.month())},Qt.week=Qt.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Qt.isoWeek=Qt.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Qt.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},Qt.isoWeeksInYear=function(){return Fe(this.year(),1,4)},Qt.date=Gt,Qt.day=Qt.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d")):r},Qt.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Qt.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(n=e,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?t:t-7)}return this.day()||7;var n,r},Qt.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Qt.hour=Qt.hours=Ge,Qt.minute=Qt.minutes=Ut,Qt.second=Qt.seconds=Jt,Qt.millisecond=Qt.milliseconds=Zt,Qt.utcOffset=function(e,t,r){var a,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ct(ie,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(a=Dt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),i!==e&&(!t||this._changeInProgress?Yt(this,It(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Dt(this)},Qt.utc=function(e){return this.utcOffset(0,e)},Qt.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Dt(this),"m")),this},Qt.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ct(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Qt.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Qt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Qt.isLocal=function(){return!!this.isValid()&&!this._isUTC},Qt.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Qt.isUtc=Ot,Qt.isUTC=Ot,Qt.zoneAbbr=function(){return this._isUTC?"UTC":""},Qt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Qt.dates=S("dates accessor is deprecated. Use date instead.",Gt),Qt.months=S("months accessor is deprecated. Use month instead",Pe),Qt.years=S("years accessor is deprecated. Use year instead",ve),Qt.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Qt.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=ht(e))._a){var t=e._isUTC?d(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&0<x(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var en=O.prototype;function tn(e,t,n,r){var a=et(),i=d().set(r,t);return a[n](i,e)}function nn(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return tn(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=tn(e,r,n,"month");return a}function rn(e,t,n,r){"boolean"==typeof e?o(t)&&(n=t,t=void 0):(t=e,e=!1,o(n=t)&&(n=t,t=void 0)),t=t||"";var a,i=et(),s=e?i._week.dow:0;if(null!=n)return tn(t,(n+s)%7,r,"day");var c=[];for(a=0;a<7;a++)c[a]=tn(t,(a+s)%7,r,"day");return c}en.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return M(r)?r.call(t,n):r},en.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},en.invalidDate=function(){return this._invalidDate},en.ordinal=function(e){return this._ordinal.replace("%d",e)},en.preparse=Xt,en.postformat=Xt,en.relativeTime=function(e,t,n,r){var a=this._relativeTime[n];return M(a)?a(e,t,n,r):a.replace(/%d/i,e)},en.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)},en.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},en.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xe).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},en.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xe.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},en.monthsParse=function(e,t,n){var r,a,i;if(this._monthsParseExact)return function(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=ge.call(this._shortMonthsParse,o))?a:null:-1!==(a=ge.call(this._longMonthsParse,o))?a:null:"MMM"===t?-1!==(a=ge.call(this._shortMonthsParse,o))||-1!==(a=ge.call(this._longMonthsParse,o))?a:null:-1!==(a=ge.call(this._longMonthsParse,o))||-1!==(a=ge.call(this._shortMonthsParse,o))?a:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},en.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||De.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Me),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},en.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||De.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Ce),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},en.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},en.firstDayOfYear=function(){return this._week.doy},en.firstDayOfWeek=function(){return this._week.dow},en.weekdays=function(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},en.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},en.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},en.weekdaysParse=function(e,t,n){var r,a,i;if(this._weekdaysParseExact)return function(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=ge.call(this._weekdaysParse,o))?a:null:"ddd"===t?-1!==(a=ge.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=ge.call(this._minWeekdaysParse,o))?a:null:"dddd"===t?-1!==(a=ge.call(this._weekdaysParse,o))||-1!==(a=ge.call(this._shortWeekdaysParse,o))||-1!==(a=ge.call(this._minWeekdaysParse,o))?a:null:"ddd"===t?-1!==(a=ge.call(this._shortWeekdaysParse,o))||-1!==(a=ge.call(this._weekdaysParse,o))||-1!==(a=ge.call(this._minWeekdaysParse,o))?a:null:-1!==(a=ge.call(this._minWeekdaysParse,o))||-1!==(a=ge.call(this._weekdaysParse,o))||-1!==(a=ge.call(this._shortWeekdaysParse,o))?a:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},en.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Le),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},en.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},en.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},en.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},en.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},Qe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",Qe),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",et);var an=Math.abs;function on(e,t,n,r){var a=It(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function sn(e){return e<0?Math.floor(e):Math.ceil(e)}function cn(e){return 4800*e/146097}function ln(e){return 146097*e/4800}function un(e){return function(){return this.as(e)}}var dn=un("ms"),fn=un("s"),mn=un("m"),pn=un("h"),hn=un("d"),gn=un("w"),vn=un("M"),yn=un("y");function _n(e){return function(){return this.isValid()?this._data[e]:NaN}}var kn=_n("milliseconds"),bn=_n("seconds"),xn=_n("minutes"),wn=_n("hours"),Sn=_n("days"),Tn=_n("months"),Pn=_n("years"),Cn=Math.round,Mn={ss:44,s:45,m:45,h:22,d:26,M:11},Dn=Math.abs;function On(e){return(0<e)-(e<0)||+e}function An(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Dn(this._milliseconds)/1e3,r=Dn(this._days),a=Dn(this._months);t=k((e=k(n/60))/60),n%=60,e%=60;var i=k(a/12),o=a%=12,s=r,c=t,l=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",m=On(this._months)!==On(d)?"-":"",p=On(this._days)!==On(d)?"-":"",h=On(this._milliseconds)!==On(d)?"-":"";return f+"P"+(i?m+i+"Y":"")+(o?m+o+"M":"")+(s?p+s+"D":"")+(c||l||u?"T":"")+(c?h+c+"H":"")+(l?h+l+"M":"")+(u?h+u+"S":"")}var En=xt.prototype;return En.isValid=function(){return this._isValid},En.abs=function(){var e=this._data;return this._milliseconds=an(this._milliseconds),this._days=an(this._days),this._months=an(this._months),e.milliseconds=an(e.milliseconds),e.seconds=an(e.seconds),e.minutes=an(e.minutes),e.hours=an(e.hours),e.months=an(e.months),e.years=an(e.years),this},En.add=function(e,t){return on(this,e,t,1)},En.subtract=function(e,t){return on(this,e,t,-1)},En.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+r/864e5,n=this._months+cn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ln(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},En.asMilliseconds=dn,En.asSeconds=fn,En.asMinutes=mn,En.asHours=pn,En.asDays=hn,En.asWeeks=gn,En.asMonths=vn,En.asYears=yn,En.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN},En._bubble=function(){var e,t,n,r,a,i=this._milliseconds,o=this._days,s=this._months,c=this._data;return 0<=i&&0<=o&&0<=s||i<=0&&o<=0&&s<=0||(i+=864e5*sn(ln(s)+o),s=o=0),c.milliseconds=i%1e3,e=k(i/1e3),c.seconds=e%60,t=k(e/60),c.minutes=t%60,n=k(t/60),c.hours=n%24,s+=a=k(cn(o+=k(n/24))),o-=sn(ln(a)),r=k(s/12),s%=12,c.days=o,c.months=s,c.years=r,this},En.clone=function(){return It(this)},En.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},En.milliseconds=kn,En.seconds=bn,En.minutes=xn,En.hours=wn,En.days=Sn,En.weeks=function(){return k(this.days()/7)},En.months=Tn,En.years=Pn,En.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,r,a,i,o,s,c,l,u,d=this.localeData(),f=(t=!e,n=d,r=It(this).abs(),a=Cn(r.as("s")),i=Cn(r.as("m")),o=Cn(r.as("h")),s=Cn(r.as("d")),c=Cn(r.as("M")),
l=Cn(r.as("y")),(u=a<=Mn.ss&&["s",a]||a<Mn.s&&["ss",a]||i<=1&&["m"]||i<Mn.m&&["mm",i]||o<=1&&["h"]||o<Mn.h&&["hh",o]||s<=1&&["d"]||s<Mn.d&&["dd",s]||c<=1&&["M"]||c<Mn.M&&["MM",c]||l<=1&&["y"]||["yy",l])[2]=t,u[3]=0<+this,u[4]=n,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,u));return e&&(f=d.pastFuture(+this,f)),d.postformat(f)},En.toISOString=An,En.toString=An,En.toJSON=An,En.locale=Ht,En.localeData=Vt,En.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",An),En.lang=Wt,V("X",0,0,"unix"),V("x",0,0,"valueOf"),ce("x",re),ce("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),fe("x",(function(e,t,n){n._d=new Date(b(e))})),n.version="2.22.2",e=vt,n.fn=Qt,n.min=function(){return kt("isBefore",[].slice.call(arguments,0))},n.max=function(){return kt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return vt(1e3*e)},n.months=function(e,t){return nn(e,t,"months")},n.isDate=s,n.locale=Qe,n.invalid=p,n.duration=It,n.isMoment=_,n.weekdays=function(e,t,n){return rn(e,t,n,"weekdays")},n.parseZone=function(){return vt.apply(null,arguments).parseZone()},n.localeData=et,n.isDuration=wt,n.monthsShort=function(e,t){return nn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return rn(e,t,n,"weekdaysMin")},n.defineLocale=Xe,n.updateLocale=function(e,t){if(null!=t){var n,r,a=Ue;null!=(r=Ze(e))&&(a=r._config),(n=new O(t=D(a,t))).parentLocale=qe[e],qe[e]=n,Qe(e)}else null!=qe[e]&&(null!=qe[e].parentLocale?qe[e]=qe[e].parentLocale:null!=qe[e]&&delete qe[e]);return qe[e]},n.locales=function(){return T(qe)},n.weekdaysShort=function(e,t,n){return rn(e,t,n,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(e){return void 0===e?Cn:"function"==typeof e&&(Cn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Mn[e]&&(void 0===t?Mn[e]:(Mn[e]=t,"s"===e&&(Mn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=Qt,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n})),function(e){"use strict";function t(e){var t=e.length,r=n.type(e);return"function"!==r&&!n.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return e&&e===e.window},n.type=function(e){return e?"object"==typeof e||"function"==typeof e?a[o.call(e)]||"object":typeof e:e+""},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||i.call(e,t)},n.each=function(e,n,r){var a=0,i=e.length,o=t(e);if(r){if(o)for(;a<i&&!1!==n.apply(e[a],r);a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===n.apply(e[a],r))break}else if(o)for(;a<i&&!1!==n.call(e[a],a,e[a]);a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===n.call(e[a],a,e[a]))break;return e},n.data=function(e,t,a){if(void 0===a){var i=e[n.expando],o=i&&r[i];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var s=e[n.expando]||(e[n.expando]=++n.uuid);return r[s]=r[s]||{},r[s][t]=a,a}},n.removeData=function(e,t){var a=e[n.expando],i=a&&r[a];i&&(t?n.each(t,(function(e,t){delete i[t]})):delete r[a])},n.extend=function(){var e,t,r,a,i,o,s=arguments[0]||{},c=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[c]||{},c++),"object"!=typeof s&&"function"!==n.type(s)&&(s={}),c===l&&(s=this,c--);c<l;c++)if(i=arguments[c])for(a in i)i.hasOwnProperty(a)&&(e=s[a],s!==(r=i[a])&&(u&&r&&(n.isPlainObject(r)||(t=n.isArray(r)))?(t?(t=!1,o=e&&n.isArray(e)?e:[]):o=e&&n.isPlainObject(e)?e:{},s[a]=n.extend(u,o,r)):void 0!==r&&(s[a]=r)));return s},n.queue=function(e,r,a){if(e){r=(r||"fx")+"queue";var i=n.data(e,r);return a?(!i||n.isArray(a)?i=n.data(e,r,function(e,n){var r=[];return e&&(t(Object(e))?function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;)e[a++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[a++]=t[r++];e.length=a}(r,"string"==typeof e?[e]:e):[].push.call(r,e)),r}(a)):i.push(a),i):i||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,(function(e,r){t=t||"fx";var a=n.queue(r,t),i=a.shift();"inprogress"===i&&(i=a.shift()),i&&("fx"===t&&a.unshift("inprogress"),i.call(r,(function(){n.dequeue(r,t)})))}))},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position.toLowerCase();)t=t.offsetParent;return t||document}(e),r=this.offset(),a=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(a.top+=parseFloat(t.style.borderTopWidth)||0,a.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-a.top,left:r.left-a.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var a={},i=a.hasOwnProperty,o=a.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),c=0;c<s.length;c++)a["[object "+s[c]+"]"]=s[c].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";return function(e,t,n,r){function a(e){return _.isWrapped(e)?e=v.call(e):_.isNode(e)&&(e=[e]),e}function i(e){var t=m.data(e,"velocity");return null===t?r:t}function o(e,t){var n=i(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function s(e,t){var n=i(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function c(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,n,r,a){function i(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function c(e,t,n){return((i(t,n)*e+o(t,n))*e+s(t))*e}function l(e,t,n){return 3*i(t,n)*e*e+2*o(t,n)*e+s(t)}function u(t,n){for(var a=0;a<h;++a){var i=l(n,e,r);if(0===i)return n;n-=(c(n,e,r)-t)/i}return n}function d(){for(var t=0;t<_;++t)w[t]=c(t*k,e,r)}function f(t,n,a){var i,o,s=0;do{(i=c(o=n+(a-n)/2,e,r)-t)>0?a=o:n=o}while(Math.abs(i)>v&&++s<y);return o}function m(t){for(var n=0,a=1,i=_-1;a!==i&&w[a]<=t;++a)n+=k;--a;var o=n+(t-w[a])/(w[a+1]-w[a])*k,s=l(o,e,r);return s>=g?u(t,o):0===s?o:f(t,n,n+k)}function p(){S=!0,e===n&&r===a||d()}var h=4,g=.001,v=1e-7,y=10,_=11,k=1/(_-1),b="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var w=b?new Float32Array(_):new Array(_),S=!1,T=function(t){return S||p(),e===n&&r===a?t:0===t?0:1===t?1:c(m(t),n,a)};T.getControlPoints=function(){return[{x:e,y:n},{x:r,y:a}]};var P="generateBezier("+[e,n,r,a]+")";return T.toString=function(){return P},T}function u(e,t){var n=e;return _.isString(e)?w.Easings[e]||(n=!1):n=_.isArray(e)&&1===e.length?c.apply(null,e):_.isArray(e)&&2===e.length?S.apply(null,e.concat([t])):!(!_.isArray(e)||4!==e.length)&&l.apply(null,e),!1===n&&(n=w.Easings[w.defaults.easing]?w.defaults.easing:x),n}function d(e){if(e){var t=w.timestamp&&!0!==e?e:g.now(),n=w.State.calls.length;n>1e4&&(w.State.calls=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var a=e[t];a&&r.push(a)}return r}(w.State.calls),n=w.State.calls.length);for(var a=0;a<n;a++)if(w.State.calls[a]){var o=w.State.calls[a],s=o[0],c=o[2],l=o[3],u=!l,h=null,v=o[5],y=o[6];if(l||(l=w.State.calls[a][3]=t-16),v){if(!0!==v.resume)continue;l=o[3]=Math.round(t-y-16),o[5]=null}y=o[6]=t-l;for(var k=Math.min(y/c.duration,1),b=0,x=s.length;b<x;b++){var S=s[b],P=S.element;if(i(P)){var M=!1;if(c.display!==r&&null!==c.display&&"none"!==c.display){if("flex"===c.display){m.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],(function(e,t){T.setPropertyValue(P,"display",t)}))}T.setPropertyValue(P,"display",c.display)}for(var D in c.visibility!==r&&"hidden"!==c.visibility&&T.setPropertyValue(P,"visibility",c.visibility),S)if(S.hasOwnProperty(D)&&"element"!==D){var O,A=S[D],E=_.isString(A.easing)?w.Easings[A.easing]:A.easing;if(_.isString(A.pattern)){var I=1===k?function(e,t,n){var r=A.endValue[t];return n?Math.round(r):r}:function(e,t,n){var r=A.startValue[t],a=A.endValue[t]-r,i=r+a*E(k,c,a);return n?Math.round(i):i};O=A.pattern.replace(/{(\d+)(!)?}/g,I)}else if(1===k)O=A.endValue;else{var F=A.endValue-A.startValue;O=A.startValue+F*E(k,c,F)}if(!u&&O===A.currentValue)continue;if(A.currentValue=O,"tween"===D)h=O;else{var N;if(T.Hooks.registered[D]){N=T.Hooks.getRoot(D);var R=i(P).rootPropertyValueCache[N];R&&(A.rootPropertyValue=R)}var Y=T.setPropertyValue(P,D,A.currentValue+(p<9&&0===parseFloat(O)?"":A.unitType),A.rootPropertyValue,A.scrollData);T.Hooks.registered[D]&&(T.Normalizations.registered[N]?i(P).rootPropertyValueCache[N]=T.Normalizations.registered[N]("extract",null,Y[1]):i(P).rootPropertyValueCache[N]=Y[1]),"transform"===Y[0]&&(M=!0)}}c.mobileHA&&i(P).transformCache.translate3d===r&&(i(P).transformCache.translate3d="(0px, 0px, 0px)",M=!0),M&&T.flushTransformCache(P)}}c.display!==r&&"none"!==c.display&&(w.State.calls[a][2].display=!1),c.visibility!==r&&"hidden"!==c.visibility&&(w.State.calls[a][2].visibility=!1),c.progress&&c.progress.call(o[1],o[1],k,Math.max(0,l+c.duration-t),l,h),1===k&&f(a)}}w.State.isTicking&&C(d)}function f(e,t){if(!w.State.calls[e])return!1;for(var n=w.State.calls[e][0],a=w.State.calls[e][1],o=w.State.calls[e][2],s=w.State.calls[e][4],c=!1,l=0,u=n.length;l<u;l++){var d=n[l].element;t||o.loop||("none"===o.display&&T.setPropertyValue(d,"display",o.display),"hidden"===o.visibility&&T.setPropertyValue(d,"visibility",o.visibility));var f=i(d);if(!0!==o.loop&&(m.queue(d)[1]===r||!/\.velocityQueueEntryFlag/i.test(m.queue(d)[1]))&&f){f.isAnimating=!1,f.rootPropertyValueCache={};var p=!1;m.each(T.Lists.transforms3D,(function(e,t){var n=/^scale/.test(t)?1:0,a=f.transformCache[t];f.transformCache[t]!==r&&new RegExp("^\\("+n+"[^.]").test(a)&&(p=!0,delete f.transformCache[t])})),o.mobileHA&&(p=!0,delete f.transformCache.translate3d),p&&T.flushTransformCache(d),T.Values.removeClass(d,"velocity-animating")}if(!t&&o.complete&&!o.loop&&l===u-1)try{o.complete.call(a,a)}catch(e){setTimeout((function(){throw e}),1)}s&&!0!==o.loop&&s(a),f&&!0===o.loop&&!t&&(m.each(f.tweensContainer,(function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)})),w(d,"reverse",{loop:!0,delay:o.delay})),!1!==o.queue&&m.dequeue(d,o.queue)}w.State.calls[e]=!1;for(var h=0,g=w.State.calls.length;h<g;h++)if(!1!==w.State.calls[h]){c=!0;break}!1===c&&(w.State.isTicking=!1,delete w.State.calls,w.State.calls=[])}var m,p=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return r}(),h=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-e)),e=r+n,setTimeout((function(){t(r+n)}),n)}}(),g=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}(),v=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var r=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=r),this.slice)return e.call(this,t,n);var a,i=[],o=t>=0?t:Math.max(0,r+t),s=(n<0?r+n:Math.min(n,r))-o;if(s>0)if(i=new Array(s),this.charAt)for(a=0;a<s;a++)i[a]=this.charAt(o+a);else for(a=0;a<s;a++)i[a]=this[o+a];return i}}}(),y=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},_={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&_.isNumber(e.length)&&!_.isString(e)&&!_.isFunction(e)&&!_.isNode(e)&&(0===e.length||_.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},k=!1;if(e.fn&&e.fn.jquery?(m=e,k=!0):m=t.Velocity.Utilities,p<=8&&!k)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(p<=7)){var b=400,x="swing",w={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent),isAndroid:/Android/i.test(t.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(t.navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(t.navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:b,easing:x,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){m.data(e,"velocity",{isSVG:_.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:2},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();m.each(w.State.calls,(function(t,n){if(n){if(e!==r&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]={resume:!1}}})),m.each(w.State.delayedElements,(function(e,n){n&&o(n,t)}))},resumeAll:function(e){(new Date).getTime();m.each(w.State.calls,(function(t,n){if(n){if(e!==r&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}})),m.each(w.State.delayedElements,(function(e,t){t&&s(t)}))}};t.pageYOffset!==r?(w.State.scrollAnchor=t,w.State.scrollPropertyLeft="pageXOffset",w.State.scrollPropertyTop="pageYOffset"):(w.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,w.State.scrollPropertyLeft="scrollLeft",w.State.scrollPropertyTop="scrollTop");var S=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var a={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:a.v,dv:e(a)}}function n(n,r){var a={dx:n.v,dv:e(n)},i=t(n,.5*r,a),o=t(n,.5*r,i),s=t(n,r,o),c=1/6*(a.dx+2*(i.dx+o.dx)+s.dx),l=1/6*(a.dv+2*(i.dv+o.dv)+s.dv);return n.x=n.x+c*r,n.v=n.v+l*r,n}return function e(t,r,a){var i,o,s,c={x:-1,v:0,tension:null,friction:null},l=[0],u=0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,a=a||null,c.tension=t,c.friction=r,(i=null!==a)?o=(u=e(t,r))/a*.016:o=.016;s=n(s||c,o),l.push(1+s.x),u+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return i?function(e){return l[e*(l.length-1)|0]}:u}}();w.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],(function(e,t){w.Easings[t[0]]=l.apply(null,t[1])}));var T=w.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<T.Lists.colors.length;e++){var t="color"===T.Lists.colors[e]?"0 0 0 1":"255 255 255 1";T.Hooks.templates[T.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,r,a;if(p)for(n in T.Hooks.templates)if(T.Hooks.templates.hasOwnProperty(n)){a=(r=T.Hooks.templates[n])[0].split(" ");var i=r[1].match(T.RegEx.valueSplit);"Color"===a[0]&&(a.push(a.shift()),i.push(i.shift()),T.Hooks.templates[n]=[a.join(" "),i.join(" ")])}for(n in T.Hooks.templates)if(T.Hooks.templates.hasOwnProperty(n))for(var o in a=(r=T.Hooks.templates[n])[0].split(" "))if(a.hasOwnProperty(o)){var s=n+a[o],c=o;T.Hooks.registered[s]=[n,c]}},getRoot:function(e){var t=T.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&y(T.Lists.units)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,(function(e,t,n){return T.Lists.colorNames.hasOwnProperty(n)?(t||"rgba(")+T.Lists.colorNames[n]+(t?"":",1)"):t+n}))},cleanRootPropertyValue:function(e,t){return T.RegEx.valueUnwrap.test(t)&&(t=t.match(T.RegEx.valueUnwrap)[1]),T.Values.isCSSNullValue(t)&&(t=T.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=T.Hooks.registered[e];if(n){var r=n[0],a=n[1];return(t=T.Hooks.cleanRootPropertyValue(r,t)).toString().match(T.RegEx.valueSplit)[a]}return t},injectValue:function(e,t,n){var r=T.Hooks.registered[e];if(r){var a,i=r[0],o=r[1];return(a=(n=T.Hooks.cleanRootPropertyValue(i,n)).toString().match(T.RegEx.valueSplit))[o]=t,a.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return T.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:r=(r=n.toString().match(T.RegEx.valueUnwrap))?r[1].replace(/,(\s+)?/g," "):n,r;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return w.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var a=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=a?a[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(p<=8)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){function e(e,t,n){if("border-box"===T.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(n||!1)){var r,a,i=0,o="width"===e?["Left","Right"]:["Top","Bottom"],s=["padding"+o[0],"padding"+o[1],"border"+o[0]+"Width","border"+o[1]+"Width"];for(r=0;r<s.length;r++)a=parseFloat(T.getPropertyValue(t,s[r])),isNaN(a)||(i+=a);return n?-i:i}return 0}function t(t,n){return function(r,a,i){switch(r){case"name":return t;case"extract":return parseFloat(i)+e(t,a,n);case"inject":return parseFloat(i)-e(t,a,n)+"px"}}}p&&!(p>9)||w.State.isGingerbread||(T.Lists.transformsBase=T.Lists.transformsBase.concat(T.Lists.transforms3D));for(var n=0;n<T.Lists.transformsBase.length;n++)!function(){var e=T.Lists.transformsBase[n];T.Normalizations.registered[e]=function(t,n,a){switch(t){case"name":return"transform";case"extract":return i(n)===r||i(n).transformCache[e]===r?/^scale/i.test(e)?1:0:i(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":w.State.isAndroid&&i(n).transformCache[e]===r&&a<1&&(a=1),o=!/(\d)$/i.test(a);break;case"skew":case"rotate":o=!/(deg|\d)$/i.test(a)}return o||(i(n).transformCache[e]="("+a+")"),i(n).transformCache[e]}}}();for(var a=0;a<T.Lists.colors.length;a++)!function(){var e=T.Lists.colors[a];T.Normalizations.registered[e]=function(t,n,a){switch(t){case"name":return e;case"extract":var i;if(T.RegEx.wrappedValueAlreadyExtracted.test(a))i=a;else{var o,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(a)?o=s[a]!==r?s[a]:s.black:T.RegEx.isHex.test(a)?o="rgb("+T.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(o=s.black),i=(o||a).toString().match(T.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!p||p>8)&&3===i.split(" ").length&&(i+=" 1"),i;case"inject":return/^rgb/.test(a)?a:(p<=8?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(p<=8?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();T.Normalizations.registered.innerWidth=t("width",!0),T.Normalizations.registered.innerHeight=t("height",!0),T.Normalizations.registered.outerWidth=t("width"),T.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||w.State.isAndroid&&!w.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(w.State.prefixMatches[e])return[w.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;n<r;n++){var a;if(a=0===n?e:t[n]+e.replace(/^\w/,(function(e){return e.toUpperCase()})),_.isString(w.State.prefixElement.style[a]))return w.State.prefixMatches[e]=a,[a,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(_.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(p<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(_.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(p<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,a,o){function s(e,n){var a=0;if(p<=8)a=m.css(e,n);else{var c=!1;/^(width|height)$/.test(n)&&0===T.getPropertyValue(e,"display")&&(c=!0,T.setPropertyValue(e,"display",T.Values.getDisplayType(e)));var l,u=function(){c&&T.setPropertyValue(e,"display","none")};if(!o){if("height"===n&&"border-box"!==T.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetHeight-(parseFloat(T.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(T.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(T.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(T.getPropertyValue(e,"paddingBottom"))||0);return u(),d}if("width"===n&&"border-box"!==T.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var f=e.offsetWidth-(parseFloat(T.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(T.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(T.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(T.getPropertyValue(e,"paddingRight"))||0);return u(),f}}l=i(e)===r?t.getComputedStyle(e,null):i(e).computedStyle?i(e).computedStyle:i(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),""!==(a=9===p&&"filter"===n?l.getPropertyValue(n):l[n])&&null!==a||(a=e.style[n]),u()}if("auto"===a&&/^(top|right|bottom|left)$/i.test(n)){var h=s(e,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(n))&&(a=m(e).position()[n]+"px")}return a}var c;if(T.Hooks.registered[n]){var l=n,u=T.Hooks.getRoot(l);a===r&&(a=T.getPropertyValue(e,T.Names.prefixCheck(u)[0])),T.Normalizations.registered[u]&&(a=T.Normalizations.registered[u]("extract",e,a)),c=T.Hooks.extractValue(l,a)}else if(T.Normalizations.registered[n]){var d,f;"transform"!==(d=T.Normalizations.registered[n]("name",e))&&(f=s(e,T.Names.prefixCheck(d)[0]),T.Values.isCSSNullValue(f)&&T.Hooks.templates[n]&&(f=T.Hooks.templates[n][1])),c=T.Normalizations.registered[n]("extract",e,f)}if(!/^[\d-]/.test(c)){var h=i(e);if(h&&h.isSVG&&T.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{c=e.getBBox()[n]}catch(e){c=0}else c=e.getAttribute(n);else c=s(e,T.Names.prefixCheck(n)[0])}return T.Values.isCSSNullValue(c)&&(c=0),w.debug>=2&&console.log("Get "+n+": "+c),c},setPropertyValue:function(e,n,r,a,o){var s=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=r:"Left"===o.direction?t.scrollTo(r,o.alternateValue):t.scrollTo(o.alternateValue,r);else if(T.Normalizations.registered[n]&&"transform"===T.Normalizations.registered[n]("name",e))T.Normalizations.registered[n]("inject",e,r),s="transform",r=i(e).transformCache[n];else{if(T.Hooks.registered[n]){var c=n,l=T.Hooks.getRoot(n);a=a||T.getPropertyValue(e,l),r=T.Hooks.injectValue(c,r,a),n=l}if(T.Normalizations.registered[n]&&(r=T.Normalizations.registered[n]("inject",e,r),n=T.Normalizations.registered[n]("name",e)),s=T.Names.prefixCheck(n)[0],p<=8)try{e.style[s]=r}catch(e){w.debug&&console.log("Browser does not support ["+r+"] for ["+s+"]")}else{var u=i(e);u&&u.isSVG&&T.Names.SVGAttribute(n)?e.setAttribute(n,r):e.style[s]=r}w.debug>=2&&console.log("Set "+n+" ("+s+"): "+r)}return[s,r]},flushTransformCache:function(e){var t="",n=i(e);if((p||w.State.isAndroid&&!w.State.isChrome)&&n&&n.isSVG){var r=function(t){return parseFloat(T.getPropertyValue(e,t))},a={translate:[r("translateX"),r("translateY")],skewX:[r("skewX")],skewY:[r("skewY")],scale:1!==r("scale")?[r("scale"),r("scale")]:[r("scaleX"),r("scaleY")],rotate:[r("rotateZ"),0,0]};m.each(i(e).transformCache,(function(e){
/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(t+=e+"("+a[e].join(" ")+") ",delete a[e])}))}else{var o,s;m.each(i(e).transformCache,(function(n){if(o=i(e).transformCache[n],"transformPerspective"===n)return s=o,!0;9===p&&"rotateZ"===n&&(n="rotate"),t+=n+o+" "})),s&&(t="perspective"+s+" "+t)}T.setPropertyValue(e,"transform",t)}};T.Hooks.register(),T.Normalizations.register(),w.hook=function(e,t,n){var o;return e=a(e),m.each(e,(function(e,a){if(i(a)===r&&w.init(a),n===r)o===r&&(o=T.getPropertyValue(a,t));else{var s=T.setPropertyValue(a,t,n);"transform"===s[0]&&w.CSS.flushTransformCache(a),o=s}})),o};var P=function(){function e(){return p?C.promise||null:h}function c(e,a){function o(o){var f,p;if(c.begin&&0===O)try{c.begin.call(v,v)}catch(e){setTimeout((function(){throw e}),1)}if("scroll"===M){var h,g,b,S=/^x$/i.test(c.axis)?"Left":"Top",P=parseFloat(c.offset)||0;c.container?_.isWrapped(c.container)||_.isNode(c.container)?(c.container=c.container[0]||c.container,b=(h=c.container["scroll"+S])+m(e).position()[S.toLowerCase()]+P):c.container=null:(h=w.State.scrollAnchor[w.State["scrollProperty"+S]],g=w.State.scrollAnchor[w.State["scrollProperty"+("Left"===S?"Top":"Left")]],b=m(e).offset()[S.toLowerCase()]+P),l={scroll:{rootPropertyValue:!1,startValue:h,currentValue:h,endValue:b,unitType:"",easing:c.easing,scrollData:{container:c.container,direction:S,alternateValue:g}},element:e},w.debug&&console.log("tweensContainer (scroll): ",l.scroll,e)}else if("reverse"===M){if(!(f=i(e)))return;if(!f.tweensContainer)return void m.dequeue(e,c.queue);for(var A in"none"===f.opts.display&&(f.opts.display="auto"),"hidden"===f.opts.visibility&&(f.opts.visibility="visible"),f.opts.loop=!1,f.opts.begin=null,f.opts.complete=null,x.easing||delete c.easing,x.duration||delete c.duration,c=m.extend({},f.opts,c),p=m.extend(!0,{},f?f.tweensContainer:null))if(p.hasOwnProperty(A)&&"element"!==A){var E=p[A].startValue;p[A].startValue=p[A].currentValue=p[A].endValue,p[A].endValue=E,_.isEmptyObject(x)||(p[A].easing=c.easing),w.debug&&console.log("reverse tweensContainer ("+A+"): "+JSON.stringify(p[A]),e)}l=p}else if("start"===M){(f=i(e))&&f.tweensContainer&&!0===f.isAnimating&&(p=f.tweensContainer);var I=function(a,i){var o,u=T.Hooks.getRoot(a),d=!1,h=i[0],g=i[1],v=i[2];if(f&&f.isSVG||"tween"===u||!1!==T.Names.prefixCheck(u)[1]||T.Normalizations.registered[u]!==r){(c.display!==r&&null!==c.display&&"none"!==c.display||c.visibility!==r&&"hidden"!==c.visibility)&&/opacity|filter/.test(a)&&!v&&0!==h&&(v=0),c._cacheValues&&p&&p[a]?(v===r&&(v=p[a].endValue+p[a].unitType),d=f.rootPropertyValueCache[u]):T.Hooks.registered[a]?v===r?(d=T.getPropertyValue(e,u),v=T.getPropertyValue(e,a,d)):d=T.Hooks.templates[u][1]:v===r&&(v=T.getPropertyValue(e,a));var y,k,b,x=!1,S=function(e,t){var n,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,(function(e){return n=e,""})),n||(n=T.Values.getUnitType(e)),[r,n]};if(v!==h&&_.isString(v)&&_.isString(h)){o="";var P=0,C=0,M=[],D=[],O=0,A=0,E=0;for(v=T.Hooks.fixColors(v),h=T.Hooks.fixColors(h);P<v.length&&C<h.length;){var I=v[P],F=h[C];if(/[\d\.-]/.test(I)&&/[\d\.-]/.test(F)){for(var N=I,R=F,Y=".",j=".";++P<v.length;){if((I=v[P])===Y)Y="..";else if(!/\d/.test(I))break;N+=I}for(;++C<h.length;){if((F=h[C])===j)j="..";else if(!/\d/.test(F))break;R+=F}var H=T.Hooks.getUnit(v,P),W=T.Hooks.getUnit(h,C);if(P+=H.length,C+=W.length,H===W)N===R?o+=N+H:(o+="{"+M.length+(A?"!":"")+"}"+H,M.push(parseFloat(N)),D.push(parseFloat(R)));else{var V=parseFloat(N),z=parseFloat(R);o+=(O<5?"calc":"")+"("+(V?"{"+M.length+(A?"!":"")+"}":"0")+H+" + "+(z?"{"+(M.length+(V?1:0))+(A?"!":"")+"}":"0")+W+")",V&&(M.push(V),D.push(0)),z&&(M.push(0),D.push(z))}}else{if(I!==F){O=0;break}o+=I,P++,C++,0===O&&"c"===I||1===O&&"a"===I||2===O&&"l"===I||3===O&&"c"===I||O>=4&&"("===I?O++:(O&&O<5||O>=4&&")"===I&&--O<5)&&(O=0),0===A&&"r"===I||1===A&&"g"===I||2===A&&"b"===I||3===A&&"a"===I||A>=3&&"("===I?(3===A&&"a"===I&&(E=1),A++):E&&","===I?++E>3&&(A=E=0):(E&&A<(E?5:4)||A>=(E?4:3)&&")"===I&&--A<(E?5:4))&&(A=E=0)}}P===v.length&&C===h.length||(w.debug&&console.error('Trying to pattern match mis-matched strings ["'+h+'", "'+v+'"]'),o=r),o&&(M.length?(w.debug&&console.log('Pattern found "'+o+'" -> ',M,D,"["+v+","+h+"]"),v=M,h=D,k=b=""):o=r)}if(o||(v=(y=S(a,v))[0],b=y[1],h=(y=S(a,h))[0].replace(/^([+-\/*])=/,(function(e,t){return x=t,""})),k=y[1],v=parseFloat(v)||0,h=parseFloat(h)||0,"%"===k&&(/^(fontSize|lineHeight)$/.test(a)?(h/=100,k="em"):/^scale/.test(a)?(h/=100,k=""):/(Red|Green|Blue)$/i.test(a)&&(h=h/100*255,k=""))),/[\/*]/.test(x))k=b;else if(b!==k&&0!==v)if(0===h)k=b;else{s=s||function(){var r={myParent:e.parentNode||n.body,position:T.getPropertyValue(e,"position"),fontSize:T.getPropertyValue(e,"fontSize")},a=r.position===L.lastPosition&&r.myParent===L.lastParent,i=r.fontSize===L.lastFontSize;L.lastParent=r.myParent,L.lastPosition=r.position,L.lastFontSize=r.fontSize;var o={};if(i&&a)o.emToPx=L.lastEmToPx,o.percentToPxWidth=L.lastPercentToPxWidth,o.percentToPxHeight=L.lastPercentToPxHeight;else{var s=f&&f.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");w.init(s),r.myParent.appendChild(s),m.each(["overflow","overflowX","overflowY"],(function(e,t){w.CSS.setPropertyValue(s,t,"hidden")})),w.CSS.setPropertyValue(s,"position",r.position),w.CSS.setPropertyValue(s,"fontSize",r.fontSize),w.CSS.setPropertyValue(s,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],(function(e,t){w.CSS.setPropertyValue(s,t,"100%")})),w.CSS.setPropertyValue(s,"paddingLeft","100em"),o.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(T.getPropertyValue(s,"width",null,!0))||1)/100,o.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(T.getPropertyValue(s,"height",null,!0))||1)/100,o.emToPx=L.lastEmToPx=(parseFloat(T.getPropertyValue(s,"paddingLeft"))||1)/100,r.myParent.removeChild(s)}return null===L.remToPx&&(L.remToPx=parseFloat(T.getPropertyValue(n.body,"fontSize"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(t.innerWidth)/100,L.vhToPx=parseFloat(t.innerHeight)/100),o.remToPx=L.remToPx,o.vwToPx=L.vwToPx,o.vhToPx=L.vhToPx,w.debug>=1&&console.log("Unit ratios: "+JSON.stringify(o),e),o}();var B=/margin|padding|left|right|width|text|word|letter/i.test(a)||/X$/.test(a)||"x"===a?"x":"y";switch(b){case"%":v*="x"===B?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:v*=s[b+"ToPx"]}switch(k){case"%":v*=1/("x"===B?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:v*=1/s[k+"ToPx"]}}switch(x){case"+":h=v+h;break;case"-":h=v-h;break;case"*":h*=v;break;case"/":h=v/h}l[a]={rootPropertyValue:d,startValue:v,currentValue:v,endValue:h,unitType:k,easing:g},o&&(l[a].pattern=o),w.debug&&console.log("tweensContainer ("+a+"): "+JSON.stringify(l[a]),e)}else w.debug&&console.log("Skipping ["+u+"] due to a lack of browser support.")};for(var F in k)if(k.hasOwnProperty(F)){var N=T.Names.camelCase(F),R=function(t,n){var r,i,o;return _.isFunction(t)&&(t=t.call(e,a,D)),_.isArray(t)?(r=t[0],!_.isArray(t[1])&&/^[\d-]/.test(t[1])||_.isFunction(t[1])||T.RegEx.isHex.test(t[1])?o=t[1]:_.isString(t[1])&&!T.RegEx.isHex.test(t[1])&&w.Easings[t[1]]||_.isArray(t[1])?(i=u(t[1],c.duration),o=t[2]):o=t[1]||t[2]):r=t,i=i||c.easing,_.isFunction(r)&&(r=r.call(e,a,D)),_.isFunction(o)&&(o=o.call(e,a,D)),[r||0,i,o]}(k[F]);if(y(T.Lists.colors)){var Y=R[0],H=R[1],W=R[2];if(T.RegEx.isHex.test(Y)){for(var V=["Red","Green","Blue"],z=T.Values.hexToRgb(Y),B=W?T.Values.hexToRgb(W):r,G=0;G<V.length;G++){var U=[z[G]];H&&U.push(H),B!==r&&U.push(B[G]),I(N+V[G],U)}continue}}I(N,R)}l.element=e}l.element&&(T.Values.addClass(e,"velocity-animating"),j.push(l),(f=i(e))&&(""===c.queue&&(f.tweensContainer=l,f.opts=c),f.isAnimating=!0),O===D-1?(w.State.calls.push([j,v,c,null,C.resolver,null,0]),!1===w.State.isTicking&&(w.State.isTicking=!0,d())):O++)}var s,c=m.extend({},w.defaults,x),l={};switch(i(e)===r&&w.init(e),parseFloat(c.delay)&&!1!==c.queue&&m.queue(e,c.queue,(function(t,n){if(!0===n)return!0;w.velocityQueueEntryFlag=!0;var r=w.State.delayedElements.count++;w.State.delayedElements[r]=e;var a=function(e){return function(){w.State.delayedElements[e]=!1,t()}}(r);i(e).delayBegin=(new Date).getTime(),i(e).delay=parseFloat(c.delay),i(e).delayTimer={setTimeout:setTimeout(t,parseFloat(c.delay)),next:a}})),c.duration.toString().toLowerCase()){case"fast":c.duration=200;break;case"normal":c.duration=b;break;case"slow":c.duration=600;break;default:c.duration=parseFloat(c.duration)||1}if(!1!==w.mock&&(!0===w.mock?c.duration=c.delay=1:(c.duration*=parseFloat(w.mock)||1,c.delay*=parseFloat(w.mock)||1)),c.easing=u(c.easing,c.duration),c.begin&&!_.isFunction(c.begin)&&(c.begin=null),c.progress&&!_.isFunction(c.progress)&&(c.progress=null),c.complete&&!_.isFunction(c.complete)&&(c.complete=null),c.display!==r&&null!==c.display&&(c.display=c.display.toString().toLowerCase(),"auto"===c.display&&(c.display=w.CSS.Values.getDisplayType(e))),c.visibility!==r&&null!==c.visibility&&(c.visibility=c.visibility.toString().toLowerCase()),c.mobileHA=c.mobileHA&&w.State.isMobile&&!w.State.isGingerbread,!1===c.queue)if(c.delay){var f=w.State.delayedElements.count++;w.State.delayedElements[f]=e;var p=function(e){return function(){w.State.delayedElements[e]=!1,o()}}(f);i(e).delayBegin=(new Date).getTime(),i(e).delay=parseFloat(c.delay),i(e).delayTimer={setTimeout:setTimeout(o,parseFloat(c.delay)),next:p}}else o();else m.queue(e,c.queue,(function(e,t){if(!0===t)return C.promise&&C.resolver(v),!0;w.velocityQueueEntryFlag=!0,o()}));""!==c.queue&&"fx"!==c.queue||"inprogress"===m.queue(e)[0]||m.dequeue(e)}var l,p,h,g,v,k,x,S=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||_.isString(arguments[0].properties));_.isWrapped(this)?(p=!1,g=0,v=this,h=this):(p=!0,g=1,v=S?arguments[0].elements||arguments[0].e:arguments[0]);var C={promise:null,resolver:null,rejecter:null};if(p&&w.Promise&&(C.promise=new w.Promise((function(e,t){C.resolver=e,C.rejecter=t}))),S?(k=arguments[0].properties||arguments[0].p,x=arguments[0].options||arguments[0].o):(k=arguments[g],x=arguments[g+1]),v=a(v)){var M,D=v.length,O=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(k)&&!m.isPlainObject(x)){var A=g+1;x={};for(var E=A;E<arguments.length;E++)_.isArray(arguments[E])||!/^(fast|normal|slow)$/i.test(arguments[E])&&!/^\d/.test(arguments[E])?_.isString(arguments[E])||_.isArray(arguments[E])?x.easing=arguments[E]:_.isFunction(arguments[E])&&(x.complete=arguments[E]):x.duration=arguments[E]}switch(k){case"scroll":M="scroll";break;case"reverse":M="reverse";break;case"pause":var I=(new Date).getTime();return m.each(v,(function(e,t){o(t,I)})),m.each(w.State.calls,(function(e,t){var n=!1;t&&m.each(t[1],(function(e,a){var i=x===r?"":x;return!0!==i&&t[2].queue!==i&&(x!==r||!1!==t[2].queue)||(m.each(v,(function(e,r){if(r===a)return t[5]={resume:!1},n=!0,!1})),!n&&void 0)}))})),e();case"resume":return m.each(v,(function(e,t){s(t)})),m.each(w.State.calls,(function(e,t){var n=!1;t&&m.each(t[1],(function(e,a){var i=x===r?"":x;return!0!==i&&t[2].queue!==i&&(x!==r||!1!==t[2].queue)||!t[5]||(m.each(v,(function(e,r){if(r===a)return t[5].resume=!0,n=!0,!1})),!n&&void 0)}))})),e();case"finish":case"finishAll":case"stop":m.each(v,(function(e,t){i(t)&&i(t).delayTimer&&(clearTimeout(i(t).delayTimer.setTimeout),i(t).delayTimer.next&&i(t).delayTimer.next(),delete i(t).delayTimer),"finishAll"!==k||!0!==x&&!_.isString(x)||(m.each(m.queue(t,_.isString(x)?x:""),(function(e,t){_.isFunction(t)&&t()})),m.queue(t,_.isString(x)?x:"",[]))}));var F=[];return m.each(w.State.calls,(function(e,t){t&&m.each(t[1],(function(n,a){var o=x===r?"":x;if(!0!==o&&t[2].queue!==o&&(x!==r||!1!==t[2].queue))return!0;m.each(v,(function(n,r){if(r===a)if((!0===x||_.isString(x))&&(m.each(m.queue(r,_.isString(x)?x:""),(function(e,t){_.isFunction(t)&&t(null,!0)})),m.queue(r,_.isString(x)?x:"",[])),"stop"===k){var s=i(r);s&&s.tweensContainer&&(!0===o||""===o)&&m.each(s.tweensContainer,(function(e,t){t.endValue=t.currentValue})),F.push(e)}else"finish"!==k&&"finishAll"!==k||(t[2].duration=1)}))}))})),"stop"===k&&(m.each(F,(function(e,t){f(t,!0)})),C.promise&&C.resolver(v)),e();default:if(!m.isPlainObject(k)||_.isEmptyObject(k)){if(_.isString(k)&&w.Redirects[k]){var N=(l=m.extend({},x)).duration,R=l.delay||0;return!0===l.backwards&&(v=m.extend(!0,[],v).reverse()),m.each(v,(function(e,t){parseFloat(l.stagger)?l.delay=R+parseFloat(l.stagger)*e:_.isFunction(l.stagger)&&(l.delay=R+l.stagger.call(t,e,D)),l.drag&&(l.duration=parseFloat(N)||(/^(callout|transition)/.test(k)?1e3:b),l.duration=Math.max(l.duration*(l.backwards?1-e/D:(e+1)/D),.75*l.duration,200)),w.Redirects[k].call(t,t,l||{},e,D,v,C.promise?C:r)})),e()}var Y="Velocity: First argument ("+k+") was not a property map, a known action, or a registered redirect. Aborting.";return C.promise?C.rejecter(new Error(Y)):t.console&&console.log(Y),e()}M="start"}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},j=[];m.each(v,(function(e,t){_.isNode(t)&&c(t,e)})),(l=m.extend({},w.defaults,x)).loop=parseInt(l.loop,10);var H=2*l.loop-1;if(l.loop)for(var W=0;W<H;W++){var V={delay:l.delay,progress:l.progress};W===H-1&&(V.display=l.display,V.visibility=l.visibility,V.complete=l.complete),P(v,"reverse",V)}return e()}C.promise&&(k&&x&&!1===x.promiseRejectEmpty?C.resolver():C.rejecter())};(w=m.extend(P,w)).animate=P;var C=t.requestAnimationFrame||h;if(!w.State.isMobile&&n.hidden!==r){var M=function(){n.hidden?(C=function(e){return setTimeout((function(){e(!0)}),16)},d()):C=t.requestAnimationFrame||h};M(),n.addEventListener("visibilitychange",M)}return e.Velocity=w,e!==t&&(e.fn.velocity=P,e.fn.velocity.defaults=w.defaults),m.each(["Down","Up"],(function(e,t){w.Redirects["slide"+t]=function(e,n,a,i,o,s){var c=m.extend({},n),l=c.begin,u=c.complete,d={},f={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};c.display===r&&(c.display="Down"===t?"inline"===w.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),c.begin=function(){for(var n in 0===a&&l&&l.call(o,o),f)if(f.hasOwnProperty(n)){d[n]=e.style[n];var r=T.getPropertyValue(e,n);f[n]="Down"===t?[r,0]:[0,r]}d.overflow=e.style.overflow,e.style.overflow="hidden"},c.complete=function(){for(var t in d)d.hasOwnProperty(t)&&(e.style[t]=d[t]);a===i-1&&(u&&u.call(o,o),s&&s.resolver(o))},w(e,f,c)}})),m.each(["In","Out"],(function(e,t){w.Redirects["fade"+t]=function(e,n,a,i,o,s){var c=m.extend({},n),l=c.complete,u={opacity:"In"===t?1:0};0!==a&&(c.begin=null),c.complete=a!==i-1?null:function(){l&&l.call(o,o),s&&s.resolver(o)},c.display===r&&(c.display="In"===t?"auto":"none"),w(this,u,c)}})),w}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})),
/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
function($){$.fn.hoverIntent=function(e,t,n){var r,a,i,o,s={interval:100,sensitivity:6,timeout:0};s="object"==typeof e?$.extend(s,e):$.isFunction(t)?$.extend(s,{over:e,out:t,selector:n}):$.extend(s,{over:e,out:e,selector:t});var c=function(e){r=e.pageX,a=e.pageY},l=function(e,t){if(t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.sqrt((i-r)*(i-r)+(o-a)*(o-a))<s.sensitivity)return $(t).off("mousemove.hoverIntent",c),t.hoverIntent_s=!0,s.over.apply(t,[e]);i=r,o=a,t.hoverIntent_t=setTimeout((function(){l(e,t)}),s.interval)},u=function(e){var t=$.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===e.type?(i=t.pageX,o=t.pageY,$(n).on("mousemove.hoverIntent",c),n.hoverIntent_s||(n.hoverIntent_t=setTimeout((function(){l(t,n)}),s.interval))):($(n).off("mousemove.hoverIntent",c),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout((function(){!function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,s.out.apply(t,[e])}(t,n)}),s.timeout)))};return this.on({"mouseenter.hoverIntent":u,"mouseleave.hoverIntent":u},s.selector)}}(jQuery),
/**
 * @preserve jQuery DateTimePicker plugin v2.4.1
 * @homepage http://xdsoft.net/jqplugins/datetimepicker/
 * (c) 2014, Chupurnov Valeriy.
 */
function($){"use strict";var e={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","Ça","Ç","Ca","C","Ş"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeek:["нед","пон","вто","сре","чет","пет","саб"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeek:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeek:["Ne","Po","Ut","St","Št","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","čet","Pet","Sub"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeek:["нед","пон","уто","сре","чет","пет","суб"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeek:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],disabledDates:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r;for(n=t||0,r=this.length;n<r;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},$.fn.xdsoftScroller=function(e){return this.each((function(){var t,n,r,a,i,o=$(this),s=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(n.x=e.clientX,n.y=e.clientY),n},c=100,l=!1,u=0,d=0,f=0,m=!1,p=0,h=function(){};"hide"!==e?($(this).hasClass("xdsoft_scroller_box")||(t=o.children().eq(0),n=o[0].clientHeight,r=t[0].offsetHeight,a=$('<div class="xdsoft_scrollbar"></div>'),i=$('<div class="xdsoft_scroller"></div>'),a.append(i),o.addClass("xdsoft_scroller_box").append(a),h=function(e){var t=s(e).y-u+p;t<0&&(t=0),t+i[0].offsetHeight>f&&(t=f-i[0].offsetHeight),o.trigger("scroll_element.xdsoft_scroller",[c?t/c:0])},i.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",(function(t){n||o.trigger("resize_scroll.xdsoft_scroller",[e]),u=s(t).y,p=parseInt(i.css("margin-top"),10),f=a[0].offsetHeight,"mousedown"===t.type?(document&&$(document.body).addClass("xdsoft_noselect"),$([document.body,window]).on("mouseup.xdsoft_scroller",(function e(){$([document.body,window]).off("mouseup.xdsoft_scroller",e).off("mousemove.xdsoft_scroller",h).removeClass("xdsoft_noselect")})),$(document.body).on("mousemove.xdsoft_scroller",h)):(m=!0,t.stopPropagation(),t.preventDefault())})).on("touchmove",(function(e){m&&(e.preventDefault(),h(e))})).on("touchend touchcancel",(function(e){m=!1,p=0})),o.on("scroll_element.xdsoft_scroller",(function(e,r){n||o.trigger("resize_scroll.xdsoft_scroller",[r,!0]),r=r>1?1:r<0||isNaN(r)?0:r,i.css("margin-top",c*r),setTimeout((function(){t.css("marginTop",-parseInt((t[0].offsetHeight-n)*r,10))}),10)})).on("resize_scroll.xdsoft_scroller",(function(e,s,l){var u,d;n=o[0].clientHeight,r=t[0].offsetHeight,d=(u=n/r)*a[0].offsetHeight,u>1?i.hide():(i.show(),i.css("height",parseInt(d>10?d:10,10)),c=a[0].offsetHeight-i[0].offsetHeight,!0!==l&&o.trigger("scroll_element.xdsoft_scroller",[s||Math.abs(parseInt(t.css("marginTop"),10))/(r-n)]))})),o.on("mousewheel",(function(e){var a=Math.abs(parseInt(t.css("marginTop"),10));return(a-=20*e.deltaY)<0&&(a=0),o.trigger("scroll_element.xdsoft_scroller",[a/(r-n)]),e.stopPropagation(),!1})),o.on("touchstart",(function(e){l=s(e),d=Math.abs(parseInt(t.css("marginTop"),10))})),o.on("touchmove",(function(e){if(l){e.preventDefault();var t=s(e);o.trigger("scroll_element.xdsoft_scroller",[(d-(t.y-l.y))/(r-n)])}})),o.on("touchend touchcancel",(function(e){l=!1,d=0}))),o.trigger("resize_scroll.xdsoft_scroller",[e])):o.find(".xdsoft_scrollbar").hide()}))},$.fn.datetimepicker=function(t){var n,r,a,i=17,o=46,s=13,c=27,l=37,u=38,d=39,f=40,m=9,p=116,h=65,g=67,v=86,y=90,_=89,k=!1,b=$.isPlainObject(t)||!t?$.extend(!0,{},e,t):$.extend(!0,{},e),x=0;return n=function(e){var n,r,x,w,S,T=$("<div "+(b.id?'id="'+b.id+'"':"")+" "+(b.style?'style="'+b.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_'+b.theme+" xdsoft_noselect "+(b.weeks?" xdsoft_showweeks":"")+b.className+'"></div>'),P=$('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),C=$('<div class="xdsoft_datepicker active"></div>'),M=$('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),D=$('<div class="xdsoft_calendar"></div>'),O=$('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),A=O.find(".xdsoft_time_box").eq(0),E=$('<div class="xdsoft_time_variant"></div>'),I=$('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),F=$('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),N=!1,R=0;function Y(){var t,n=!1;return b.startDate?n=a.strToDate(b.startDate):(n=b.value||(e&&e.val&&e.val()?e.val():""))?n=a.strToDateTime(n):b.defaultDate&&(n=a.strToDate(b.defaultDate),b.defaultTime&&(t=a.strtotime(b.defaultTime),n.setHours(t.getHours()),n.setMinutes(t.getMinutes()))),n&&a.isValidDate(n)?T.data("changed",!0):n="",n||0}M.find(".xdsoft_month span").after(I),M.find(".xdsoft_year span").after(F),M.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",(function(e){var t,n,r=$(this).find(".xdsoft_select").eq(0),i=0,o=0,s=r.is(":visible");for(M.find(".xdsoft_select").hide(),a.currentTime&&(i=a.currentTime[$(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),r[s?"hide":"show"](),t=r.find("div.xdsoft_option"),n=0;n<t.length&&t.eq(n).data("value")!==i;n+=1)o+=t[0].offsetHeight;return r.xdsoftScroller(o/(r.children()[0].offsetHeight-r[0].clientHeight)),e.stopPropagation(),!1})),M.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",(function(e){e.stopPropagation(),e.preventDefault()})).on("mousedown.xdsoft",".xdsoft_option",(function(e){var t=a.currentTime.getFullYear();a&&a.currentTime&&a.currentTime[$(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"]($(this).data("value")),$(this).parent().parent().hide(),T.trigger("xchange.xdsoft"),b.onChangeMonth&&$.isFunction(b.onChangeMonth)&&b.onChangeMonth.call(T,a.currentTime,T.data("input")),t!==a.currentTime.getFullYear()&&$.isFunction(b.onChangeYear)&&b.onChangeYear.call(T,a.currentTime,T.data("input"))})),T.setOptions=function(t){if(b=$.extend(!0,{},b,t),t.allowTimes&&$.isArray(t.allowTimes)&&t.allowTimes.length&&(b.allowTimes=$.extend(!0,[],t.allowTimes)),t.weekends&&$.isArray(t.weekends)&&t.weekends.length&&(b.weekends=$.extend(!0,[],t.weekends)),t.disabledDates&&$.isArray(t.disabledDates)&&t.disabledDates.length&&(b.disabledDates=$.extend(!0,[],t.disabledDates)),!b.open&&!b.opened||b.inline||e.trigger("open.xdsoft"),b.inline&&(N=!0,T.addClass("xdsoft_inline"),e.after(T).hide()),b.inverseButton&&(b.next="xdsoft_prev",b.prev="xdsoft_next"),b.datepicker?C.addClass("active"):C.removeClass("active"),b.timepicker?O.addClass("active"):O.removeClass("active"),b.value&&(e&&e.val&&e.val(b.value),a.setCurrentTime(b.value)),isNaN(b.dayOfWeekStart)?b.dayOfWeekStart=0:b.dayOfWeekStart=parseInt(b.dayOfWeekStart,10)%7,b.timepickerScrollbar||A.xdsoftScroller("hide"),b.minDate&&/^-(.*)$/.test(b.minDate)&&(b.minDate=a.strToDateTime(b.minDate).dateFormat(b.formatDate)),b.maxDate&&/^\+(.*)$/.test(b.maxDate)&&(b.maxDate=a.strToDateTime(b.maxDate).dateFormat(b.formatDate)),M.find(".xdsoft_today_button").css("visibility",b.todayButton?"visible":"hidden"),b.mask){var n=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)};e.off("keydown.xdsoft"),!0===b.mask&&(b.mask=b.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===$.type(b.mask)&&(n(b.mask,e.val())||e.val(b.mask.replace(/[0-9]/g,"_")),e.on("keydown.xdsoft",(function(t){var r,a,x=this.value,w=t.which;if(w>=48&&w<=57||w>=96&&w<=105||8===w||w===o){for(r=function(e){try{if(document.selection&&document.selection.createRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2;if(e.setSelectionRange)return e.selectionStart}catch(e){return 0}}(this),a=8!==w&&w!==o?String.fromCharCode(96<=w&&w<=105?w-48:w):"_",8!==w&&w!==o||!r||(r-=1,a="_");/[^0-9_]/.test(b.mask.substr(r,1))&&r<b.mask.length&&r>0;)r+=8===w||w===o?-1:1;if(x=x.substr(0,r)+a+x.substr(r+1),""===$.trim(x))x=b.mask.replace(/[0-9]/g,"_");else if(r===b.mask.length)return t.preventDefault(),!1;for(r+=8===w||w===o?0:1;/[^0-9_]/.test(b.mask.substr(r,1))&&r<b.mask.length&&r>0;)r+=8===w||w===o?-1:1;n(b.mask,x)?(this.value=x,function(e,t){if(!(e="string"==typeof e||e instanceof String?document.getElementById(e):e))return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}!!e.setSelectionRange&&e.setSelectionRange(t,t)}(this,r)):""===$.trim(x)?this.value=b.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft")}else if(-1!==[h,g,v,y,_].indexOf(w)&&k||-1!==[c,u,f,l,d,p,i,m,s].indexOf(w))return!0;return t.preventDefault(),!1})))}b.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",(function(){b.allowBlank&&!$.trim($(this).val()).length?($(this).val(null),T.data("xdsoft_datetime").empty()):(Date.parseDate($(this).val(),b.format)||$(this).val(a.now().dateFormat(b.format)),T.data("xdsoft_datetime").setCurrentTime($(this).val())),T.trigger("changedatetime.xdsoft")})),b.dayOfWeekStartPrev=0===b.dayOfWeekStart?6:b.dayOfWeekStart-1,T.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},T.data("options",b).on("mousedown.xdsoft",(function(e){return e.stopPropagation(),e.preventDefault(),F.hide(),I.hide(),!1})),A.append(E),A.xdsoftScroller(),T.on("afterOpen.xdsoft",(function(){A.xdsoftScroller()})),T.append(C).append(O),!0!==b.withoutCopyright&&T.append(P),C.append(M).append(D),$(b.parentID).append(T),n=function(){var e=this;e.now=function(t){var n,r,a=new Date;return!t&&b.defaultDate&&(n=e.strToDate(b.defaultDate),a.setFullYear(n.getFullYear()),a.setMonth(n.getMonth()),a.setDate(n.getDate())),b.yearOffset&&a.setFullYear(a.getFullYear()+b.yearOffset),!t&&b.defaultTime&&(r=e.strtotime(b.defaultTime),a.setHours(r.getHours()),a.setMinutes(r.getMinutes())),a},e.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strToDateTime(t):e.isValidDate(t)?t:e.now(),T.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(t){return e.currentTime},e.nextMonth=function(){var t,n=e.currentTime.getMonth()+1;return 12===n&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),n=0),t=e.currentTime.getFullYear(),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),n+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(n),b.onChangeMonth&&$.isFunction(b.onChangeMonth)&&b.onChangeMonth.call(T,a.currentTime,T.data("input")),t!==e.currentTime.getFullYear()&&$.isFunction(b.onChangeYear)&&b.onChangeYear.call(T,a.currentTime,T.data("input")),T.trigger("xchange.xdsoft"),n},e.prevMonth=function(){var t=e.currentTime.getMonth()-1;return-1===t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),t=11),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),t+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(t),b.onChangeMonth&&$.isFunction(b.onChangeMonth)&&b.onChangeMonth.call(T,a.currentTime,T.data("input")),T.trigger("xchange.xdsoft"),t},e.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},e.strToDateTime=function(t){var n,r,i=[];return t&&t instanceof Date&&e.isValidDate(t)?t:((i=/^(\+|\-)(.*)$/.exec(t))&&(i[2]=Date.parseDate(i[2],b.formatDate)),i&&i[2]?(n=i[2].getTime()-6e4*i[2].getTimezoneOffset(),r=new Date(a.now().getTime()+parseInt(i[1]+"1",10)*n)):r=t?Date.parseDate(t,b.format):e.now(),e.isValidDate(r)||(r=e.now()),r)},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,b.formatDate):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,b.formatTime):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.str=function(){return e.currentTime.dateFormat(b.format)},e.currentTime=this.now()},a=new n,M.find(".xdsoft_today_button").on("mousedown.xdsoft",(function(){T.data("changed",!0),a.setCurrentTime(0),T.trigger("afterOpen.xdsoft")})).on("dblclick.xdsoft",(function(){e.val(a.str()),T.trigger("close.xdsoft")})),M.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",(function(){var e=$(this),t=0,n=!1;!function r(i){a.currentTime.getMonth();e.hasClass(b.next)?a.nextMonth():e.hasClass(b.prev)&&a.prevMonth(),b.monthChangeSpinner&&(n||(t=setTimeout(r,i||100)))}(500),$([document.body,window]).on("mouseup.xdsoft",(function e(){clearTimeout(t),n=!0,$([document.body,window]).off("mouseup.xdsoft",e)}))})),O.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",(function(){var e=$(this),t=0,n=!1,r=110;!function a(i){var o=A[0].clientHeight,s=E[0].offsetHeight,c=Math.abs(parseInt(E.css("marginTop"),10));e.hasClass(b.next)&&s-o-b.timeHeightInTimePicker>=c?E.css("marginTop","-"+(c+b.timeHeightInTimePicker)+"px"):e.hasClass(b.prev)&&c-b.timeHeightInTimePicker>=0&&E.css("marginTop","-"+(c-b.timeHeightInTimePicker)+"px"),A.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(E.css("marginTop"),10)/(s-o))]),r=r>10?10:r-10,n||(t=setTimeout(a,i||r))}(500),$([document.body,window]).on("mouseup.xdsoft",(function e(){clearTimeout(t),n=!0,$([document.body,window]).off("mouseup.xdsoft",e)}))})),r=0,T.on("xchange.xdsoft",(function(e){clearTimeout(r),r=setTimeout((function(){for(var e,n,r,i,o,s,c,l="",u=new Date(a.currentTime.getFullYear(),a.currentTime.getMonth(),1,12,0,0),d=0,f=a.now(),m=!1,p=!1,h=[],g=!0,v="";u.getDay()!==b.dayOfWeekStart;)u.setDate(u.getDate()-1);for(l+="<table><thead><tr>",b.weeks&&(l+="<th></th>"),e=0;e<7;e+=1)l+="<th>"+b.i18n[b.lang].dayOfWeek[(e+b.dayOfWeekStart)%7]+"</th>";for(l+="</tr></thead>",l+="<tbody>",!1!==b.maxDate&&(m=a.strToDate(b.maxDate),m=new Date(m.getFullYear(),m.getMonth(),m.getDate(),23,59,59,999)),!1!==b.minDate&&(p=a.strToDate(b.minDate),p=new Date(p.getFullYear(),p.getMonth(),p.getDate()));d<a.currentTime.countDaysInMonth()||u.getDay()!==b.dayOfWeekStart||a.currentTime.getMonth()===u.getMonth();)h=[],d+=1,n=u.getDate(),r=u.getFullYear(),i=u.getMonth(),o=a.getWeekOfYear(u),h.push("xdsoft_date"),s=b.beforeShowDay&&$.isFunction(b.beforeShowDay.call)?b.beforeShowDay.call(T,u):null,(!1!==m&&u>m||!1!==p&&u<p||s&&!1===s[0]||-1!==b.disabledDates.indexOf(u.dateFormat(b.formatDate)))&&h.push("xdsoft_disabled"),s&&""!==s[1]&&h.push(s[1]),a.currentTime.getMonth()!==i&&h.push("xdsoft_other_month"),(b.defaultSelect||T.data("changed"))&&a.currentTime.dateFormat(b.formatDate)===u.dateFormat(b.formatDate)&&h.push("xdsoft_current"),f.dateFormat(b.formatDate)===u.dateFormat(b.formatDate)&&h.push("xdsoft_today"),0!==u.getDay()&&6!==u.getDay()&&-1!==b.weekends.indexOf(u.dateFormat(b.formatDate))||h.push("xdsoft_weekend"),b.beforeShowDay&&$.isFunction(b.beforeShowDay)&&h.push(b.beforeShowDay(u)),g&&(l+="<tr>",g=!1,b.weeks&&(l+="<th>"+o+"</th>")),l+='<td data-date="'+n+'" data-month="'+i+'" data-year="'+r+'" class="xdsoft_date xdsoft_day_of_week'+u.getDay()+" "+h.join(" ")+'"><div>'+n+"</div></td>",u.getDay()===b.dayOfWeekStartPrev&&(l+="</tr>",g=!0),u.setDate(n+1);if(l+="</tbody></table>",D.html(l),M.find(".xdsoft_label span").eq(0).text(b.i18n[b.lang].months[a.currentTime.getMonth()]),M.find(".xdsoft_label span").eq(1).text(a.currentTime.getFullYear()),v="","",i="",c=function(e,t){var n=a.now();n.setHours(e),e=parseInt(n.getHours(),10),n.setMinutes(t),t=parseInt(n.getMinutes(),10),h=[],(!1!==b.maxTime&&a.strtotime(b.maxTime).getTime()<n.getTime()||!1!==b.minTime&&a.strtotime(b.minTime).getTime()>n.getTime())&&h.push("xdsoft_disabled"),(b.initTime||b.defaultSelect||T.data("changed"))&&parseInt(a.currentTime.getHours(),10)===parseInt(e,10)&&(b.step>59||Math[b.roundTime](a.currentTime.getMinutes()/b.step)*b.step===parseInt(t,10))&&(b.defaultSelect||T.data("changed")?h.push("xdsoft_current"):b.initTime&&h.push("xdsoft_init_time")),parseInt(f.getHours(),10)===parseInt(e,10)&&parseInt(f.getMinutes(),10)===parseInt(t,10)&&h.push("xdsoft_today"),v+='<div class="xdsoft_time '+h.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+n.dateFormat(b.formatTime)+"</div>"},b.allowTimes&&$.isArray(b.allowTimes)&&b.allowTimes.length)for(d=0;d<b.allowTimes.length;d+=1)c(a.strtotime(b.allowTimes[d]).getHours(),i=a.strtotime(b.allowTimes[d]).getMinutes());else for(d=0,e=0;d<(b.hours12?12:24);d+=1)for(e=0;e<60;e+=b.step)c((d<10?"0":"")+d,i=(e<10?"0":"")+e);for(E.html(v),t="",d=0,d=parseInt(b.yearStart,10)+b.yearOffset;d<=parseInt(b.yearEnd,10)+b.yearOffset;d+=1)t+='<div class="xdsoft_option '+(a.currentTime.getFullYear()===d?"xdsoft_current":"")+'" data-value="'+d+'">'+d+"</div>";for(F.children().eq(0).html(t),d=0,t="";d<=11;d+=1)t+='<div class="xdsoft_option '+(a.currentTime.getMonth()===d?"xdsoft_current":"")+'" data-value="'+d+'">'+b.i18n[b.lang].months[d]+"</div>";I.children().eq(0).html(t),$(T).trigger("generate.xdsoft")}),10),e.stopPropagation()})).on("afterOpen.xdsoft",(function(){var e,t,n,r;b.timepicker&&(E.find(".xdsoft_current").length?e=".xdsoft_current":E.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=A[0].clientHeight,(n=E[0].offsetHeight)-t<(r=E.find(e).index()*b.timeHeightInTimePicker+1)&&(r=n-t),A.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(n-t)])):A.trigger("scroll_element.xdsoft_scroller",[0]))})),x=0,D.on("click.xdsoft","td",(function(t){t.stopPropagation(),x+=1;var n=$(this),r=a.currentTime;if(null==r&&(a.currentTime=a.now(),r=a.currentTime),n.hasClass("xdsoft_disabled"))return!1;r.setDate(1),r.setFullYear(n.data("year")),r.setMonth(n.data("month")),r.setDate(n.data("date")),T.trigger("select.xdsoft",[r]),e.val(a.str()),(x>1||!0===b.closeOnDateSelect||0===b.closeOnDateSelect&&!b.timepicker)&&!b.inline&&T.trigger("close.xdsoft"),b.onSelectDate&&$.isFunction(b.onSelectDate)&&b.onSelectDate.call(T,a.currentTime,T.data("input"),t),T.data("changed",!0),T.trigger("xchange.xdsoft"),T.trigger("changedatetime.xdsoft"),setTimeout((function(){x=0}),200)})),E.on("click.xdsoft","div",(function(e){e.stopPropagation();var t=$(this),n=a.currentTime;if(null==n&&(a.currentTime=a.now(),n=a.currentTime),t.hasClass("xdsoft_disabled"))return!1;n.setHours(t.data("hour")),n.setMinutes(t.data("minute")),T.trigger("select.xdsoft",[n]),T.data("input").val(a.str()),b.inline||T.trigger("close.xdsoft"),b.onSelectTime&&$.isFunction(b.onSelectTime)&&b.onSelectTime.call(T,a.currentTime,T.data("input"),e),T.data("changed",!0),T.trigger("xchange.xdsoft"),T.trigger("changedatetime.xdsoft")})),C.on("mousewheel.xdsoft",(function(e){return!b.scrollMonth||(e.deltaY<0?a.nextMonth():a.prevMonth(),!1)})),e.on("mousewheel.xdsoft",(function(t){return!b.scrollInput||(!b.datepicker&&b.timepicker?((w=E.find(".xdsoft_current").length?E.find(".xdsoft_current").eq(0).index():0)+t.deltaY>=0&&w+t.deltaY<E.children().length&&(w+=t.deltaY),E.children().eq(w).length&&E.children().eq(w).trigger("mousedown"),!1):b.datepicker&&!b.timepicker?(C.trigger(t,[t.deltaY,t.deltaX,t.deltaY]),e.val&&e.val(a.str()),T.trigger("changedatetime.xdsoft"),!1):void 0)})),T.on("changedatetime.xdsoft",(function(e){if(b.onChangeDateTime&&$.isFunction(b.onChangeDateTime)){var t=T.data("input");b.onChangeDateTime.call(T,a.currentTime,t,e),delete b.value,t.trigger("change")}})).on("generate.xdsoft",(function(){b.onGenerate&&$.isFunction(b.onGenerate)&&b.onGenerate.call(T,a.currentTime,T.data("input")),N&&(T.trigger("afterOpen.xdsoft"),N=!1)})).on("click.xdsoft",(function(e){e.stopPropagation()})),w=0,S=function(){var e=T.data("input").offset(),t=e.top+T.data("input")[0].offsetHeight-1,n=e.left,r="absolute";b.fixed?(t-=$(window).scrollTop(),n-=$(window).scrollLeft(),r="fixed"):(t+T[0].offsetHeight>$(window).height()+$(window).scrollTop()&&(t=e.top-T[0].offsetHeight+1),t<0&&(t=0),n+T[0].offsetWidth>$(window).width()&&(n=$(window).width()-T[0].offsetWidth)),T.css({left:n,top:t,position:r})},T.on("open.xdsoft",(function(e){var t=!0;b.onShow&&$.isFunction(b.onShow)&&(t=b.onShow.call(T,a.currentTime,T.data("input"),e)),!1!==t&&(T.show(),S(),$(window).off("resize.xdsoft",S).on("resize.xdsoft",S),b.closeOnWithoutClick&&$([document.body,window]).on("mousedown.xdsoft",(function e(){T.trigger("close.xdsoft"),$([document.body,window]).off("mousedown.xdsoft",e)})))})).on("close.xdsoft",(function(e){var t=!0;M.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),b.onClose&&$.isFunction(b.onClose)&&(t=b.onClose.call(T,a.currentTime,T.data("input"),e)),!1===t||b.opened||b.inline||T.hide(),e.stopPropagation()})).on("toggle.xdsoft",(function(e){T.is(":visible")?T.trigger("close.xdsoft"):T.trigger("open.xdsoft")})).data("input",e),R=0,T.data("xdsoft_datetime",a),T.setOptions(b),a.setCurrentTime(Y()),e.data("xdsoft_datetimepicker",T).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",(function(t){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker").is(":visible")&&b.closeOnInputClick||(clearTimeout(R),R=setTimeout((function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(N=!0,a.setCurrentTime(Y()),T.trigger("open.xdsoft"))}),100))})).on("keydown.xdsoft",(function(e){this.value;var t,n=e.which;return-1!==[s].indexOf(n)&&b.enterLikeTab?(t=$("input:visible,textarea:visible"),T.trigger("close.xdsoft"),t.eq(t.index(this)+1).focus(),!1):-1!==[m].indexOf(n)?(T.trigger("close.xdsoft"),!0):void 0}))},r=function(e){var t=e.data("xdsoft_datetimepicker");t&&(t.data("xdsoft_datetime",null),t.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),$(window).off("resize.xdsoft"),$([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())},$(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",(function(e){e.keyCode===i&&(k=!0)})).on("keyup.xdsoftctrl",(function(e){e.keyCode===i&&(k=!1)})),this.each((function(){var e,a=$(this).data("xdsoft_datetimepicker");if(a){if("string"===$.type(t))switch(t){case"show":$(this).select().focus(),a.trigger("open.xdsoft");break;case"hide":a.trigger("close.xdsoft");break;case"toggle":a.trigger("toggle.xdsoft");break
;case"destroy":r($(this));break;case"reset":this.value=this.defaultValue,this.value&&a.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,b.format))||a.data("changed",!1),a.data("xdsoft_datetime").setCurrentTime(this.value)}else a.setOptions(t);return 0}"string"!==$.type(t)&&(!b.lazyInit||b.open||b.inline?n($(this)):(e=$(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",(function t(r){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker")||(clearTimeout(x),x=setTimeout((function(){e.data("xdsoft_datetimepicker")||n(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")}),100))})))}))},$.fn.datetimepicker.defaults=e}(jQuery),function(){var a;a=function(e){function t(t){var o=t||window.event,s=c.call(arguments,1),l=0,d=0,f=0,m=0,p=0,h=0;if((t=e.event.fix(o)).type="mousewheel","detail"in o&&(f=-1*o.detail),"wheelDelta"in o&&(f=o.wheelDelta),"wheelDeltaY"in o&&(f=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*f,f=0),l=0===f?d:f,"deltaY"in o&&(l=f=-1*o.deltaY),"deltaX"in o&&(d=o.deltaX,0===f&&(l=-1*d)),0!==f||0!==d){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,f*=g,d*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,f*=v,d*=v}if(m=Math.max(Math.abs(f),Math.abs(d)),(!i||i>m)&&(i=m,r(o,m)&&(i/=40)),r(o,m)&&(l/=40,d/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/i),d=Math[d>=1?"floor":"ceil"](d/i),f=Math[f>=1?"floor":"ceil"](f/i),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=t.clientX-y.left,h=t.clientY-y.top}return t.deltaX=d,t.deltaY=f,t.deltaFactor=i,t.offsetX=p,t.offsetY=h,t.deltaMode=0,s.unshift(t,l,d,f),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){i=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,i,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(e.event.fixHooks)for(var l=o.length;l;)e.event.fixHooks[o[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){return"unixtime"==e?parseInt(this.getTime()/1e3):(null==Date.formatFunctions[e]&&Date.createNewFormat(e),this[Date.formatFunctions[e]]())},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=7-new Date(this.getFullYear(),0,1).getDay()+4;return String.leftPad(Math.ceil((e-t)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return e<0?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return e<0?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var r=new String(e);for(null==n&&(n=" ");r.length<t;)r=n+r;return r},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}((function($){var e,t,n,r,a,i,o="Close",s="BeforeClose",c="MarkupParse",l="Open",u="Change",d="mfp",f=".mfp",m="mfp-ready",p="mfp-removing",h="mfp-prevent-close",g=function(){},v=!!window.jQuery,y=$(window),_=function(t,n){e.ev.on(d+t+f,n)},k=function(e,t,n,r){var a=document.createElement("div");return a.className="mfp-"+e,n&&(a.innerHTML=n),r?t&&t.appendChild(a):(a=$(a),t&&a.appendTo(t)),a},b=function(t,n){e.ev.triggerHandler(d+t,n),e.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),e.st.callbacks[t]&&e.st.callbacks[t].apply(e,$.isArray(n)?n:[n]))},x=function(t){return t===i&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=$(e.st.closeMarkup.replace("%title%",e.st.tClose)),i=t),e.currTemplate.closeBtn},w=function(){$.magnificPopup.instance||((e=new g).init(),$.magnificPopup.instance=e)};g.prototype={constructor:g,init:function(){var t=navigator.appVersion;e.isLowIE=e.isIE8=document.all&&!document.addEventListener,e.isAndroid=/android/gi.test(t),e.isIOS=/iphone|ipad|ipod/gi.test(t),e.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=$(document),e.popupsCache={}},open:function(t){var r;if(!1===t.isObj){e.items=t.items.toArray(),e.index=0;var i,o=t.items;for(r=0;r<o.length;r++)if((i=o[r]).parsed&&(i=i.el[0]),i===t.el[0]){e.index=r;break}}else e.items=$.isArray(t.items)?t.items:[t.items],e.index=t.index||0;if(!e.isOpen){e.types=[],a="",t.mainEl&&t.mainEl.length?e.ev=t.mainEl.eq(0):e.ev=n,t.key?(e.popupsCache[t.key]||(e.popupsCache[t.key]={}),e.currTemplate=e.popupsCache[t.key]):e.currTemplate={},e.st=$.extend(!0,{},$.magnificPopup.defaults,t),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=k("bg").on("click.mfp",(function(){e.close()})),e.wrap=k("wrap").attr("tabindex",-1).on("click.mfp",(function(t){e._checkIfClose(t.target)&&e.close()})),e.container=k("container",e.wrap)),e.contentContainer=k("content"),e.st.preloader&&(e.preloader=k("preloader",e.container,e.st.tLoading));var s=$.magnificPopup.modules;for(r=0;r<s.length;r++){var u=s[r];u=u.charAt(0).toUpperCase()+u.slice(1),e["init"+u].call(e)}b("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(_(c,(function(e,t,n,r){n.close_replaceWith=x(r.type)})),a+=" mfp-close-btn-in"):e.wrap.append(x())),e.st.alignTop&&(a+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:y.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup.mfp",(function(t){27===t.keyCode&&e.close()})),y.on("resize.mfp",(function(){e.updateSize()})),e.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&e.wrap.addClass(a);var d=e.wH=y.height(),f={};if(e.fixedContentPos&&e._hasScrollBar(d)){var p=e._getScrollbarSize();p&&(f.marginRight=p)}e.fixedContentPos&&(e.isIE7?$("body, html").css("overflow","hidden"):f.overflow="hidden");var h=e.st.mainClass;return e.isIE7&&(h+=" mfp-ie7"),h&&e._addClassToMFP(h),e.updateItemHTML(),b("BuildControls"),$("html").css(f),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||$(document.body)),e._lastFocusedEl=document.activeElement,setTimeout((function(){e.content?(e._addClassToMFP(m),e._setFocus()):e.bgOverlay.addClass(m),n.on("focusin.mfp",e._onFocusIn)}),16),e.isOpen=!0,e.updateSize(d),b(l),t}e.updateItemHTML()},close:function(){e.isOpen&&(b(s),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(p),setTimeout((function(){e._close()}),e.st.removalDelay)):e._close())},_close:function(){b(o);var t="mfp-removing mfp-ready ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(t+=e.st.mainClass+" "),e._removeClassFromMFP(t),e.fixedContentPos){var r={marginRight:""};e.isIE7?$("body, html").css("overflow",""):r.overflow="",$("html").css(r)}n.off("keyup.mfp focusin.mfp"),e.ev.off(f),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&$(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,b("AfterClose")},updateSize:function(t){if(e.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*n;e.wrap.css("height",r),e.wH=r}else e.wH=t||y.height();e.fixedContentPos||e.wrap.css("height",e.wH),b("Resize")},updateItemHTML:function(){var t=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),t.parsed||(t=e.parseEl(e.index));var n=t.type;if(b("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=t,!e.currTemplate[n]){var a=!!e.st[n]&&e.st[n].markup;b("FirstMarkupParse",a),e.currTemplate[n]=!a||$(a)}r&&r!==t.type&&e.container.removeClass("mfp-"+r+"-holder");var i=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](t,e.currTemplate[n]);e.appendContent(i,n),t.preloaded=!0,b(u,t),r=t.type,e.container.prepend(e.contentContainer),b("AfterChange")},appendContent:function(t,n){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[n]?e.content.find(".mfp-close").length||e.content.append(x()):e.content=t:e.content="",b("BeforeAppend"),e.container.addClass("mfp-"+n+"-holder"),e.contentContainer.append(e.content)},parseEl:function(t){var n,r=e.items[t];if(r.tagName?r={el:$(r)}:(n=r.type,r={data:r,src:r.src}),r.el){for(var a=e.types,i=0;i<a.length;i++)if(r.el.hasClass("mfp-"+a[i])){n=a[i];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=n||e.st.type||"inline",r.index=t,r.parsed=!0,e.items[t]=r,b("ElementParse",r),e.items[t]},addGroup:function(t,n){var r=function(r){r.mfpEl=this,e._openClick(r,t,n)};n||(n={});var a="click.magnificPopup";n.mainEl=t,n.items?(n.isObj=!0,t.off(a).on(a,r)):(n.isObj=!1,n.delegate?t.off(a).on(a,n.delegate,r):(n.items=t,t.off(a).on(a,r)))},_openClick:function(t,n,r){if((void 0!==r.midClick?r.midClick:$.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var a=void 0!==r.disableOn?r.disableOn:$.magnificPopup.defaults.disableOn;if(a)if($.isFunction(a)){if(!a.call(e))return!0}else if(y.width()<a)return!0;t.type&&(t.preventDefault(),e.isOpen&&t.stopPropagation()),r.el=$(t.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),e.open(r)}},updateStatus:function(n,r){if(e.preloader){t!==n&&e.container.removeClass("mfp-s-"+t),r||"loading"!==n||(r=e.st.tLoading);var a={status:n,text:r};b("UpdateStatus",a),n=a.status,r=a.text,e.preloader.html(r),e.preloader.find("a").on("click",(function(e){e.stopImmediatePropagation()})),e.container.addClass("mfp-s-"+n),t=n}},_checkIfClose:function(t){if(!$(t).hasClass(h)){var n=e.st.closeOnContentClick,r=e.st.closeOnBgClick;if(n&&r)return!0;if(!e.content||$(t).hasClass("mfp-close")||e.preloader&&t===e.preloader[0])return!0;if(t===e.content[0]||$.contains(e.content[0],t)){if(n)return!0}else if(r&&$.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||y.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(t){if(t.target!==e.wrap[0]&&!$.contains(e.wrap[0],t.target))return e._setFocus(),!1},_parseMarkup:function(e,t,n){var r;n.data&&(t=$.extend(n.data,t)),b(c,[e,t,n]),$.each(t,(function(t,n){if(void 0===n||!1===n)return!0;if((r=t.split("_")).length>1){var a=e.find(".mfp-"+r[0]);if(a.length>0){var i=r[1];"replaceWith"===i?a[0]!==n[0]&&a.replaceWith(n):"img"===i?a.is("img")?a.attr("src",n):a.replaceWith($("<img>").attr("src",n).attr("class",a.attr("class"))):a.attr(r[1],n)}}else e.find(".mfp-"+t).html(n)}))},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},$.magnificPopup={instance:null,proto:g.prototype,modules:[],open:function(e,t){return w(),(e=e?$.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&($.magnificPopup.defaults[e]=t.options),$.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},$.fn.magnificPopup=function(t){w();var n=$(this);if("string"==typeof t)if("open"===t){var r,a=v?n.data("magnificPopup"):n[0].magnificPopup,i=parseInt(arguments[1],10)||0;a.items?r=a.items[i]:(r=n,a.delegate&&(r=r.find(a.delegate)),r=r.eq(i)),e._openClick({mfpEl:r},n,a)}else e.isOpen&&e[t].apply(e,Array.prototype.slice.call(arguments,1));else t=$.extend(!0,{},t),v?n.data("magnificPopup",t):n[0].magnificPopup=t,e.addGroup(n,t);return n};var S,T,P,C="inline",M=function(){P&&(T.after(P.addClass(S)).detach(),P=null)};$.magnificPopup.registerModule(C,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(C),_("Close.inline",(function(){M()}))},getInline:function(t,n){if(M(),t.src){var r=e.st.inline,a=$(t.src);if(a.length){var i=a[0].parentNode;i&&i.tagName&&(T||(S=r.hiddenClass,T=k(S),S="mfp-"+S),P=a.after(T).detach().removeClass(S)),e.updateStatus("ready")}else e.updateStatus("error",r.tNotFound),a=$("<div>");return t.inlineElement=a,a}return e.updateStatus("ready"),e._parseMarkup(n,{},t),n}}});var D,O="ajax",A=function(){D&&$(document.body).removeClass(D)},E=function(){A(),e.req&&e.req.abort()};$.magnificPopup.registerModule(O,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(O),D=e.st.ajax.cursor,_("Close.ajax",E),_("BeforeChange.ajax",E)},getAjax:function(t){D&&$(document.body).addClass(D),e.updateStatus("loading");var n=$.extend({url:t.src,success:function(n,r,a){var i={data:n,xhr:a};b("ParseAjax",i),e.appendContent($(i.data),O),t.finished=!0,A(),e._setFocus(),setTimeout((function(){e.wrap.addClass(m)}),16),e.updateStatus("ready"),b("AjaxContentAdded")},error:function(){A(),t.finished=t.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",t.src))}},e.st.ajax.settings);return e.req=$.ajax(n),""}}});var I,F=function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var n=e.st.image.titleSrc;if(n){if($.isFunction(n))return n.call(e,t);if(t.el)return t.el.attr(n)||""}return""};$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=e.st.image,n=".image";e.types.push("image"),_("Open.image",(function(){"image"===e.currItem.type&&t.cursor&&$(document.body).addClass(t.cursor)})),_("Close.image",(function(){t.cursor&&$(document.body).removeClass(t.cursor),y.off("resize.mfp")})),_("Resize"+n,e.resizeImage),e.isLowIE&&_("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var n=0;e.isLowIE&&(n=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-n)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,I&&clearInterval(I),t.isCheckingImgSize=!1,b("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var n=0,r=t.img[0],a=function(i){I&&clearInterval(I),I=setInterval((function(){r.naturalWidth>0?e._onImageHasSize(t):(n>200&&clearInterval(I),3===++n?a(10):40===n?a(50):100===n&&a(500))}),i)};a(1)},getImage:function(t,n){var r=0,a=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===e.currItem&&(e._onImageHasSize(t),e.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,b("ImageLoadComplete")):++r<200?setTimeout(a,100):i())},i=function(){t&&(t.img.off(".mfploader"),t===e.currItem&&(e._onImageHasSize(t),e.updateStatus("error",o.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},o=e.st.image,s=n.find(".mfp-img");if(s.length){var c=document.createElement("img");c.className="mfp-img",t.el&&t.el.find("img").length&&(c.alt=t.el.find("img").attr("alt")),t.img=$(c).on("load.mfploader",a).on("error.mfploader",i),c.src=t.src,s.is("img")&&(t.img=t.img.clone()),(c=t.img[0]).naturalWidth>0?t.hasSize=!0:c.width||(t.hasSize=!1)}return e._parseMarkup(n,{title:F(t),img_replaceWith:t.img},t),e.resizeImage(),t.hasSize?(I&&clearInterval(I),t.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",o.tError.replace("%url%",t.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(t)),n)}}});var N;$.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var t,n=e.st.zoom,r=".zoom";if(n.enabled&&e.supportsTransition){var a,i,o=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+n.duration/1e3+"s "+n.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},i="transition";return a["-webkit-"+i]=a["-moz-"+i]=a["-o-"+i]=a[i]=r,t.css(a),t},c=function(){e.content.css("visibility","visible")};_("BuildControls"+r,(function(){if(e._allowZoom()){if(clearTimeout(a),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void c();(i=s(t)).css(e._getOffset()),e.wrap.append(i),a=setTimeout((function(){i.css(e._getOffset(!0)),a=setTimeout((function(){c(),setTimeout((function(){i.remove(),t=i=null,b("ZoomAnimationEnded")}),16)}),o)}),16)}})),_("BeforeClose.zoom",(function(){if(e._allowZoom()){if(clearTimeout(a),e.st.removalDelay=o,!t){if(!(t=e._getItemToZoom()))return;i=s(t)}i.css(e._getOffset(!0)),e.wrap.append(i),e.content.css("visibility","hidden"),setTimeout((function(){i.css(e._getOffset())}),16)}})),_("Close.zoom",(function(){e._allowZoom()&&(c(),i&&i.remove(),t=null)}))}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(t){var n,r=(n=t?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),a=parseInt(n.css("padding-top"),10),i=parseInt(n.css("padding-bottom"),10);r.top-=$(window).scrollTop()-a;var o={width:n.width(),height:(v?n.innerHeight():n[0].offsetHeight)-i-a};return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N?o["-moz-transform"]=o.transform="translate("+r.left+"px,"+r.top+"px)":(o.left=r.left,o.top=r.top),o}}});var R="iframe",Y=function(t){if(e.currTemplate.iframe){var n=e.currTemplate.iframe.find("iframe");n.length&&(t||(n[0].src="//about:blank"),e.isIE8&&n.css("display",t?"block":"none"))}};$.magnificPopup.registerModule(R,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(R),_("BeforeChange",(function(e,t,n){t!==n&&(t===R?Y():n===R&&Y(!0))})),_("Close.iframe",(function(){Y()}))},getIframe:function(t,n){var r=t.src,a=e.st.iframe;$.each(a.patterns,(function(){if(r.indexOf(this.index)>-1)return this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1}));var i={};return a.srcAction&&(i[a.srcAction]=r),e._parseMarkup(n,i,t),e.updateStatus("ready"),n}}});var L=function(t){var n=e.items.length;return t>n-1?t-n:t<0?n+t:t},j=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};$.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var t=e.st.gallery,r=".mfp-gallery";if(e.direction=!0,!t||!t.enabled)return!1;a+=" mfp-gallery",_(l+r,(function(){t.navigateByImgClick&&e.wrap.on("click"+r,".mfp-img",(function(){if(e.items.length>1)return e.next(),!1})),n.on("keydown"+r,(function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()}))})),_("UpdateStatus"+r,(function(t,n){n.text&&(n.text=j(n.text,e.currItem.index,e.items.length))})),_(c+r,(function(n,r,a,i){var o=e.items.length;a.counter=o>1?j(t.tCounter,i.index,o):""})),_("BuildControls"+r,(function(){if(e.items.length>1&&t.arrows&&!e.arrowLeft){var n=t.arrowMarkup,r=e.arrowLeft=$(n.replace(/%title%/gi,t.tPrev).replace(/%dir%/gi,"left")).addClass(h),a=e.arrowRight=$(n.replace(/%title%/gi,t.tNext).replace(/%dir%/gi,"right")).addClass(h);r.click((function(){e.prev()})),a.click((function(){e.next()})),e.container.append(r.add(a))}})),_(u+r,(function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout((function(){e.preloadNearbyImages(),e._preloadTimeout=null}),16)})),_(o+r,(function(){n.off(r),e.wrap.off("click"+r),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=L(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=L(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,n=e.st.gallery.preload,r=Math.min(n[0],e.items.length),a=Math.min(n[1],e.items.length);for(t=1;t<=(e.direction?a:r);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?r:a);t++)e._preloadItem(e.index-t)},_preloadItem:function(t){if(t=L(t),!e.items[t].preloaded){var n=e.items[t];n.parsed||(n=e.parseEl(t)),b("LazyLoad",n),"image"===n.type&&(n.img=$('<img class="mfp-img" />').on("load.mfploader",(function(){n.hasSize=!0})).on("error.mfploader",(function(){n.hasSize=!0,n.loadError=!0,b("LazyLoadError",n)})).attr("src",n.src)),n.preloaded=!0}}}});var H="retina";$.magnificPopup.registerModule(H,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,(function(e){return"@2x"+e}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,n=t.ratio;(n=isNaN(n)?n():n)>1&&(_("ImageHasSize.retina",(function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})})),_("ElementParse.retina",(function(e,r){r.src=t.replaceSrc(r,n)})))}}}}),w()})),function(){var e,t,n,r,a,i,o,s,c,l,u,d,f,m,p,h,g,v,y,_,k,b=[].slice,x=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};$.payment={},$.payment.fn={},$.fn.payment=function(){var e,t;return t=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],$.payment.fn[t].apply(this,e)},r=/(\d{1,4})/g,$.payment.cards=n=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:r,
length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[0-5]/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0}],e=function(e){var t,r,a;for(e=(e+"").replace(/\D/g,""),r=0,a=n.length;r<a;r++)if((t=n[r]).pattern.test(e))return t},t=function(e){var t,r,a;for(r=0,a=n.length;r<a;r++)if((t=n[r]).type===e)return t},d=function(e){var t,n,r,a,i,o;for(r=!0,a=0,i=0,o=(n=(e+"").split("").reverse()).length;i<o;i++)t=n[i],t=parseInt(t,10),(r=!r)&&(t*=2),t>9&&(t-=9),a+=t;return a%10==0},u=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")||!(null==("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)||!document.selection.createRange().text)},h=function(e){return setTimeout((function(){var t,n;return n=(n=(t=$(e.currentTarget)).val()).replace(/\D/g,""),t.val(n)}))},m=function(e){return setTimeout((function(){var t,n;return n=(t=$(e.currentTarget)).val(),n=$.payment.formatCardNumber(n),t.val(n)}))},o=function(t){var n,r,a,i,o,s,c;if(a=String.fromCharCode(t.which),/^\d+$/.test(a)&&(n=$(t.currentTarget),c=n.val(),r=e(c+a),i=(c.replace(/\D/g,"")+a).length,s=16,r&&(s=r.length[r.length.length-1]),!(i>=s||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==c.length)))return(o=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/).test(c)?(t.preventDefault(),setTimeout((function(){return n.val(c+" "+a)}))):o.test(c+a)?(t.preventDefault(),setTimeout((function(){return n.val(c+a+" ")}))):void 0},a=function(e){var t,n;if(t=$(e.currentTarget),n=t.val(),8===e.which&&(null==t.prop("selectionStart")||t.prop("selectionStart")===n.length))return/\d\s$/.test(n)?(e.preventDefault(),setTimeout((function(){return t.val(n.replace(/\d\s$/,""))}))):/\s\d?$/.test(n)?(e.preventDefault(),setTimeout((function(){return t.val(n.replace(/\d$/,""))}))):void 0},p=function(e){return setTimeout((function(){var t,n;return n=(t=$(e.currentTarget)).val(),n=$.payment.formatExpiry(n),t.val(n)}))},s=function(e){var t,n,r;if(n=String.fromCharCode(e.which),/^\d+$/.test(n))return t=$(e.currentTarget),r=t.val()+n,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(e.preventDefault(),setTimeout((function(){return t.val("0"+r+" / ")}))):/^\d\d$/.test(r)?(e.preventDefault(),setTimeout((function(){return t.val(r+" / ")}))):void 0},c=function(e){var t,n,r;if(n=String.fromCharCode(e.which),/^\d+$/.test(n))return r=(t=$(e.currentTarget)).val(),/^\d\d$/.test(r)?t.val(r+" / "):void 0},l=function(e){var t,n,r;if("/"===(r=String.fromCharCode(e.which))||" "===r)return n=(t=$(e.currentTarget)).val(),/^\d$/.test(n)&&"0"!==n?t.val("0"+n+" / "):void 0},i=function(e){var t,n;if(t=$(e.currentTarget),n=t.val(),8===e.which&&(null==t.prop("selectionStart")||t.prop("selectionStart")===n.length))return/\d\s\/\s$/.test(n)?(e.preventDefault(),setTimeout((function(){return t.val(n.replace(/\d\s\/\s$/,""))}))):void 0},f=function(e){return setTimeout((function(){var t,n;return n=(n=(t=$(e.currentTarget)).val()).replace(/\D/g,"").slice(0,4),t.val(n)}))},_=function(e){var t;return!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))))},v=function(t){var n,r,a,i;if(n=$(t.currentTarget),a=String.fromCharCode(t.which),/^\d+$/.test(a)&&!u(n))return i=(n.val()+a).replace(/\D/g,""),(r=e(i))?i.length<=r.length[r.length.length-1]:i.length<=16},y=function(e){var t,n;if(t=$(e.currentTarget),n=String.fromCharCode(e.which),/^\d+$/.test(n)&&!u(t))return!((t.val()+n).replace(/\D/g,"").length>6)&&void 0},g=function(e){var t,n;if(t=$(e.currentTarget),n=String.fromCharCode(e.which),/^\d+$/.test(n)&&!u(t))return(t.val()+n).length<=4},k=function(e){var t,r,a,i,o;if(o=(t=$(e.currentTarget)).val(),i=$.payment.cardType(o)||"unknown",!t.hasClass(i))return r=function(){var e,t,r;for(r=[],e=0,t=n.length;e<t;e++)a=n[e],r.push(a.type);return r}(),t.removeClass("unknown"),t.removeClass(r.join(" ")),t.addClass(i),t.toggleClass("identified","unknown"!==i),t.trigger("payment.cardType",i)},$.payment.fn.formatCardCVC=function(){return this.on("keypress",_),this.on("keypress",g),this.on("paste",f),this.on("change",f),this.on("input",f),this},$.payment.fn.formatCardExpiry=function(){return this.on("keypress",_),this.on("keypress",y),this.on("keypress",s),this.on("keypress",l),this.on("keypress",c),this.on("keydown",i),this.on("change",p),this.on("input",p),this},$.payment.fn.formatCardNumber=function(){return this.on("keypress",_),this.on("keypress",v),this.on("keypress",o),this.on("keydown",a),this.on("keyup",k),this.on("paste",m),this.on("change",m),this.on("input",m),this.on("input",k),this},$.payment.fn.restrictNumeric=function(){return this.on("keypress",_),this.on("paste",h),this.on("change",h),this.on("input",h),this},$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val())},$.payment.cardExpiryVal=function(e){var t,n,r;return t=(r=(e=e.replace(/\s/g,"")).split("/",2))[0],2===(null!=(n=r[1])?n.length:void 0)&&/^\d+$/.test(n)&&(n=(new Date).getFullYear().toString().slice(0,2)+n),{month:t=parseInt(t,10),year:n=parseInt(n,10)}},$.payment.validateCardNumber=function(t){var n,r;return t=(t+"").replace(/\s+|-/g,""),!!/^\d+$/.test(t)&&(!!(n=e(t))&&(r=t.length,x.call(n.length,r)>=0&&(!1===n.luhn||d(t))))},$.payment.validateCardExpiry=function(e,t){var n,r,a;return"object"==typeof e&&"month"in e&&(e=(a=e).month,t=a.year),!(!e||!t)&&(e=$.trim(e),t=$.trim(t),!!/^\d+$/.test(e)&&(!!/^\d+$/.test(t)&&(1<=e&&e<=12&&(2===t.length&&(t=t<70?"20"+t:"19"+t),4===t.length&&(r=new Date(t,e),n=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>n)))))},$.payment.validateCardCVC=function(e,n){var r,a;return e=$.trim(e),!!/^\d+$/.test(e)&&(null!=(r=t(n))?(a=e.length,x.call(r.cvcLength,a)>=0):e.length>=3&&e.length<=4)},$.payment.cardType=function(t){var n;return t&&(null!=(n=e(t))?n.type:void 0)||null},$.payment.formatCardNumber=function(t){var n,r,a,i;return t=t.replace(/\D/g,""),(n=e(t))?(a=n.length[n.length.length-1],t=t.slice(0,a),n.format.global?null!=(i=t.match(n.format))?i.join(" "):void 0:null!=(r=n.format.exec(t))?(r.shift(),(r=$.grep(r,(function(e){return e}))).join(" ")):void 0):t},$.payment.formatExpiry=function(e){var t,n,r,a;return(n=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=n[1]||"",r=n[2]||"",(a=n[3]||"").length>0?r=" / ":" /"===r?(t=t.substring(0,1),r=""):2===t.length||r.length>0?r=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,r=" / "),t+r+a):""}}.call(this),function($,e,t){var n={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(e){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};function r(e,t){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=$(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=$.extend({},n,t),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function a(e,t){var n=!0;return $.each(e,(function(r,a){if(void 0===t[r]||e[r]!==t[r])return n=!1,!1})),n}r.prototype={_init:function(){var e=this;if(t.querySelector){var n=null;void 0===e.$el.data("tooltipster-initialTitle")&&(void 0===(n=e.$el.attr("title"))&&(n=null),e.$el.data("tooltipster-initialTitle",n)),null!==e.options.content?e._content_set(e.options.content):e._content_set(n);var r=e.options.functionInit.call(e.$el,e.$el,e.Content);void 0!==r&&e._content_set(r),e.$el.removeAttr("title").addClass("tooltipstered"),!i&&e.options.iconDesktop||i&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=$('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,(function(){s()&&!e.options.touchDevices||(e.mouseIsOverProxy=!0,e._show())})).on("mouseleave."+e.namespace,(function(){s()&&!e.options.touchDevices||(e.mouseIsOverProxy=!1)})),i&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,(function(){e._showNow()}))):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,(function(){s()&&!e.options.touchDevices||e._show()}))}},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout((function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()}),e.options.delay):e._showNow())},_showNow:function(t){var n=this;n.options.functionBefore.call(n.$el,n.$el,(function(){if(n.enabled&&null!==n.Content){t&&n.callbacks.show.push(t),n.callbacks.hide=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null,n.options.onlyOne&&$(".tooltipstered").not(n.$el).each((function(e,t){var n=$(t),r=n.data("tooltipster-ns");$.each(r,(function(e,t){var r=n.data(t),a=r.status(),i=r.option("autoClose");"hidden"!==a&&"disappearing"!==a&&i&&r.hide()}))}));var r=function(){n.Status="shown",$.each(n.callbacks.show,(function(e,t){t.call(n.$el)})),n.callbacks.show=[]};if("hidden"!==n.Status){var a=0;"disappearing"===n.Status?(n.Status="appearing",c()?(n.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+n.options.animation+"-show"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(r)):n.$tooltip.stop().fadeIn(r)):"shown"===n.Status&&r()}else{n.Status="appearing";a=n.options.speed;n.bodyOverflowX=$("body").css("overflow-x"),$("body").css("overflow-x","hidden");var o="tooltipster-"+n.options.animation,s="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",l=n.options.minWidth?"min-width:"+Math.round(n.options.minWidth)+"px;":"",u=n.options.maxWidth?"max-width:"+Math.round(n.options.maxWidth)+"px;":"",d=n.options.interactive?"pointer-events: auto;":"";if(n.$tooltip=$('<div class="tooltipster-base '+n.options.theme+'" style="'+l+" "+u+" "+d+" "+s+'"><div class="tooltipster-content"></div></div>'),c()&&n.$tooltip.addClass(o),n._content_insert(),n.$tooltip.appendTo("body"),n.reposition(),n.options.functionReady.call(n.$el,n.$el,n.$tooltip),c()?(n.$tooltip.addClass(o+"-show"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(r)):n.$tooltip.css("display","none").fadeIn(n.options.speed,r),n._interval_set(),$(e).on("scroll."+n.namespace+" resize."+n.namespace,(function(){n.reposition()})),n.options.autoClose)if($("body").off("."+n.namespace),"hover"==n.options.trigger){if(i&&setTimeout((function(){$("body").on("touchstart."+n.namespace,(function(){n.hide()}))}),0),n.options.interactive){i&&n.$tooltip.on("touchstart."+n.namespace,(function(e){e.stopPropagation()}));var f=null;n.$elProxy.add(n.$tooltip).on("mouseleave."+n.namespace+"-autoClose",(function(){clearTimeout(f),f=setTimeout((function(){n.hide()}),n.options.interactiveTolerance)})).on("mouseenter."+n.namespace+"-autoClose",(function(){clearTimeout(f)}))}else n.$elProxy.on("mouseleave."+n.namespace+"-autoClose",(function(){n.hide()}));n.options.hideOnClick&&n.$elProxy.on("click."+n.namespace+"-autoClose",(function(){n.hide()}))}else"click"==n.options.trigger&&(setTimeout((function(){$("body").on("click."+n.namespace+" touchstart."+n.namespace,(function(){n.hide()}))}),0),n.options.interactive&&n.$tooltip.on("click."+n.namespace+" touchstart."+n.namespace,(function(e){e.stopPropagation()})))}n.options.timer>0&&(n.timerHide=setTimeout((function(){n.timerHide=null,n.hide()}),n.options.timer+a))}}))},_interval_set:function(){var e=this;e.checkInterval=setInterval((function(){if(0===$("body").find(e.$el).length||0===$("body").find(e.$elProxy).length||"hidden"==e.Status||0===$("body").find(e.$tooltip).length)"shown"!=e.Status&&"appearing"!=e.Status||e.hide(),e._interval_cancel();else if(e.options.positionTracker){var t=e._repositionInfo(e.$elProxy),n=!1;a(t.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?a(t.position,e.elProxyPosition.position)&&(n=!0):a(t.offset,e.elProxyPosition.offset)&&(n=!0)),n||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}}),200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");"string"!=typeof e.Content||e.options.contentAsHTML?t.empty().append(e.Content):t.text(e.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation&&(c()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})}),t.options.speed))}),t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,(function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)})))):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(t){var n=this;t&&n.callbacks.hide.push(t),n.callbacks.show=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null;var r=function(){$.each(n.callbacks.hide,(function(e,t){t.call(n.$el)})),n.callbacks.hide=[]};if("shown"==n.Status||"appearing"==n.Status){n.Status="disappearing";var a=function(){n.Status="hidden","object"==typeof n.Content&&null!==n.Content&&n.Content.detach(),n.$tooltip.remove(),n.$tooltip=null,$(e).off("."+n.namespace),$("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX),$("body").off("."+n.namespace),n.$elProxy.off("."+n.namespace+"-autoClose"),n.options.functionAfter.call(n.$el,n.$el),r()};c()?(n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(a)):n.$tooltip.stop().fadeOut(n.options.speed,a)}else"hidden"==n.Status&&r();return n},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return void 0===e?this.Content:(this._update(e),this)},reposition:function(){var t=this;if(0!==$("body").find(t.$tooltip).length){t.$tooltip.css("width",""),t.elProxyPosition=t._repositionInfo(t.$elProxy);var n=null,r=$(e).width(),a=t.elProxyPosition,i=t.$tooltip.outerWidth(!1),o=(t.$tooltip.innerWidth(),t.$tooltip.outerHeight(!1));if(t.$elProxy.is("area")){var s=t.$elProxy.attr("shape"),c=t.$elProxy.parent().attr("name"),l=$('img[usemap="#'+c+'"]'),u=l.offset().left,d=l.offset().top,f=void 0!==t.$elProxy.attr("coords")?t.$elProxy.attr("coords").split(","):void 0;if("circle"==s){var m=parseInt(f[0]),p=parseInt(f[1]),h=parseInt(f[2]);a.dimension.height=2*h,a.dimension.width=2*h,a.offset.top=d+p-h,a.offset.left=u+m-h}else if("rect"==s){m=parseInt(f[0]),p=parseInt(f[1]);var g=parseInt(f[2]),v=parseInt(f[3]);a.dimension.height=v-p,a.dimension.width=g-m,a.offset.top=d+p,a.offset.left=u+m}else if("poly"==s){for(var y=0,_=0,k=0,b=0,x="even",w=0;w<f.length;w++){var S=parseInt(f[w]);"even"==x?(S>k&&(k=S,0===w&&(y=k)),S<y&&(y=S),x="odd"):(S>b&&(b=S,1==w&&(_=b)),S<_&&(_=S),x="even")}a.dimension.height=b-_,a.dimension.width=k-y,a.offset.top=d+_,a.offset.left=u+y}else a.dimension.height=l.outerHeight(!1),a.dimension.width=l.outerWidth(!1),a.offset.top=d,a.offset.left=u}var T=0,P=0,C=0,M=parseInt(t.options.offsetY),D=parseInt(t.options.offsetX),O=t.options.position;function A(){var t=$(e).scrollLeft();T-t<0&&(n=T-t,T=t),T+i-t>r&&(n=T-(r+t-i),T=r+t-i)}function E(t,n){a.offset.top-$(e).scrollTop()-o-M-12<0&&n.indexOf("top")>-1&&(O=t),a.offset.top+a.dimension.height+o+12+M>$(e).scrollTop()+$(e).height()&&n.indexOf("bottom")>-1&&(O=t,C=a.offset.top-o-M-12)}if("top"==O){var I=a.offset.left+i-(a.offset.left+a.dimension.width);T=a.offset.left+D-I/2,C=a.offset.top-o-M-12,A(),E("bottom","top")}if("top-left"==O&&(T=a.offset.left+D,C=a.offset.top-o-M-12,A(),E("bottom-left","top-left")),"top-right"==O&&(T=a.offset.left+a.dimension.width+D-i,C=a.offset.top-o-M-12,A(),E("bottom-right","top-right")),"bottom"==O){I=a.offset.left+i-(a.offset.left+a.dimension.width);T=a.offset.left-I/2+D,C=a.offset.top+a.dimension.height+M+12,A(),E("top","bottom")}if("bottom-left"==O&&(T=a.offset.left+D,C=a.offset.top+a.dimension.height+M+12,A(),E("top-left","bottom-left")),"bottom-right"==O&&(T=a.offset.left+a.dimension.width+D-i,C=a.offset.top+a.dimension.height+M+12,A(),E("top-right","bottom-right")),"left"==O){T=a.offset.left-D-i-12,P=a.offset.left+D+a.dimension.width+12;var F=a.offset.top+o-(a.offset.top+a.dimension.height);if(C=a.offset.top-F/2-M,T<0&&P+i>r){var N=2*parseFloat(t.$tooltip.css("border-width")),R=i+T-N;t.$tooltip.css("width",R+"px"),o=t.$tooltip.outerHeight(!1),T=a.offset.left-D-R-12-N,F=a.offset.top+o-(a.offset.top+a.dimension.height),C=a.offset.top-F/2-M}else T<0&&(T=a.offset.left+D+a.dimension.width+12,n="left")}if("right"==O){T=a.offset.left+D+a.dimension.width+12,P=a.offset.left-D-i-12;F=a.offset.top+o-(a.offset.top+a.dimension.height);if(C=a.offset.top-F/2-M,T+i>r&&P<0){N=2*parseFloat(t.$tooltip.css("border-width")),R=r-T-N;t.$tooltip.css("width",R+"px"),o=t.$tooltip.outerHeight(!1),F=a.offset.top+o-(a.offset.top+a.dimension.height),C=a.offset.top-F/2-M}else T+i>r&&(T=a.offset.left-D-i-12,n="right")}if(t.options.arrow){var Y="tooltipster-arrow-"+O;if(t.options.arrowColor.length<1)var L=t.$tooltip.css("background-color");else L=t.options.arrowColor;if(n?"left"==n?(Y="tooltipster-arrow-right",n=""):"right"==n?(Y="tooltipster-arrow-left",n=""):n="left:"+Math.round(n)+"px;":n="","top"==O||"top-left"==O||"top-right"==O)var j=parseFloat(t.$tooltip.css("border-bottom-width")),H=t.$tooltip.css("border-bottom-color");else if("bottom"==O||"bottom-left"==O||"bottom-right"==O)j=parseFloat(t.$tooltip.css("border-top-width")),H=t.$tooltip.css("border-top-color");else if("left"==O)j=parseFloat(t.$tooltip.css("border-right-width")),H=t.$tooltip.css("border-right-color");else if("right"==O)j=parseFloat(t.$tooltip.css("border-left-width")),H=t.$tooltip.css("border-left-color");else j=parseFloat(t.$tooltip.css("border-bottom-width")),H=t.$tooltip.css("border-bottom-color");j>1&&j++;var W="";if(0!==j){var V="",z="border-color: "+H+";";-1!==Y.indexOf("bottom")?V="margin-top: -"+Math.round(j)+"px;":-1!==Y.indexOf("top")?V="margin-bottom: -"+Math.round(j)+"px;":-1!==Y.indexOf("left")?V="margin-right: -"+Math.round(j)+"px;":-1!==Y.indexOf("right")&&(V="margin-left: -"+Math.round(j)+"px;"),W='<span class="tooltipster-arrow-border" style="'+V+" "+z+';"></span>'}t.$tooltip.find(".tooltipster-arrow").remove();var B='<div class="'+Y+' tooltipster-arrow" style="'+n+'">'+W+'<span style="border-color:'+L+';"></span></div>';t.$tooltip.append(B)}t.$tooltip.css({top:Math.round(C)+"px",left:Math.round(T)+"px"})}return t},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var t=e.$el.data("tooltipster-ns");if(1===t.length){var n=null;"previous"===e.options.restoration?n=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(n="string"==typeof e.Content?e.Content:$("<div></div>").append(e.Content).html()),n&&e.$el.attr("title",n),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else t=$.grep(t,(function(t,n){return t!==e.namespace})),e.$el.data("tooltipster-ns",t);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return void 0===t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},$.fn.tooltipster=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var t=!0;if("setDefaults"===e[0])$.extend(n,e[1]);else t=!1;return!!t||this}return this}if("string"==typeof e[0]){var a="#*$~&";return this.each((function(){var t=$(this).data("tooltipster-ns"),n=t?$(this).data(t[0]):null;if(!n)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof n[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var r=n[e[0]](e[1],e[2]);if(r!==n)return a=r,!1})),"#*$~&"!==a?a:this}var i=[],o=e[0]&&void 0!==e[0].multiple,s=o&&e[0].multiple||!o&&n.multiple,c=e[0]&&void 0!==e[0].debug,l=c&&e[0].debug||!c&&n.debug;return this.each((function(){var t=!1,n=$(this).data("tooltipster-ns"),a=null;n?s?t=!0:l&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):t=!0,t&&(a=new r(this,e[0]),n||(n=[]),n.push(a.namespace),$(this).data("tooltipster-ns",n),$(this).data(a.namespace,a)),i.push(a)})),s?i:this};var i=!!("ontouchstart"in e),o=!1;function s(){return!o&&i}function c(){var e=(t.body||t.documentElement).style,n="transition";if("string"==typeof e[n])return!0;v=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1);for(var r=0;r<v.length;r++)if("string"==typeof e[v[r]+n])return!0;return!1}$("body").one("mousemove",(function(){o=!0}))}(jQuery,window,document),/*! fireSlider  (v1.6.4) (C) 2014 - 2021 CJ O'Hara and Tyler Fowle. MIT @license: en.wikipedia.org/wiki/MIT_License */function(){"use strict";!function(e,t){var n=Math.abs,r=Math.ceil;function a(t,n){this.$el=e(t),this._attributes=this.getData(this.$el.data()),this.options=e.extend({},i,n,this._attributes),this.options.breakpoints="string"===e.type(this.options.breakpoints)?e.parseJson(this.options.breakpoints):this.options.breakpoints,this.preInit()}var i={active:1,activePagerClass:"fire-pager-active",activeSlideClass:"fire-slider-active",breakpoints:[],delay:5e3,direction:"forward",disableLinks:!0,easing:"swing",effect:"slideInOut",hoverPause:!1,pagerTemplate:"",show:1,singleSlide:!1,slide:"li",slideOffset:100,speed:500,swipe:!0};a.prototype={preInit:function(){var n=this;n.initialized=n.init(),n.initialized?(n.build(),n.run()):e(t).resize((function(){n.initialized||(n.initialized=n.init(),n.initialized&&(n.build(),n.run()))}))},init:function(){var t=this;return!(!t.$el.is(":visible")||1>t.options.show||1>t.$el.outerWidth()||1>t.$el.width()||("undefined"===e.type(e.Velocity)?(console.log("%cWARNING: fireSlider requires velocity.js to run correctly.","background: #E82C0C; color: white; padding: 0 12px;"),1):(t.initSlides(),t.initFunctions(),t.backup=t.slides.clone(),2>t.slides.length||(t.initState(),t.initBreakpoints(),0))))},initSlides:function(){var e=this;e.slides=e.$el.children(e.options.slide)},initFunctions:function(){var e=this;e.prev=function(){e.$el.trigger("fireSlider:prev")},e.next=function(){e.$el.trigger("fireSlider:next")},e.pause=function(){e.$el.trigger("fireSlider:pause")},e.play=function(){e.$el.trigger("fireSlider:play",e.state.direction)},e.reverse=function(){e.$el.trigger("fireSlider:reverse")},e.slide=function(t){e.$el.trigger("fireSlider:slide",t)},e.destroy=function(){e.$el.trigger("fireSlider:destroy")}},initState:function(){var e=this;e.state={active:e.options.active,currentSlide:0,direction:e.options.direction,isPaused:!1,maxX:0,minX:0,sliderWidth:e.$el.outerWidth(),slideWidth:e.$el.outerWidth()/e.options.show,slideWidthPercent:1/e.options.show*100,show:e.options.show,totalSlides:e.slides.length,windowWidth:t.innerWidth}},initBreakpoints:function(){var t=this;if(t.state.show=t.options.show,t.state.active=t.options.active,0<t.options.breakpoints.length){var n=-1,r=-1;e.each(t.options.breakpoints,(function(e,a){a.breakpoint&&a.breakpoint<=t.state.windowWidth&&a.breakpoint>r&&(n=e,r=a.breakpoint)})),-1!==n&&(t.options.breakpoints[n].show&&(t.state.show=t.options.breakpoints[n].show),t.options.breakpoints[n].active&&(t.state.active=t.options.breakpoints[n].active))}t.state.slideWidthPercent=1/t.state.show*100,t.state.slideWidth=t.state.sliderWidth/t.state.show},build:function(){var e=this;e.options.pager instanceof jQuery&&e.buildPager(),e.buildSlider(),e.state.currentSlide=0,e.slides.eq(e.state.currentSlide).addClass(e.options.activeSlideClass),e.slides=e.$el.children(e.options.slide),e.positionSlides()},buildPager:function(){var e=this;"clone"===e.options.pagerTemplate.toLowerCase()?e.createClonedPager():""===e.options.pagerTemplate?e.createDefaultPager():e.createCustomPager(),e.pages=e.options.pager.children(),e.pages.first().addClass(e.options.activePagerClass)},destroyPager:function(){this.options.pager instanceof jQuery&&this.pages.remove()},buildSlider:function(){var e=this,t=e.state.totalSlides*e.calculateMultiplier()-e.slides.length;if(0<t)for(var n,r=0;r<t;r++)(n=e.slides.eq(r%e.state.totalSlides).clone()).hasClass(e.options.activeSlideClass)&&n.removeClass(e.options.activeSlideClass),e.$el.append(n);if(0>t)for(var a=e.slides.length-1;a>=e.slides.length+t;a--)e.$el.children(e.options.slide).eq(a).remove();return t},createClonedPager:function(){var t=this;e.each(t.slides,(function(n,r){t.options.pager.append(e(r).clone()).children.eq(n)}))},createCustomPager:function(){var t=this;e.each(t.slides,(function(e,n){var r=t.parsePagerTemplate(n,t.options.pagerTemplate,e);t.options.pager.append(r).children().eq(e)}))},createDefaultPager:function(){var t=this;e.each(t.slides,(function(e){t.options.pager.append("<span></span>").children().eq(e)}))},parsePagerTemplate:function(t,n,r){var a=this,i=n,o=a.getTemplateTagRegex("num");-1!==i.search(o)&&(i=i.replace(o,(r+1).toString()));var s=a.getTemplateTagRegex("src");if(-1!==i.search(s)){var c=t.querySelectorAll("img")[0],l=void 0===c?"":c.src;i=i.replace(s,l)}var u=a.getTemplateTagRegex("description");if(-1!==i.search(u)){var d="undefined"===e(t).data().firesliderPagerDescription?"":e(t).data().firesliderPagerDescription;i=i.replace(u,d)}return i},getTemplateTagRegex:function(e){return new RegExp("{{\\s*"+e+"\\s*}}","g")},calculateMultiplier:function(){var e=this,n=1,a=0;return e.state.windowWidth=t.innerWidth,0<e.state.slideWidth&&e.state.slideWidth*e.state.totalSlides<e.state.windowWidth&&(a=r((e.state.windowWidth-e.state.slideWidth*e.state.totalSlides)/e.state.slideWidth)),0<(a=(a+=2*e.state.totalSlides)+e.state.totalSlides>60?60-e.state.totalSlides:a)&&(n+=r(a/e.state.totalSlides)),n},calculatePositions:function(t){for(var n=this,r=0;r<t;r++)n.cyclePositions("next");("forward"===n.state.direction||"backward"===n.state.direction)&&e.each(n.slides,(function(t,r){e(r).velocity({translateX:n.positions[t]+"%"},{duration:0,queue:n.options.effect})})),("up"===n.state.direction||"down"===n.state.direction)&&e.each(n.slides,(function(t,r){e(r).velocity({translateY:n.positions[t]+"%"},{duration:0,queue:n.options.effect})}))},positionSlides:function(){var e=Math.floor,t=this,n=[],a=[],i=r(t.slides.length/2)*(-1*t.options.slideOffset)+t.options.slideOffset*(t.state.active-1);t.state.minX=i,t.state.maxX=i+(t.slides.length-1)*t.options.slideOffset;for(var o=e(t.slides.length/2);o<t.slides.length;o++)("forward"===t.state.direction||"backward"===t.state.direction)&&t.slides.eq(o).velocity({translateX:i+"%"},{duration:0,queue:t.options.effect}),("up"===t.state.direction||"down"===t.state.direction)&&t.slides.eq(o).velocity({translateY:i+"%"},{duration:0,queue:t.options.effect}),t.slides.eq(o).css({width:t.state.slideWidthPercent+"%",position:"absolute"}),a.push(i),i+=t.options.slideOffset;for(var s=0;s<e(t.slides.length/2);s++)("forward"===t.state.direction||"backward"===t.state.direction)&&t.slides.eq(s).velocity({translateX:i+"%"},{duration:0,queue:t.options.effect}),("up"===t.state.direction||"down"===t.state.direction)&&t.slides.eq(s).velocity({translateY:i+"%"},{duration:0,queue:t.options.effect}),t.slides.eq(s).css({width:t.state.slideWidthPercent+"%",position:"absolute"}),n.push(i),i+=t.options.slideOffset;t.positions=n.concat(a),t.slides.dequeue(t.options.effect)},run:function(){var e=this;e.bindEvents(),e.startTimer(e.options.direction)},bindEvents:function(){var n=this;if(n.$el.on("fireSlider:prev",(function(){n.transitionSlides("prev")})),n.$el.on("fireSlider:next",(function(){n.transitionSlides("next")})),n.$el.on("fireSlider:pause",(function(){n.state.isPaused||(n.state.isPaused=!0,n.stopTimer())})),n.$el.on("fireSlider:play",(function(e,t){n.state.isPaused&&(n.state.isPaused=!1,n.startTimer(t))})),n.$el.on("fireSlider:slide",(function(e,t){n.state.currentSlide!==t&&n.pagerTransition(t)})),n.$el.on("fireSlider:reverse",(function(){n.state.isPaused||n.$el.trigger("fireSlider:pause"),("forward"===n.state.direction||"backward"===n.state.direction)&&(n.state.direction="forward"===n.state.direction.toLowerCase()?"backward":"forward"),("up"===n.state.direction||"down"===n.state.direction)&&(n.state.direction="up"===n.state.direction.toLowerCase()?"down":"up"),n.$el.trigger("fireSlider:play",n.state.direction)})),n.$el.on("fireSlider:refresh",(function(){n.stopTimer(),n.refresh(),n.startTimer(n.state.direction)})),n.$el.on("fireSlider:destroy",(function(){n.stopTimer(),n.unbindEvents(),n.destroyPager(),n.slides.remove(),n.$el.append(n.backup)})),n.options.prev instanceof jQuery&&n.options.prev.bind("click",e.proxy(n.prevButtonClicked,n)),n.options.next instanceof jQuery&&n.options.next.bind("click",e.proxy(n.nextButtonClicked,n)),n.options.pager instanceof jQuery&&n.options.pager.children().click((function(t){t.preventDefault(),n.$el.trigger("fireSlider:button:pager",e(t.target).index()),n.$el.trigger("fireSlider:slide",e(t.target).index())})),
n.$el.mouseover((function(){return n.options.hoverPause&&n.$el.trigger("fireSlider:pause"),!1})),n.$el.mouseout((function(){return n.options.hoverPause&&n.$el.trigger("fireSlider:play",n.state.direction),!1})),n.slides.find("a").click((function(t){n.options.disableLinks&&!e(t.target).closest(n.options.slide).hasClass(n.options.activeSlideClass)&&t.preventDefault()})),e(t).resize((function(){n.$el.trigger("fireSlider:refresh")})),"undefined"!=typeof Hammer&&!0===n.options.swipe){var r=new Hammer(n.$el[0]);r.on("swipeleft",(function(){n.$el.trigger("fireSlider:next"),n.$el.trigger("fireSlider:play",n.state.direction)})),r.on("swiperight",(function(){n.$el.trigger("fireSlider:prev"),n.$el.trigger("fireSlider:play",n.state.direction)}))}},unbindEvents:function(){var e=this;e.$el.off("fireSlider:prev"),e.$el.off("fireSlider:next"),e.$el.off("fireSlider:pause"),e.$el.off("fireSlider:play"),e.$el.off("fireSlider:slide"),e.$el.off("fireSlider:reverse"),e.$el.off("fireSlider:refresh"),e.options.prev instanceof jQuery&&e.options.prev.unbind("click",e.prevButtonClicked),e.options.next instanceof jQuery&&e.options.next.unbind("click",e.nextButtonClicked)},startTimer:function(e){var t=this;0===t.options.delay||t.state.isPaused||(t.timer=setInterval(function(t){return function(){t.transitionSlides(e)}}(t),t.options.delay))},stopTimer:function(){clearInterval(this.timer)},transitionSlides:function(t){var n=this;n.$el.trigger("fireSlider:transition:before"),n.stopTimer(),n.slides.eq(n.state.currentSlide).removeClass(n.options.activeSlideClass),n.pages instanceof jQuery&&n.pages.eq(n.state.currentSlide%n.state.totalSlides).removeClass(n.options.activePagerClass),n.updateCurrentSlide(t);var r=n.positions.slice(0);n.cyclePositions(t),e.each(n.slides,(function(t,a){n.Effects.route(e(a),{speed:n.options.speed,effect:n.options.effect,easing:n.options.easing,currPos:r[t],nextPos:n.positions[t],snapping:n.positions[t]===n.state.minX||n.positions[t]===n.state.maxX,direction:n.state.direction})})),n.slides.dequeue(n.options.effect),n.slides.eq(n.state.currentSlide).addClass(n.options.activeSlideClass),n.pages instanceof jQuery&&n.pages.eq(n.state.currentSlide%n.state.totalSlides).addClass(n.options.activePagerClass),n.startTimer(n.state.direction),n.$el.trigger("fireSlider:transition:after")},pagerTransition:function(t){var r=this,a=t-r.state.currentSlide%r.state.totalSlides;if(0!==a){r.$el.trigger("fireSlider:transition:before"),r.stopTimer(),r.slides=r.$el.children(r.options.slide),r.slides.eq(r.state.currentSlide).removeClass(r.options.activeSlideClass),r.pages instanceof jQuery&&r.pages.eq(r.state.currentSlide%r.state.totalSlides).removeClass(r.options.activePagerClass);var i=r.positions.slice(0);if(0>a)for(var o=0;o<n(a);o++)r.cyclePositions("prev");else for(var s=0;s<n(a);s++)r.cyclePositions("next");var c=100*n(a-1);e.each(r.slides,(function(t,n){r.Effects.route(e(n),{speed:r.options.speed,effect:r.options.effect,easing:r.options.easing,currPos:i[t],nextPos:r.positions[t],snapping:0>a&&r.positions[t]<=r.state.minX+c||0<a&&r.positions[t]>=r.state.maxX-c,direction:r.state.direction})})),r.slides.dequeue(r.options.effect),r.state.currentSlide=(r.state.currentSlide+a)%r.slides.length,r.slides.eq(r.state.currentSlide).addClass(r.options.activeSlideClass),r.pages instanceof jQuery&&r.pages.eq(r.state.currentSlide%r.state.totalSlides).addClass(r.options.activePagerClass),r.startTimer(r.state.direction),r.$el.trigger("fireSlider:transition:after")}},updateCurrentSlide:function(e){var t=this;t.state.currentSlide="prev"===e||"backward"===e.toLowerCase()||"down"===e.toLowerCase()?0===t.state.currentSlide?t.slides.length-1:t.state.currentSlide-=1:t.state.currentSlide===t.slides.length-1?0:t.state.currentSlide+=1},cyclePositions:function(e){var t=this;if("prev"===e||"backward"===e.toLowerCase()||"down"===e.toLowerCase()){var n=t.positions.shift();t.positions.push(n)}else{var r=t.positions.pop();t.positions.unshift(r)}},prevButtonClicked:function(e){e.preventDefault(),this.$el.trigger("fireSlider:button:prev"),this.$el.trigger("fireSlider:prev")},nextButtonClicked:function(e){e.preventDefault(),this.$el.trigger("fireSlider:button:next"),this.$el.trigger("fireSlider:next")},getData:function(t){return e.each(t,(function(n){e.each(["fireslider","fire-slider"],(function(e,r){if(-1<n.toLowerCase().indexOf(r)&&n!==fireSlider){var a=n.replace(new RegExp(r,"gi"),"");a=a.charAt(0).toLowerCase()+a.slice(1),t[a]=t[n],delete t[n]}}))})),t},refresh:function(){var e=this;if(e.state.windowWidth=t.innerWidth,e.state.sliderWidth=e.$el.outerWidth(),!e.$el.is(":visible"))return!1;if(1>e.options.show||1>e.$el.outerWidth()||1>e.$el.width)return!1;if(e.initBreakpoints(),e.slides.length!==e.calculateMultiplier()*e.state.totalSlides){e.slides.eq(e.state.currentSlide).removeClass(e.options.activeSlideClass);var r=e.buildSlider(e.slides);e.initSlides(),e.positionSlides(e.slides),e.state.currentSlide>e.slides.length&&(e.state.currentSlide%=e.slides.length,e.calculatePositions(n(r)),e.slides.dequeue(e.options.effect)),e.slides.eq(e.state.currentSlide).addClass(e.options.activeSlideClass)}else e.positionSlides(),e.calculatePositions(e.state.currentSlide),e.slides.dequeue(e.options.effect)}},a.prototype.Effects={transitions:{slideInOut:"slideInOut",fadeInOut:"fadeInOut"},register:function(e,t){this.transitions[e]=e,this[e]=t},slideInOut:function(e,t){var n=t.snapping?0:t.speed;("forward"===t.direction||"backward"===t.direction)&&e.velocity({translateX:[t.nextPos+"%",t.currPos+"%"]},{duration:n,queue:t.effect,easing:t.easing}),("up"===t.direction||"down"===t.direction)&&e.velocity({translateY:[t.nextPos+"%",t.currPos+"%"]},{duration:n,queue:t.effect,easing:t.easing})},fadeInOut:function(e,t){var n=e.clone();e.parent().append(n),e.velocity({translateX:[t.nextPos+"%",t.nextPos+"%"]},{duration:t.speed,queue:t.effect,begin:function(){n.velocity({opacity:[0,1],zIndex:[1,1]},{duration:t.speed,easing:t.easing})},complete:function(){n.remove()}})},route:function(e,t){var n=t.effect;void 0!==this.transitions[n]&&"function"==typeof this[n]&&this[n](e,t)}},e.fn.fireSlider=function(t){return this.each((function(){e.data(this,"fireSlider")&&(e(this).data("fireSlider").destroy(),e(this).removeData("fireSlider")),e.data(this,"fireSlider",new a(this,t))}))},t.fireSlider=a}(jQuery,window)}(),function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";var r,a,i;"function"==typeof Symbol&&Symbol.iterator,a=[n(2)],r=function(e){return e},void 0!==(i="function"==typeof r?r.apply(t,a):r)&&(e.exports=i)},function(e,t,n){"use strict";var r,a,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){a=[n(0),n(12),n(11)],void 0!==(i="function"==typeof(r=o)?r.apply(t,a):r)&&(e.exports=i)}((function(e,t,n,r){function a(t,n,o){if(!(this instanceof a))return new a(t,n,o);this.el=r,this.events={},this.maskset=r,this.refreshValue=!1,!0!==o&&(e.isPlainObject(t)?n=t:(n=n||{}).alias=t,this.opts=e.extend(!0,{},this.defaults,n),this.noMasksCache=n&&n.definitions!==r,this.userOptions=n||{},this.isRTL=this.opts.numericInput,i(this.opts.alias,n,this.opts))}function i(t,n,o){var s=a.prototype.aliases[t];return s?(s.alias&&i(s.alias,r,o),e.extend(!0,o,s),e.extend(!0,o,n),!0):(null===o.mask&&(o.mask=t),!1)}function s(t,n){function i(t,i,o){var s=!1;if(null!==t&&""!==t||((s=null!==o.regex)?t=(t=o.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(s=!0,t=".*")),1===t.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var c="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;t=o.groupmarker.start+t+o.groupmarker.end+o.quantifiermarker.start+c+","+o.repeat+o.quantifiermarker.end}var l,u=s?"regex_"+o.regex:o.numericInput?t.split("").reverse().join(""):t;return a.prototype.masksCache[u]===r||!0===n?(l={mask:t,maskToken:a.prototype.analyseMask(t,s,o),validPositions:{},_buffer:r,buffer:r,tests:{},metadata:i,maskLength:r},!0!==n&&(a.prototype.masksCache[u]=l,l=e.extend(!0,{},a.prototype.masksCache[u]))):l=e.extend(!0,{},a.prototype.masksCache[u]),l}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=null===t.keepStatic||t.keepStatic;var o=t.groupmarker.start;return e.each(t.numericInput?t.mask.reverse():t.mask,(function(n,a){o.length>1&&(o+=t.groupmarker.end+t.alternatormarker+t.groupmarker.start),a.mask===r||e.isFunction(a.mask)?o+=a:o+=a.mask})),i(o+=t.groupmarker.end,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==r&&!e.isFunction(t.mask.mask)?i(t.mask.mask,t.mask,t):i(t.mask,t.mask,t)}function c(i,s,l){function p(e,t,n){t=t||0;var a,i,o,s=[],c=0,u=v();do{!0===e&&h().validPositions[c]?(i=(o=h().validPositions[c]).match,a=o.locator.slice(),s.push(!0===n?o.input:!1===n?i.nativeDef:N(c,i))):(i=(o=k(c,a,c-1)).match,a=o.locator.slice(),(!1===l.jitMasking||c<u||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>c)&&s.push(!1===n?i.nativeDef:N(c,i))),c++}while((q===r||c<q)&&(null!==i.fn||""!==i.def)||t>c);return""===s[s.length-1]&&s.pop(),h().maskLength=c+1,s}function h(){return s}function g(e){var t=h();t.buffer=r,!0!==e&&(t.validPositions={},t.p=0)}function v(e,t,n){var a=-1,i=-1,o=n||h().validPositions;for(var s in e===r&&(e=-1),o){var c=parseInt(s);o[c]&&(t||!0!==o[c].generatedInput)&&(c<=e&&(a=c),c>=e&&(i=c))}return-1!==a&&e-a>1||i<e?a:i}function y(t,n,a,i){var o,s=t,c=e.extend(!0,{},h().validPositions),u=!1;for(h().p=t,o=n-1;o>=s;o--)h().validPositions[o]!==r&&(!0!==a&&(!h().validPositions[o].match.optionality&&function(e){var t=h().validPositions[e];if(t!==r&&null===t.match.fn){var n=h().validPositions[e-1],a=h().validPositions[e+1];return n!==r&&a!==r}return!1}(o)||!1===l.canClearPosition(h(),o,v(),i,l))||delete h().validPositions[o]);for(g(!0),o=s+1;o<=v();){for(;h().validPositions[s]!==r;)s++;if(o<s&&(o=s+1),h().validPositions[o]===r&&O(o))o++;else{var d=k(o);!1===u&&c[s]&&c[s].match.def===d.match.def?(h().validPositions[s]=e.extend(!0,{},c[s]),h().validPositions[s].input=d.input,delete h().validPositions[o],o++):x(s,d.match.def)?!1!==D(s,d.input||N(o),!0)&&(delete h().validPositions[o],o++,u=!0):O(o)||(o++,s--),s++}}g(!0)}function _(e,t){for(var n,a=e,i=v(),o=h().validPositions[i]||w(0)[0],s=o.alternation!==r?o.locator[o.alternation].toString().split(","):[],c=0;c<a.length&&(!((n=a[c]).match&&(l.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(o.alternation===r||o.alternation!==n.alternation||n.locator[o.alternation]!==r&&M(n.locator[o.alternation].toString().split(","),s)))||!0===t&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));c++);return n}function k(e,t,n){return h().validPositions[e]||_(w(e,t?t.slice():t,n))}function b(e){return h().validPositions[e]?h().validPositions[e]:w(e)[0]}function x(e,t){for(var n=!1,r=w(e),a=0;a<r.length;a++)if(r[a].match&&r[a].match.def===t){n=!0;break}return n}function w(t,n,a){function i(n,a,o,c){function d(o,c,g){function v(t,n){var r=0===e.inArray(t,n.matches);return r||e.each(n.matches,(function(e,a){if(!0===a.isQuantifier&&(r=v(t,n.matches[e-1])))return!1})),r}function y(t,n,a){var i,o;if(h().validPositions[t-1]&&a&&h().tests[t])for(var s=h().validPositions[t-1].locator,c=h().tests[t][0].locator,l=0;l<a;l++)if(s[l]!==c[l])return s.slice(a+1);return(h().tests[t]||h().validPositions[t])&&e.each(h().tests[t]||[h().validPositions[t]],(function(e,t){var s=a!==r?a:t.alternation,c=t.locator[s]!==r?t.locator[s].toString().indexOf(n):-1;(o===r||c<o)&&-1!==c&&(i=t,o=c)})),i?i.locator.slice((a!==r?a:i.alternation)+1):a!==r?y(t,n):r}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+h().mask;if(u===t&&o.matches===r)return f.push({match:o,locator:c.reverse(),cd:p}),!0;if(o.matches!==r){if(o.isGroup&&g!==o){if(o=d(n.matches[e.inArray(o,n.matches)+1],c))return!0}else if(o.isOptional){var _=o;if(o=i(o,a,c,g)){if(!v(s=f[f.length-1].match,_))return!0;m=!0,u=t}}else if(o.isAlternator){var k,b=o,x=[],w=f.slice(),S=c.length,T=a.length>0?a.shift():-1;if(-1===T||"string"==typeof T){var P,C=u,M=a.slice(),D=[];if("string"==typeof T)D=T.split(",");else for(P=0;P<b.matches.length;P++)D.push(P);for(var O=0;O<D.length;O++){if(P=parseInt(D[O]),f=[],a=y(u,P,S)||M.slice(),!0!==(o=d(b.matches[P]||n.matches[P],[P].concat(c),g)||o)&&o!==r&&D[D.length-1]<b.matches.length){var A=e.inArray(o,n.matches)+1;n.matches.length>A&&(o=d(n.matches[A],[A].concat(c.slice(1,c.length)),g))&&(D.push(A.toString()),e.each(f,(function(e,t){t.alternation=c.length-1})))}k=f.slice(),u=C,f=[];for(var E=0;E<k.length;E++){var I=k[E],F=!1;I.alternation=I.alternation||S;for(var N=0;N<x.length;N++){var R=x[N];if("string"!=typeof T||-1!==e.inArray(I.locator[I.alternation].toString(),D)){if(function(e,t){return e.match.nativeDef===t.match.nativeDef||e.match.def===t.match.nativeDef||e.match.nativeDef===t.match.def}(I,R)){F=!0,I.alternation===R.alternation&&-1===R.locator[R.alternation].toString().indexOf(I.locator[I.alternation])&&(R.locator[R.alternation]=R.locator[R.alternation]+","+I.locator[I.alternation],R.alternation=I.alternation),I.match.nativeDef===R.match.def&&(I.locator[I.alternation]=R.locator[R.alternation],x.splice(x.indexOf(R),1,I));break}if(I.match.def===R.match.def){F=!1;break}if(function(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,h(),t,!1,l,!1)}(I,R)||function(e,n){return null!==e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def.replace(/[\[\]]/g,""),h(),t,!1,l,!1)}(I,R)){I.alternation===R.alternation&&-1===I.locator[I.alternation].toString().indexOf(R.locator[R.alternation].toString().split("")[0])&&(I.na=I.na||I.locator[I.alternation].toString(),-1===I.na.indexOf(I.locator[I.alternation].toString().split("")[0])&&(I.na=I.na+","+I.locator[R.alternation].toString().split("")[0]),F=!0,I.locator[I.alternation]=R.locator[R.alternation].toString().split("")[0]+","+I.locator[I.alternation],x.splice(x.indexOf(R),0,I));break}}}F||x.push(I)}}"string"==typeof T&&(x=e.map(x,(function(t,n){if(isFinite(n)){var a=t.alternation,i=t.locator[a].toString().split(",");t.locator[a]=r,t.alternation=r;for(var o=0;o<i.length;o++)-1!==e.inArray(i[o],D)&&(t.locator[a]!==r?(t.locator[a]+=",",t.locator[a]+=i[o]):t.locator[a]=parseInt(i[o]),t.alternation=a);if(t.locator[a]!==r)return t}}))),f=w.concat(x),u=t,m=f.length>0,o=x.length>0,a=M.slice()}else o=d(b.matches[T]||n.matches[T],[T].concat(c),g);if(o)return!0}else if(o.isQuantifier&&g!==n.matches[e.inArray(o,n.matches)-1])for(var Y=o,L=a.length>0?a.shift():0;L<(isNaN(Y.quantifier.max)?L+1:Y.quantifier.max)&&u<=t;L++){var j=n.matches[e.inArray(Y,n.matches)-1];if(o=d(j,[L].concat(c),j)){if((s=f[f.length-1].match).optionalQuantifier=L>Y.quantifier.min-1,v(s,j)){if(L>Y.quantifier.min-1){m=!0,u=t;break}return!0}return!0}}else if(o=i(o,a,c,g))return!0}else u++}for(var g=a.length>0?a.shift():0;g<n.matches.length;g++)if(!0!==n.matches[g].isQuantifier){var v=d(n.matches[g],[g].concat(o),c);if(v&&u===t)return v;if(u>t)break}}function o(e){if(l.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)){if(h().validPositions[t-1]===r)return[_(e)];if(h().validPositions[t-1].alternation===e[0].alternation)return[_(e)];if(h().validPositions[t-1])return[_(e)]}return e}var s,c=h().maskToken,u=n?a:0,d=n?n.slice():[0],f=[],m=!1,p=n?n.join(""):"";if(t>-1){if(n===r){for(var g,v=t-1;(g=h().validPositions[v]||h().tests[v])===r&&v>-1;)v--;g!==r&&v>-1&&(d=function(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(t[0].alternation===r?0===(n=_(t.slice()).locator.slice()).length&&(n=t[0].locator.slice()):e.each(t,(function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var r=0;r<n.length;r++)t.locator[r]&&-1===n[r].toString().indexOf(t.locator[r])&&(n[r]+=","+t.locator[r])}))),n}(g),p=d.join(""),u=v)}if(h().tests[t]&&h().tests[t][0].cd===p)return o(h().tests[t]);for(var y=d.shift();y<c.length&&!(i(c[y],d,[y])&&u===t||u>t);y++);}return(0===f.length||m)&&f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:p}),n!==r&&h().tests[t]?o(e.extend(!0,[],f)):(h().tests[t]=e.extend(!0,[],f),o(h().tests[t]))}function S(){return h()._buffer===r&&(h()._buffer=p(!1,1),h().buffer===r&&(h().buffer=h()._buffer.slice())),h()._buffer}function T(e){return h().buffer!==r&&!0!==e||(h().buffer=p(!0,v(),!0)),h().buffer}function P(e,t,n){var a,i;if(!0===e)g(),e=0,t=n.length;else for(a=e;a<t;a++)delete h().validPositions[a];for(i=e,a=e;a<t;a++)if(g(!0),n[a]!==l.skipOptionalPartCharacter){var o=D(i,n[a],!0,!0);!1!==o&&(g(!0),i=o.caret!==r?o.caret:o.pos+1)}}function C(t,n,r){switch(l.casing||n.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var i=h().validPositions[r-1];t=0===r||i&&i.input===String.fromCharCode(a.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(l.casing)){var o=Array.prototype.slice.call(arguments);o.push(h().validPositions),t=l.casing.apply(this,o)}}return t}function M(t,n,a){for(var i,o=l.greedy?n:n.slice(0,1),s=!1,c=a!==r?a.split(","):[],u=0;u<c.length;u++)-1!==(i=t.indexOf(c[u]))&&t.splice(i,1);for(var d=0;d<t.length;d++)if(-1!==e.inArray(t[d],o)){s=!0;break}return s}function D(t,n,i,o,s,c){function u(e){var t=X?e.begin-e.end>1||e.begin-e.end==1:e.end-e.begin>1||e.end-e.begin==1;return t&&0===e.begin&&e.end===h().maskLength?"full":t}function d(n,a,i){var s=!1;return e.each(w(n),(function(c,d){for(var m=d.match,p=a?1:0,_="",k=m.cardinality;k>p;k--)_+=I(n-(k-1));if(a&&(_+=a),T(!0),!1!==(s=null!=m.fn?m.fn.test(_,h(),n,i,l,u(t)):(a===m.def||a===l.skipOptionalPartCharacter)&&""!==m.def&&{c:N(n,m,!0)||m.def,pos:n})){var b=s.c!==r?s.c:a;b=b===l.skipOptionalPartCharacter&&null===m.fn?N(n,m,!0)||m.def:b;var x=n,w=T();if(s.remove!==r&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort((function(e,t){return t-e})),(function(e,t){y(t,t+1,!0)}))),s.insert!==r&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort((function(e,t){return e-t})),(function(e,t){D(t.pos,t.c,!0,o)}))),s.refreshFromBuffer){var S=s.refreshFromBuffer;if(P(!0===S?S:S.start,S.end,w),s.pos===r&&s.c===r)return s.pos=v(),!1;if((x=s.pos!==r?s.pos:n)!==n)return s=e.extend(s,D(x,b,!0,o)),!1}else if(!0!==s&&s.pos!==r&&s.pos!==n&&(x=s.pos,P(n,x,T().slice()),x!==n))return s=e.extend(s,D(x,b,!0)),!1;return(!0===s||s.pos!==r||s.c!==r)&&(c>0&&g(!0),f(x,e.extend({},d,{input:C(b,m,x)}),o,u(t))||(s=!1),!1)}})),s}function f(t,n,a,i){if(i||l.insertMode&&h().validPositions[t]!==r&&a===r){var o,s=e.extend(!0,{},h().validPositions),c=v(r,!0);for(o=t;o<=c;o++)delete h().validPositions[o];h().validPositions[t]=e.extend(!0,{},n);var u,d=!0,f=h().validPositions,p=!1,y=h().maskLength;for(o=u=t;o<=c;o++){var _=s[o];if(_!==r)for(var k=u;k<h().maskLength&&(null===_.match.fn&&f[o]&&(!0===f[o].match.optionalQuantifier||!0===f[o].match.optionality)||null!=_.match.fn);){if(k++,!1===p&&s[k]&&s[k].match.def===_.match.def)h().validPositions[k]=e.extend(!0,{},s[k]),h().validPositions[k].input=_.input,m(k),u=k,d=!0;else if(x(k,_.match.def)){var b=D(k,_.input,!0,!0);d=!1!==b,u=b.caret||b.insert?v():k,p=!0}else if(!(d=!0===_.generatedInput)&&k>=h().maskLength-1)break;if(h().maskLength<y&&(h().maskLength=y),d)break}if(!d)break}if(!d)return h().validPositions=e.extend(!0,{},s),g(!0),!1}else h().validPositions[t]=e.extend(!0,{},n);return g(!0),!0}function m(t){for(var n=t-1;n>-1&&!h().validPositions[n];n--);var a,i;for(n++;n<t;n++)h().validPositions[n]===r&&(!1===l.jitMasking||l.jitMasking>n)&&(""===(i=w(n,k(n-1).locator,n-1).slice())[i.length-1].match.def&&i.pop(),(a=_(i))&&(a.match.def===l.radixPointDefinitionSymbol||!O(n,!0)||e.inArray(l.radixPoint,T())<n&&a.match.fn&&a.match.fn.test(N(n),h(),n,!1,l))&&!1!==(b=d(n,N(n,a.match,!0)||(null==a.match.fn?a.match.def:""!==N(n)?N(n):T()[n]),!0))&&(h().validPositions[b.pos||n].generatedInput=!0))}i=!0===i;var p=t;t.begin!==r&&(p=X&&!u(t)?t.end:t.begin);var b=!0,S=e.extend(!0,{},h().validPositions);if(e.isFunction(l.preValidation)&&!i&&!0!==o&&!0!==c&&(b=l.preValidation(T(),p,n,u(t),l)),!0===b){if(m(p),u(t)&&(V(r,a.keyCode.DELETE,t,!0,!0),p=h().p),p<h().maskLength&&(q===r||p<q)&&(b=d(p,n,i),(!i||!0===o)&&!1===b&&!0!==c)){var E=h().validPositions[p];if(!E||null!==E.match.fn||E.match.def!==n&&n!==l.skipOptionalPartCharacter){if((l.insertMode||h().validPositions[A(p)]===r)&&!O(p,!0))for(var F=p+1,R=A(p);F<=R;F++)if(!1!==(b=d(F,n,i))){!function(t,n){var a=h().validPositions[n];if(a)for(var i=a.locator,o=i.length,s=t;s<n;s++)if(h().validPositions[s]===r&&!O(s,!0)){var c=w(s).slice(),l=_(c,!0),u=-1;""===c[c.length-1].match.def&&c.pop(),e.each(c,(function(e,t){for(var n=0;n<o;n++){if(t.locator[n]===r||!M(t.locator[n].toString().split(","),i[n].toString().split(","),t.na)){var a=i[n],s=l.locator[n],c=t.locator[n];a-s>Math.abs(a-c)&&(l=t);break}u<n&&(u=n,l=t)}})),(l=e.extend({},l,{input:N(s,l.match,!0)||l.match.def})).generatedInput=!0,f(s,l,!0),h().validPositions[n]=r,d(n,a.input,!0)}}(p,b.pos!==r?b.pos:F),p=F;break}}else b={caret:A(p)}}!1===b&&l.keepStatic&&!i&&!0!==s&&(b=function(t,n,a){var i,s,c,u,d,f,m,p,y=e.extend(!0,{},h().validPositions),_=!1,k=v();for(u=h().validPositions[k];k>=0;k--)if((c=h().validPositions[k])&&c.alternation!==r){if(i=k,s=h().validPositions[i].alternation,u.locator[c.alternation]!==c.locator[c.alternation])break;u=c}if(s!==r){p=parseInt(i);var b=u.locator[u.alternation||s]!==r?u.locator[u.alternation||s]:m[0];b.length>0&&(b=b.split(",")[0]);var x=h().validPositions[p],S=h().validPositions[p-1];e.each(w(p,S?S.locator:r,p-1),(function(i,c){m=c.locator[s]?c.locator[s].toString().split(","):[];for(var u=0;u<m.length;u++){var k=[],w=0,S=0,T=!1;if(b<m[u]&&(c.na===r||-1===e.inArray(m[u],c.na.split(","))||-1===e.inArray(b.toString(),m))){h().validPositions[p]=e.extend(!0,{},c);var P=h().validPositions[p].locator;for(h().validPositions[p].locator[s]=parseInt(m[u]),null==c.match.fn?(x.input!==c.match.def&&(T=!0,!0!==x.generatedInput&&k.push(x.input)),S++,h().validPositions[p].generatedInput=!/[0-9a-bA-Z]/.test(c.match.def),h().validPositions[p].input=c.match.def):h().validPositions[p].input=x.input,d=p+1;d<v(r,!0)+1;d++)(f=h().validPositions[d])&&!0!==f.generatedInput&&/[0-9a-bA-Z]/.test(f.input)?k.push(f.input):d<t&&w++,delete h().validPositions[d];for(T&&k[0]===c.match.def&&k.shift(),g(!0),_=!0;k.length>0;){var C=k.shift();if(C!==l.skipOptionalPartCharacter&&!(_=D(v(r,!0)+1,C,!1,o,!0)))break}if(_){h().validPositions[p].locator=P;var M=v(t)+1;for(d=p+1;d<v()+1;d++)((f=h().validPositions[d])===r||null==f.match.fn)&&d<t+(S-w)&&S++;_=D((t+=S-w)>M?M:t,n,a,o,!0)}if(_)return!1;g(),h().validPositions=e.extend(!0,{},y)}}}))}return _}(p,n,i)),!0===b&&(b={pos:p})}if(e.isFunction(l.postValidation)&&!1!==b&&!i&&!0!==o&&!0!==c){var Y=l.postValidation(T(!0),b,l);if(Y.refreshFromBuffer&&Y.buffer){var L=Y.refreshFromBuffer;P(!0===L?L:L.start,L.end,Y.buffer)}b=!0===Y?b:Y}return b&&b.pos===r&&(b.pos=p),!1!==b&&!0!==c||(g(!0),h().validPositions=e.extend(!0,{},S)),b}function O(e,t){var n=k(e).match;if(""===n.def&&(n=b(e).match),null!=n.fn)return n.fn;if(!0!==t&&e>-1){var r=w(e);return r.length>1+(""===r[r.length-1].match.def?1:0)}return!1}function A(e,t){var n=h().maskLength;if(e>=n)return n;var r=e;for(w(n+1).length>1&&(p(!0,n+1,!0),n=h().maskLength);++r<n&&(!0===t&&(!0!==b(r).match.newBlockMarker||!O(r))||!0!==t&&!O(r)););return r}function E(e,t){var n,r=e;if(r<=0)return 0;for(;--r>0&&(!0===t&&!0!==b(r).match.newBlockMarker||!0!==t&&!O(r)&&((n=w(r)).length<2||2===n.length&&""===n[1].match.def)););return r}function I(e){return h().validPositions[e]===r?N(e):h().validPositions[e].input}function F(t,n,a,i,o){if(i&&e.isFunction(l.onBeforeWrite)){var s=l.onBeforeWrite.call(Z,i,n,a,l);if(s){if(s.refreshFromBuffer){var c=s.refreshFromBuffer;P(!0===c?c:c.start,c.end,s.buffer||n),n=T(!0)}a!==r&&(a=s.caret!==r?s.caret:a)}}t!==r&&(t.inputmask._valueSet(n.join("")),a===r||i!==r&&"blur"===i.type?B(t,a,0===n.length):m&&i&&"input"===i.type?setTimeout((function(){L(t,a)}),0):L(t,a),!0===o&&(ee=!0,e(t).trigger("input")))}function N(t,n,a){if((n=n||b(t).match).placeholder!==r||!0===a)return e.isFunction(n.placeholder)?n.placeholder(l):n.placeholder;if(null===n.fn){if(t>-1&&h().validPositions[t]===r){var i,o=w(t),s=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var c=0;c<o.length;c++)if(!0!==o[c].match.optionality&&!0!==o[c].match.optionalQuantifier&&(null===o[c].match.fn||i===r||!1!==o[c].match.fn.test(i.match.def,h(),t,!0,l))&&(s.push(o[c]),null===o[c].match.fn&&(i=o[c]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return l.placeholder.charAt(t%l.placeholder.length)}return n.def}return l.placeholder.charAt(t%l.placeholder.length)}function R(t,i,o,s,c){function u(e,t){return-1!==S().slice(e,A(e)).join("").indexOf(t)&&!O(e)&&b(e).match.nativeDef===t.charAt(t.length-1)}var d=s.slice(),f="",m=-1,p=r;if(g(),o||!0===l.autoUnmask)m=A(m);else{var y=S().slice(0,A(-1)).join(""),_=d.join("").match(new RegExp("^"+a.escapeRegex(y),"g"));_&&_.length>0&&(d.splice(0,_.length*y.length),m=A(m))}if(-1===m?(h().p=A(m),m=0):h().p=m,e.each(d,(function(n,a){if(a!==r)if(h().validPositions[n]===r&&d[n]===N(n)&&O(n,!0)&&!1===D(n,d[n],!0,r,r,!0))h().p++;else{var i=new e.Event("_checkval");i.which=a.charCodeAt(0),f+=a;var s=v(r,!0),c=h().validPositions[s],y=k(s+1,c?c.locator.slice():r,s);if(!u(m,f)||o||l.autoUnmask){var _=o?n:null==y.match.fn&&y.match.optionality&&s+1<h().p?s+1:h().p;p=ae.keypressEvent.call(t,i,!0,!1,o,_),m=_+1,f=""}else p=ae.keypressEvent.call(t,i,!0,!1,!0,s+1);if(!1!==p&&!o&&e.isFunction(l.onBeforeWrite)){var b=p;if(p=l.onBeforeWrite.call(Z,i,T(),p.forwardPosition,l),(p=e.extend(b,p))&&p.refreshFromBuffer){var x=p.refreshFromBuffer;P(!0===x?x:x.start,x.end,p.buffer),g(!0),p.caret&&(h().p=p.caret,p.forwardPosition=p.caret)}}}})),i){var x=r;n.activeElement===t&&p&&(x=l.numericInput?E(p.forwardPosition):p.forwardPosition),F(t,T(),x,c||new e.Event("checkval"),c&&"input"===c.type)}}function Y(t){if(t){if(t.inputmask===r)return t.value;t.inputmask&&t.inputmask.refreshValue&&ae.setValueEvent.call(t)}var n=[],a=h().validPositions;for(var i in a)a[i].match&&null!=a[i].match.fn&&n.push(a[i].input);var o=0===n.length?"":(X?n.reverse():n).join("");if(e.isFunction(l.onUnMask)){var s=(X?T().slice().reverse():T()).join("");o=l.onUnMask.call(Z,s,o,l)}return o}function L(e,a,i,o){function s(e){return!0===o||!X||"number"!=typeof e||l.greedy&&""===l.placeholder||(e=T().join("").length-e),e}var c;if(a===r)return e.setSelectionRange?(a=e.selectionStart,i=e.selectionEnd):t.getSelection?(c=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&c.commonAncestorContainer!==e||(a=c.startOffset,i=c.endOffset):n.selection&&n.selection.createRange&&(i=(a=0-(c=n.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+c.text.length),{begin:s(a),end:s(i)};if(a.begin!==r&&(i=a.end,a=a.begin),"number"==typeof a){a=s(a),i="number"==typeof(i=s(i))?i:a;var d=parseInt(((e.ownerDocument.defaultView||t).getComputedStyle?(e.ownerDocument.defaultView||t).getComputedStyle(e,null):e.currentStyle).fontSize)*i;if(e.scrollLeft=d>e.scrollWidth?d:0,u||!1!==l.insertMode||a!==i||i++,e.setSelectionRange)e.selectionStart=a,e.selectionEnd=i;else if(t.getSelection){if(c=n.createRange(),e.firstChild===r||null===e.firstChild){var f=n.createTextNode("");e.appendChild(f)}c.setStart(e.firstChild,a<e.inputmask._valueGet().length?a:e.inputmask._valueGet().length),c.setEnd(e.firstChild,i<e.inputmask._valueGet().length?i:e.inputmask._valueGet().length),c.collapse(!0);var m=t.getSelection();m.removeAllRanges(),m.addRange(c)}else e.createTextRange&&((c=e.createTextRange()).collapse(!0),c.moveEnd("character",i),c.moveStart("character",a),c.select());B(e,{begin:a,end:i})}}function j(t){var n,a,i=T(),o=i.length,s=v(),c={},l=h().validPositions[s],u=l!==r?l.locator.slice():r;for(n=s+1;n<i.length;n++)u=(a=k(n,u,n-1)).locator.slice(),c[n]=e.extend(!0,{},a);var d=l&&l.alternation!==r?l.locator[l.alternation]:r;for(n=o-1;n>s&&(((a=c[n]).match.optionality||a.match.optionalQuantifier&&a.match.newBlockMarker||d&&(d!==c[n].locator[l.alternation]&&null!=a.match.fn||null===a.match.fn&&a.locator[l.alternation]&&M(a.locator[l.alternation].toString().split(","),d.toString().split(","))&&""!==w(n)[0].def))&&i[n]===N(n,a.match));n--)o--;return t?{l:o,def:c[o]?c[o].match:r}:o}function H(e){for(var t,n=j(),a=e.length,i=h().validPositions[v()];n<a&&!O(n,!0)&&(t=i!==r?k(n,i.locator.slice(""),i):b(n))&&!0!==t.match.optionality&&(!0!==t.match.optionalQuantifier&&!0!==t.match.newBlockMarker||n+1===a&&""===(i!==r?k(n+1,i.locator.slice(""),i):b(n+1)).match.def);)n++;for(;(t=h().validPositions[n-1])&&t&&t.match.optionality&&t.input===l.skipOptionalPartCharacter;)n--;return e.splice(n),e}function W(t){if(e.isFunction(l.isComplete))return l.isComplete(t,l);if("*"===l.repeat)return r;var n=!1,a=j(!0),i=E(a.l);if(a.def===r||a.def.newBlockMarker||a.def.optionality||a.def.optionalQuantifier){n=!0;for(var o=0;o<=i;o++){var s=k(o).match;if(null!==s.fn&&h().validPositions[o]===r&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[o]!==N(o,s)){n=!1;break}}}return n}function V(t,n,i,o,s){if((l.numericInput||X)&&(n===a.keyCode.BACKSPACE?n=a.keyCode.DELETE:n===a.keyCode.DELETE&&(n=a.keyCode.BACKSPACE),X)){var c=i.end;i.end=i.begin,i.begin=c}n===a.keyCode.BACKSPACE&&(i.end-i.begin<1||!1===l.insertMode)?(i.begin=E(i.begin),h().validPositions[i.begin]!==r&&h().validPositions[i.begin].input===l.groupSeparator&&i.begin--):n===a.keyCode.DELETE&&i.begin===i.end&&(i.end=O(i.end,!0)&&h().validPositions[i.end]&&h().validPositions[i.end].input!==l.radixPoint?i.end+1:A(i.end)+1,h().validPositions[i.begin]!==r&&h().validPositions[i.begin].input===l.groupSeparator&&i.end++),y(i.begin,i.end,!1,o),!0!==o&&function(){if(l.keepStatic){for(var n=[],a=v(-1,!0),i=e.extend(!0,{},h().validPositions),o=h().validPositions[a];a>=0;a--){var s=h().validPositions[a];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&n.push(s.input),delete h().validPositions[a],s.alternation!==r&&s.locator[s.alternation]!==o.locator[s.alternation])break;o=s}}if(a>-1)for(h().p=A(v(-1,!0));n.length>0;){var c=new e.Event("keypress");c.which=n.pop().charCodeAt(0),ae.keypressEvent.call(t,c,!0,!1,!1,h().p)}else h().validPositions=e.extend(!0,{},i)}}();var u=v(i.begin,!0);if(u<i.begin)h().p=A(u);else if(!0!==o&&(h().p=i.begin,!0!==s))for(;h().p<u&&h().validPositions[h().p]===r;)h().p++}function z(r){var a=(r.ownerDocument.defaultView||t).getComputedStyle(r,null),i=n.createElement("div");i.style.width=a.width,i.style.textAlign=a.textAlign,(J=n.createElement("div")).className="im-colormask",r.parentNode.insertBefore(J,r),r.parentNode.removeChild(r),J.appendChild(i),J.appendChild(r),r.style.left=i.offsetLeft+"px",e(r).on("click",(function(e){return L(r,function(e){var t,i=n.createElement("span");for(var o in a)isNaN(o)&&-1!==o.indexOf("font")&&(i.style[o]=a[o]);i.style.textTransform=a.textTransform,i.style.letterSpacing=a.letterSpacing,i.style.position="absolute",i.style.height="auto",i.style.width="auto",i.style.visibility="hidden",i.style.whiteSpace="nowrap",n.body.appendChild(i);var s,c=r.inputmask._valueGet(),l=0
;for(t=0,s=c.length;t<=s;t++){if(i.innerHTML+=c.charAt(t)||"_",i.offsetWidth>=e){var u=e-l,d=i.offsetWidth-e;i.innerHTML=c.charAt(t),t=(u-=i.offsetWidth/3)<d?t-1:t;break}l=i.offsetWidth}return n.body.removeChild(i),t}(e.clientX)),ae.clickEvent.call(r,[e])})),e(r).on("keydown",(function(e){e.shiftKey||!1===l.insertMode||setTimeout((function(){B(r)}),0)}))}function B(e,t,a){function i(){f||null!==s.fn&&c.input!==r?f&&(null!==s.fn&&c.input!==r||""===s.def)&&(f=!1,d+="</span>"):(f=!0,d+="<span class='im-static'>")}function o(r){!0!==r&&m!==t.begin||n.activeElement!==e||(d+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>")}var s,c,u,d="",f=!1,m=0;if(J!==r){var p=T();if(t===r?t=L(e):t.begin===r&&(t={begin:t,end:t}),!0!==a){var g=v();do{o(),h().validPositions[m]?(c=h().validPositions[m],s=c.match,u=c.locator.slice(),i(),d+=p[m]):(c=k(m,u,m-1),s=c.match,u=c.locator.slice(),(!1===l.jitMasking||m<g||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>m)&&(i(),d+=N(m,s))),m++}while((q===r||m<q)&&(null!==s.fn||""!==s.def)||g>m||f);-1===d.indexOf("im-caret")&&o(!0),f&&i()}var y=J.getElementsByTagName("div")[0];y.innerHTML=d,e.inputmask.positionColorMask(e,y)}}s=s||this.maskset,l=l||this.opts;var G,U,q,J,K,Z=this,Q=this.el,X=this.isRTL,$=!1,ee=!1,te=!1,ne=!1,re={on:function(t,n,i){var o=function(t){if(this.inputmask===r&&"FORM"!==this.nodeName){var n=e.data(this,"_inputmask_opts");n?new a(n).mask(this):re.off(this)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===l.tabThrough&&t.keyCode===a.keyCode.TAB))){switch(t.type){case"input":if(!0===ee)return ee=!1,t.preventDefault();break;case"keydown":$=!1,ee=!1;break;case"keypress":if(!0===$)return t.preventDefault();$=!0;break;case"click":if(d||f){var o=this,s=arguments;return setTimeout((function(){i.apply(o,s)}),0),!1}}var c=i.apply(this,arguments);return!1===c&&(t.preventDefault(),t.stopPropagation()),c}t.preventDefault()}};t.inputmask.events[n]=t.inputmask.events[n]||[],t.inputmask.events[n].push(o),-1!==e.inArray(n,["submit","reset"])?null!==t.form&&e(t.form).on(n,o):e(t).on(n,o)},off:function(t,n){var r;t.inputmask&&t.inputmask.events&&(n?(r=[])[n]=t.inputmask.events[n]:r=t.inputmask.events,e.each(r,(function(n,r){for(;r.length>0;){var a=r.pop();-1!==e.inArray(n,["submit","reset"])?null!==t.form&&e(t.form).off(n,a):e(t).off(n,a)}delete t.inputmask.events[n]})))}},ae={keydownEvent:function(t){var r=this,i=e(r),o=t.keyCode,s=L(r);if(o===a.keyCode.BACKSPACE||o===a.keyCode.DELETE||f&&o===a.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&o===a.keyCode.X&&!function(e){var t=n.createElement("input"),r="oncut",a=r in t;return a||(t.setAttribute(r,"return;"),a="function"==typeof t[r]),t=null,a}())t.preventDefault(),V(r,o,s),F(r,T(!0),h().p,t,r.inputmask._valueGet()!==T().join("")),r.inputmask._valueGet()===S().join("")?i.trigger("cleared"):!0===W(T())&&i.trigger("complete");else if(o===a.keyCode.END||o===a.keyCode.PAGE_DOWN){t.preventDefault();var c=A(v());l.insertMode||c!==h().maskLength||t.shiftKey||c--,L(r,t.shiftKey?s.begin:c,c,!0)}else o===a.keyCode.HOME&&!t.shiftKey||o===a.keyCode.PAGE_UP?(t.preventDefault(),L(r,0,t.shiftKey?s.begin:0,!0)):(l.undoOnEscape&&o===a.keyCode.ESCAPE||90===o&&t.ctrlKey)&&!0!==t.altKey?(R(r,!0,!1,G.split("")),i.trigger("click")):o!==a.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===l.tabThrough&&o===a.keyCode.TAB?(!0===t.shiftKey?(null===b(s.begin).match.fn&&(s.begin=A(s.begin)),s.end=E(s.begin,!0),s.begin=E(s.end,!0)):(s.begin=A(s.begin,!0),s.end=A(s.begin,!0),s.end<h().maskLength&&s.end--),s.begin<h().maskLength&&(t.preventDefault(),L(r,s.begin,s.end))):t.shiftKey||!1===l.insertMode&&(o===a.keyCode.RIGHT?setTimeout((function(){var e=L(r);L(r,e.begin)}),0):o===a.keyCode.LEFT&&setTimeout((function(){var e=L(r);L(r,X?e.begin+1:e.begin-1)}),0)):(l.insertMode=!l.insertMode,L(r,l.insertMode||s.begin!==h().maskLength?s.begin:s.begin-1));l.onKeyDown.call(this,t,T(),L(r).begin,l),te=-1!==e.inArray(o,l.ignorables)},keypressEvent:function(t,n,i,o,s){var c=this,u=e(c),d=t.which||t.charCode||t.keyCode;if(!(!0===n||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||te))return d===a.keyCode.ENTER&&G!==T().join("")&&(G=T().join(""),setTimeout((function(){u.trigger("change")}),0)),!0;if(d){46===d&&!1===t.shiftKey&&""!==l.radixPoint&&(d=l.radixPoint.charCodeAt(0));var f,m=n?{begin:s,end:s}:L(c),p=String.fromCharCode(d);h().writeOutBuffer=!0;var v=D(m,p,o);if(!1!==v&&(g(!0),f=v.caret!==r?v.caret:n?v.pos+1:A(v.pos),h().p=f),!1!==i&&(setTimeout((function(){l.onKeyValidation.call(c,d,v,l)}),0),h().writeOutBuffer&&!1!==v)){var y=T();F(c,y,l.numericInput&&v.caret===r?E(f):f,t,!0!==n),!0!==n&&setTimeout((function(){!0===W(y)&&u.trigger("complete")}),0)}if(t.preventDefault(),n)return!1!==v&&(v.forwardPosition=f),v}},pasteEvent:function(n){var r,a=this,i=n.originalEvent||n,o=e(a),s=a.inputmask._valueGet(!0),c=L(a);X&&(r=c.end,c.end=c.begin,c.begin=r);var u=s.substr(0,c.begin),d=s.substr(c.end,s.length);if(u===(X?S().reverse():S()).slice(0,c.begin).join("")&&(u=""),d===(X?S().reverse():S()).slice(c.end).join("")&&(d=""),X&&(r=u,u=d,d=r),t.clipboardData&&t.clipboardData.getData)s=u+t.clipboardData.getData("Text")+d;else{if(!i.clipboardData||!i.clipboardData.getData)return!0;s=u+i.clipboardData.getData("text/plain")+d}var f=s;if(e.isFunction(l.onBeforePaste)){if(!1===(f=l.onBeforePaste.call(Z,s,l)))return n.preventDefault();f||(f=s)}return R(a,!1,!1,X?f.split("").reverse():f.toString().split("")),F(a,T(),A(v()),n,G!==T().join("")),!0===W(T())&&o.trigger("complete"),n.preventDefault()},inputFallBackEvent:function(t){var n=this,r=n.inputmask._valueGet();if(T().join("")!==r){var i=L(n);if(!1===function(t,n,r){if("."===n.charAt(r.begin-1)&&""!==l.radixPoint&&((n=n.split(""))[r.begin-1]=l.radixPoint.charAt(0),n=n.join("")),n.charAt(r.begin-1)===l.radixPoint&&n.length>T().length){var a=new e.Event("keypress");return a.which=l.radixPoint.charCodeAt(0),ae.keypressEvent.call(t,a,!0,!0,!1,r.begin-1),!1}}(n,r,i))return!1;if(r=r.replace(new RegExp("("+a.escapeRegex(S().join(""))+")*"),""),!1===function(t,n,r){if(d){var a=n.replace(T().join(""),"");if(1===a.length){var i=new e.Event("keypress");return i.which=a.charCodeAt(0),ae.keypressEvent.call(t,i,!0,!0,!1,h().validPositions[r.begin-1]?r.begin:r.begin-1),!1}}}(n,r,i))return!1;i.begin>r.length&&(L(n,r.length),i=L(n));var o=T().join(""),s=r.substr(0,i.begin),c=r.substr(i.begin),u=o.substr(0,i.begin),f=o.substr(i.begin),m=i,p="",g=!1;if(s!==u){m.begin=0;for(var v=(g=s.length>=u.length)?s.length:u.length,y=0;s.charAt(y)===u.charAt(y)&&y<v;y++)m.begin++;g&&(p+=s.slice(m.begin,m.end))}c!==f&&(c.length>f.length?g&&(m.end=m.begin):c.length<f.length?m.end+=f.length-c.length:c.charAt(0)!==f.charAt(0)&&m.end++),F(n,T(),m),p.length>0?e.each(p.split(""),(function(t,r){var a=new e.Event("keypress");a.which=r.charCodeAt(0),te=!1,ae.keypressEvent.call(n,a)})):(m.begin===m.end-1&&L(n,E(m.begin+1),m.end),t.keyCode=a.keyCode.DELETE,ae.keydownEvent.call(n,t)),t.preventDefault()}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var n=this,r=n.inputmask._valueGet(!0);e.isFunction(l.onBeforeMask)&&(r=l.onBeforeMask.call(Z,r,l)||r),r=r.split(""),R(n,!0,!1,X?r.reverse():r),G=T().join(""),(l.clearMaskOnLostFocus||l.clearIncomplete)&&n.inputmask._valueGet()===S().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();l.showMaskOnFocus&&(!l.showMaskOnHover||l.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==T().join("")?F(t,T(),A(v())):!1===ne&&L(t,A(v()))),!0===l.positionCaretOnTab&&!1===ne&&""!==n&&(F(t,T(),L(t)),ae.clickEvent.apply(t,[e,!0])),G=T().join("")},mouseleaveEvent:function(e){var t=this;if(ne=!1,l.clearMaskOnLostFocus&&n.activeElement!==t){var r=T().slice(),a=t.inputmask._valueGet();a!==t.getAttribute("placeholder")&&""!==a&&(-1===v()&&a===S().join("")?r=[]:H(r),F(t,r))}},clickEvent:function(t,a){function i(t){if(""!==l.radixPoint){var n=h().validPositions;if(n[t]===r||n[t].input===N(t)){if(t<A(-1))return!0;var a=e.inArray(l.radixPoint,T());if(-1!==a){for(var i in n)if(a<i&&n[i].input!==N(i))return!1;return!0}}}return!1}var o=this;setTimeout((function(){if(n.activeElement===o){var e=L(o);if(a&&(X?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(l.positionCaretOnClick){case"none":break;case"radixFocus":if(i(e.begin)){var t=T().join("").indexOf(l.radixPoint);L(o,l.numericInput?A(t):t);break}default:var s=e.begin,c=v(s,!0),u=A(c);if(s<u)L(o,O(s,!0)||O(s-1,!0)?s:A(s));else{var d=h().validPositions[c],f=k(u,d?d.match.locator:r,d),m=N(u,f.match);if(""!==m&&T()[u]!==m&&!0!==f.match.optionalQuantifier&&!0!==f.match.newBlockMarker||!O(u,!0)&&f.match.def===m){var p=A(u);(s>=p||s===u)&&(u=p)}L(o,u)}}}}),0)},dblclickEvent:function(e){var t=this;setTimeout((function(){L(t,0,A(v()))}),0)},cutEvent:function(r){var i=this,o=e(i),s=L(i),c=r.originalEvent||r,l=t.clipboardData||c.clipboardData,u=X?T().slice(s.end,s.begin):T().slice(s.begin,s.end);l.setData("text",X?u.reverse().join(""):u.join("")),n.execCommand&&n.execCommand("copy"),V(i,a.keyCode.DELETE,s),F(i,T(),h().p,r,G!==T().join("")),i.inputmask._valueGet()===S().join("")&&o.trigger("cleared")},blurEvent:function(t){var n=e(this),a=this;if(a.inputmask){var i=a.inputmask._valueGet(),o=T().slice();""!==i&&(l.clearMaskOnLostFocus&&(-1===v()&&i===S().join("")?o=[]:H(o)),!1===W(o)&&(setTimeout((function(){n.trigger("incomplete")}),0),l.clearIncomplete&&(g(),o=l.clearMaskOnLostFocus?[]:S().slice())),F(a,o,r,t)),G!==T().join("")&&(G=o.join(""),n.trigger("change"))}},mouseenterEvent:function(e){var t=this;ne=!0,n.activeElement!==t&&l.showMaskOnHover&&t.inputmask._valueGet()!==T().join("")&&F(t,T())},submitEvent:function(e){G!==T().join("")&&U.trigger("change"),l.clearMaskOnLostFocus&&-1===v()&&Q.inputmask._valueGet&&Q.inputmask._valueGet()===S().join("")&&Q.inputmask._valueSet(""),l.removeMaskOnSubmit&&(Q.inputmask._valueSet(Q.inputmask.unmaskedvalue(),!0),setTimeout((function(){F(Q,T())}),0))},resetEvent:function(e){Q.inputmask.refreshValue=!0,setTimeout((function(){U.trigger("setvalue")}),0)}};if(a.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"},i!==r)switch(i.action){case"isComplete":return Q=i.el,W(T());case"unmaskedvalue":return Q!==r&&i.value===r||(K=i.value,K=(e.isFunction(l.onBeforeMask)&&l.onBeforeMask.call(Z,K,l)||K).split(""),R(r,!1,!1,X?K.reverse():K),e.isFunction(l.onBeforeWrite)&&l.onBeforeWrite.call(Z,r,T(),0,l)),Y(Q);case"mask":!function(t){re.off(t);var a=function(t,a){var i=t.getAttribute("type"),s="INPUT"===t.tagName&&-1!==e.inArray(i,a.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!s)if("INPUT"===t.tagName){var c=n.createElement("input");c.setAttribute("type",i),s="text"===c.type,c=null}else s="partial";return!1!==s?function(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==v()||!0!==a.nullable?n.activeElement===this&&a.clearMaskOnLostFocus?(X?H(T().slice()).reverse():H(T().slice())).join(""):c.call(this):"":c.call(this)}function s(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var c,l;if(!t.inputmask.__valueGet){if(!0!==a.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===o("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):r;u&&u.get&&u.set?(c=u.get,l=u.set,Object.defineProperty(t,"value",{get:i,set:s,configurable:!0})):"INPUT"!==t.tagName&&(c=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:s,configurable:!0}))}else n.__lookupGetter__&&t.__lookupGetter__("value")&&(c=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",s));t.inputmask.__valueGet=c,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return X&&!0!==e?c.call(this.el).split("").reverse().join(""):c.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||e===r?"":!0!==t&&X?e.split("").reverse().join(""):e)},c===r&&(c=function(){return this.value},l=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===r||!0!==e.valHooks[t].inputmaskpatch)){var n=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=n(e);return-1!==v(r,r,e.inputmask.maskset.validPositions)||!0!==a.nullable?t:""}return n(e)},set:function(t,n){var r,a=e(t);return r=i(t,n),t.inputmask&&a.trigger("setvalue"),r},inputmaskpatch:!0}}}(t.type),function(t){re.on(t,"mouseenter",(function(t){var n=e(this);this.inputmask._valueGet()!==T().join("")&&n.trigger("setvalue")}))}(t))}}(t):t.inputmask=r,s}(t,l);if(!1!==a&&(U=e(Q=t),-1===(q=Q!==r?Q.maxLength:r)&&(q=r),!0===l.colorMask&&z(Q),m&&(Q.hasOwnProperty("inputmode")&&(Q.inputmode=l.inputmode,Q.setAttribute("inputmode",l.inputmode)),"rtfm"===l.androidHack&&(!0!==l.colorMask&&z(Q),Q.type="password")),!0===a&&(re.on(Q,"submit",ae.submitEvent),re.on(Q,"reset",ae.resetEvent),re.on(Q,"mouseenter",ae.mouseenterEvent),re.on(Q,"blur",ae.blurEvent),re.on(Q,"focus",ae.focusEvent),re.on(Q,"mouseleave",ae.mouseleaveEvent),!0!==l.colorMask&&re.on(Q,"click",ae.clickEvent),re.on(Q,"dblclick",ae.dblclickEvent),re.on(Q,"paste",ae.pasteEvent),re.on(Q,"dragdrop",ae.pasteEvent),re.on(Q,"drop",ae.pasteEvent),re.on(Q,"cut",ae.cutEvent),re.on(Q,"complete",l.oncomplete),re.on(Q,"incomplete",l.onincomplete),re.on(Q,"cleared",l.oncleared),m||!0===l.inputEventOnly?Q.removeAttribute("maxLength"):(re.on(Q,"keydown",ae.keydownEvent),re.on(Q,"keypress",ae.keypressEvent)),re.on(Q,"compositionstart",e.noop),re.on(Q,"compositionupdate",e.noop),re.on(Q,"compositionend",e.noop),re.on(Q,"keyup",e.noop),re.on(Q,"input",ae.inputFallBackEvent),re.on(Q,"beforeinput",e.noop)),re.on(Q,"setvalue",ae.setValueEvent),G=S().join(""),""!==Q.inputmask._valueGet(!0)||!1===l.clearMaskOnLostFocus||n.activeElement===Q)){var i=e.isFunction(l.onBeforeMask)&&l.onBeforeMask.call(Z,Q.inputmask._valueGet(!0),l)||Q.inputmask._valueGet(!0);""!==i&&R(Q,!0,!1,X?i.split("").reverse():i.split(""));var s=T().slice();G=s.join(""),!1===W(s)&&l.clearIncomplete&&g(),l.clearMaskOnLostFocus&&n.activeElement!==Q&&(-1===v()?s=[]:H(s)),F(Q,s),n.activeElement===Q&&L(Q,A(v()))}}(Q);break;case"format":return K=(e.isFunction(l.onBeforeMask)&&l.onBeforeMask.call(Z,i.value,l)||i.value).split(""),R(r,!0,!1,X?K.reverse():K),i.metadata?{value:X?T().slice().reverse().join(""):T().join(""),metadata:c.call(this,{action:"getmetadata"},s,l)}:X?T().slice().reverse().join(""):T().join("");case"isValid":i.value?(K=i.value.split(""),R(r,!0,!0,X?K.reverse():K)):i.value=T().join("");for(var ie=T(),oe=j(),se=ie.length-1;se>oe&&!O(se);se--);return ie.splice(oe,se+1-oe),W(ie)&&i.value===T().join("");case"getemptymask":return S().join("");case"remove":return Q&&Q.inputmask&&(U=e(Q),Q.inputmask._valueSet(l.autoUnmask?Y(Q):Q.inputmask._valueGet(!0)),re.off(Q),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Q),"value")&&Q.inputmask.__valueGet&&Object.defineProperty(Q,"value",{get:Q.inputmask.__valueGet,set:Q.inputmask.__valueSet,configurable:!0}):n.__lookupGetter__&&Q.__lookupGetter__("value")&&Q.inputmask.__valueGet&&(Q.__defineGetter__("value",Q.inputmask.__valueGet),Q.__defineSetter__("value",Q.inputmask.__valueSet)),Q.inputmask=r),Q;case"getmetadata":if(e.isArray(s.metadata)){var ce=p(!0,0,!1).join("");return e.each(s.metadata,(function(e,t){if(t.mask===ce)return ce=t,!1})),ce}return s.metadata}}var l=navigator.userAgent,u=/mobile/i.test(l),d=/iemobile/i.test(l),f=/iphone/i.test(l)&&!d,m=/android/i.test(l)&&!d;return a.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(this,t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:r,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:e.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:r,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9１-９]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},aliases:{},masksCache:{},mask:function(o){function l(n,a,o,s){if(!0===a.importDataAttributes){var c,l,u,d,f=function(e,a){null!==(a=a!==r?a:n.getAttribute(s+"-"+e))&&("string"==typeof a&&(0===e.indexOf("on")?a=t[a]:"false"===a?a=!1:"true"===a&&(a=!0)),o[e]=a)},m=n.getAttribute(s);if(m&&""!==m&&(m=m.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+m+"}")),l)for(d in u=r,l)if("alias"===d.toLowerCase()){u=l[d];break}for(c in f("alias",u),o.alias&&i(o.alias,o,a),a){if(l)for(d in u=r,l)if(d.toLowerCase()===c.toLowerCase()){u=l[d];break}f(c,u)}}return e.extend(!0,a,o),("rtl"===n.dir||a.rightAlign)&&(n.style.textAlign="right"),("rtl"===n.dir||a.numericInput)&&(n.dir="ltr",n.removeAttribute("dir"),a.isRTL=!0),a}var u=this;return"string"==typeof o&&(o=n.getElementById(o)||n.querySelectorAll(o)),o=o.nodeName?[o]:o,e.each(o,(function(t,n){var i=e.extend(!0,{},u.opts);l(n,i,e.extend(!0,{},u.userOptions),u.dataAttribute);var o=s(i,u.noMasksCache);o!==r&&(n.inputmask!==r&&(n.inputmask.opts.autoUnmask=!0,n.inputmask.remove()),n.inputmask=new a(r,r,!0),n.inputmask.opts=i,n.inputmask.noMasksCache=u.noMasksCache,n.inputmask.userOptions=e.extend(!0,{},u.userOptions),n.inputmask.isRTL=i.isRTL||i.numericInput,n.inputmask.el=n,n.inputmask.maskset=o,e.data(n,"_inputmask_opts",i),c.call(n.inputmask,{action:"mask"}))})),o&&o[0]&&o[0].inputmask||this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"===(void 0===t?"undefined":o(t))?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),c.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return c.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),c.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),c.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),c.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),c.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),c.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,n,i){function o(e,t,n,r){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=r||!1,this.quantifier={min:1,max:1}}function s(t,o,s){s=s!==r?s:t.matches.length;var c=t.matches[s-1];if(n)0===o.indexOf("[")||y&&/\\d|\\s|\\w]/i.test(o)||"."===o?t.matches.splice(s++,0,{fn:new RegExp(o,i.casing?"i":""),cardinality:1,optionality:t.isOptional,newBlockMarker:c===r||c.def!==o,casing:null,def:o,placeholder:r,nativeDef:o}):(y&&(o=o[o.length-1]),e.each(o.split(""),(function(e,n){c=t.matches[s-1],t.matches.splice(s++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:c===r||c.def!==n&&null!==c.fn,casing:null,def:i.staticDefinitionSymbol||n,placeholder:i.staticDefinitionSymbol!==r?n:r,nativeDef:n})}))),y=!1;else{var l=(i.definitions?i.definitions[o]:r)||a.prototype.definitions[o];if(l&&!y){for(var u=l.prevalidator,d=u?u.length:0,f=1;f<l.cardinality;f++){var m=d>=f?u[f-1]:[],p=m.validator,h=m.cardinality;t.matches.splice(s++,0,{fn:p?"string"==typeof p?new RegExp(p,i.casing?"i":""):new function(){this.test=p}:new RegExp("."),cardinality:h||1,optionality:t.isOptional,newBlockMarker:c===r||c.def!==(l.definitionSymbol||o),casing:l.casing,def:l.definitionSymbol||o,placeholder:l.placeholder,nativeDef:o}),c=t.matches[s-1]}t.matches.splice(s++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,i.casing?"i":""):new function(){this.test=l.validator}:new RegExp("."),cardinality:l.cardinality,optionality:t.isOptional,newBlockMarker:c===r||c.def!==(l.definitionSymbol||o),casing:l.casing,def:l.definitionSymbol||o,placeholder:l.placeholder,nativeDef:o})}else t.matches.splice(s++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:c===r||c.def!==o&&null!==c.fn,casing:null,def:i.staticDefinitionSymbol||o,placeholder:i.staticDefinitionSymbol!==r?o:r,nativeDef:o}),y=!1}}function c(){if(k.length>0){if(s(f=k[k.length-1],u),f.isAlternator){m=k.pop();for(var e=0;e<m.matches.length;e++)m.matches[e].isGroup=!1;k.length>0?(f=k[k.length-1]).matches.push(m):_.matches.push(m)}}else s(_,u)}var l,u,d,f,m,p,h,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,y=!1,_=new o,k=[],b=[];for(n&&(i.optionalmarker.start=r,i.optionalmarker.end=r);l=n?v.exec(t):g.exec(t);){if(u=l[0],n)switch(u.charAt(0)){case"?":u="{0,1}";break;case"+":case"*":u="{"+u+"}"}if(y)c();else switch(u.charAt(0)){case i.escapeChar:y=!0,n&&c();break;case i.optionalmarker.end:case i.groupmarker.end:if((d=k.pop()).openGroup=!1,d!==r)if(k.length>0){if((f=k[k.length-1]).matches.push(d),f.isAlternator){m=k.pop();for(var x=0;x<m.matches.length;x++)m.matches[x].isGroup=!1,m.matches[x].alternatorGroup=!1;k.length>0?(f=k[k.length-1]).matches.push(m):_.matches.push(m)}}else _.matches.push(d);else c();break;case i.optionalmarker.start:k.push(new o(!1,!0));break;case i.groupmarker.start:k.push(new o(!0));break;case i.quantifiermarker.start:var w=new o(!1,!1,!0),S=(u=u.replace(/[{}]/g,"")).split(","),T=isNaN(S[0])?S[0]:parseInt(S[0]),P=1===S.length?T:isNaN(S[1])?S[1]:parseInt(S[1]);if("*"!==P&&"+"!==P||(T="*"===P?0:1),w.quantifier={min:T,max:P},k.length>0){var C=k[k.length-1].matches;(l=C.pop()).isGroup||((h=new o(!0)).matches.push(l),l=h),C.push(l),C.push(w)}else(l=_.matches.pop()).isGroup||(n&&null===l.fn&&"."===l.def&&(l.fn=new RegExp(l.def,i.casing?"i":"")),(h=new o(!0)).matches.push(l),l=h),_.matches.push(l),_.matches.push(w);break;case i.alternatormarker:if(k.length>0){var M=(f=k[k.length-1]).matches[f.matches.length-1];p=f.openGroup&&(M.matches===r||!1===M.isGroup&&!1===M.isAlternator)?k.pop():f.matches.pop()}else p=_.matches.pop();if(p.isAlternator)k.push(p);else if(p.alternatorGroup?(m=k.pop(),p.alternatorGroup=!1):m=new o(!1,!1,!1,!0),m.matches.push(p),k.push(m),p.openGroup){p.openGroup=!1;var D=new o(!0);D.alternatorGroup=!0,k.push(D)}break;default:c()}}for(;k.length>0;)d=k.pop(),_.matches.push(d);return _.matches.length>0&&(function t(a){a&&a.matches&&e.each(a.matches,(function(e,o){var c=a.matches[e+1];(c===r||c.matches===r||!1===c.isQuantifier)&&o&&o.isGroup&&(o.isGroup=!1,n||(s(o,i.groupmarker.start,0),!0!==o.openGroup&&s(o,i.groupmarker.end))),t(o)}))}(_),b.push(_)),(i.numericInput||i.isRTL)&&function e(t){for(var n in t.matches=t.matches.reverse(),t.matches)if(t.matches.hasOwnProperty(n)){var a=parseInt(n);if(t.matches[n].isQuantifier&&t.matches[a+1]&&t.matches[a+1].isGroup){var o=t.matches[n];t.matches.splice(n,1),t.matches.splice(a+1,0,o)}t.matches[n].matches!==r?t.matches[n]=e(t.matches[n]):t.matches[n]=function(e){return e===i.optionalmarker.start?e=i.optionalmarker.end:e===i.optionalmarker.end?e=i.optionalmarker.start:e===i.groupmarker.start?e=i.groupmarker.end:e===i.groupmarker.end&&(e=i.groupmarker.start),e}(t.matches[n])}return t}(b[0]),b}},a.extendDefaults=function(t){e.extend(!0,a.prototype.defaults,t)},a.extendDefinitions=function(t){e.extend(!0,a.prototype.definitions,t)},a.extendAliases=function(t){e.extend(!0,a.prototype.aliases,t)},a.format=function(e,t,n){return a(t).format(e,n)},a.unmask=function(e,t){return a(t).unmaskedvalue(e)},a.isValid=function(e,t){return a(t).isValid(e)},a.remove=function(t){e.each(t,(function(e,t){t.inputmask&&t.inputmask.remove()}))},a.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},a.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},a}))},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";var r,a,i;"function"==typeof Symbol&&Symbol.iterator,a=[n(0),n(1)],r=function(e,t){function n(e){return isNaN(e)||29===new Date(e,2,0).getDate()}return t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var r=parseInt(e.concat(t.toString().slice(e.length))),a=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(r)&&t<=r&&r<=n||!isNaN(a)&&t<=a&&a<=n},determinebaseyear:function(e,t,n){var r=(new Date).getFullYear();if(e>r)return e;if(t<r){for(var a=t.toString().slice(0,2),i=t.toString().slice(2,4);t<a+n;)a--;var o=a+i;return e>o?e:o}if(e<=r&&r<=t){for(var s=r.toString().slice(0,2);t<s+n;)s--;var c=s+n;return c<e?e:c}return r},onKeyDown:function(n,r,a,i){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getDate().toString()+(s.getMonth()+1).toString()+s.getFullYear().toString()),o.trigger("setvalue")}},getFrontValue:function(e,t,n){for(var r=0,a=0,i=0;i<e.length&&"2"!==e.charAt(i);i++){var o=n.definitions[e.charAt(i)];o?(r+=a,a=o.cardinality):a++}return t.join("").substr(r,a)},postValidation:function(e,t,r){var a,i,o=e.join("");return 0===r.mask.indexOf("y")?(i=o.substr(0,4),a=o.substring(4,10)):(i=o.substring(6,10),a=o.substr(0,6)),t&&(a!==r.leapday||n(i))},definitions:{1:{validator:function(e,t,n,r,a){if("3"==e.charAt(0)&&new RegExp("[2-9]").test(e.charAt(1)))return e="30",t.buffer[n]="0",{pos:++n};var i=a.regex.val1.test(e);return r||i||e.charAt(1)!==a.separator&&-1==="-./".indexOf(e.charAt(1))||!(i=a.regex.val1.test("0"+e.charAt(0)))?i:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,r,a){var i=e;isNaN(t.buffer[n+1])||(i+=t.buffer[n+1]);var o=1===i.length?a.regex.val1pre.test(i):a.regex.val1.test(i);if(!r&&!o){if(o=a.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(o=a.regex.val1.test("0"+e))return t.buffer[n]="0",{pos:++n}}return o},cardinality:1}]},2:{validator:function(e,t,n,r,a){var i=a.getFrontValue(t.mask,t.buffer,a);if(-1!==i.indexOf(a.placeholder[0])&&(i="01"+a.separator),"1"==e.charAt(0)&&new RegExp("[3-9]").test(e.charAt(1)))return e="10",t.buffer[n]="0",{pos:++n};var o=a.regex.val2(a.separator).test(i+e);return r||o||e.charAt(1)!==a.separator&&-1==="-./".indexOf(e.charAt(1))||!(o=a.regex.val2(a.separator).test(i+"0"+e.charAt(0)))?o:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,r,a){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var i=a.getFrontValue(t.mask,t.buffer,a);-1!==i.indexOf(a.placeholder[0])&&(i="01"+a.separator);var o=1===e.length?a.regex.val2pre(a.separator).test(i+e):a.regex.val2(a.separator).test(i+e);return r||o||!(o=a.regex.val2(a.separator).test(i+"0"+e))?o:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},y:{validator:function(e,t,n,r,a){return a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)},cardinality:4,prevalidator:[{validator:function(e,t,n,r,a){var i=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!r&&!i){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,1);if(i=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),{pos:n};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,2),i=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),t.buffer[n++]=o.charAt(1),{pos:n}}return i},cardinality:1},{validator:function(e,t,n,r,a){var i=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!r&&!i){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2);if(i=a.isInYearRange(e[0]+o[1]+e[1],a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n++]=o.charAt(1),{pos:n};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2),i=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n-1]=o.charAt(0),t.buffer[n++]=o.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return i},cardinality:2},{validator:function(e,t,n,r,a){return a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,r,a,i){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(n,r,a,i){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getFullYear().toString()+(s.getMonth()+1).toString()+s.getDate().toString()),o.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",
placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,r,a){if("24"===a.hourFormat&&24===parseInt(e,10))return t.buffer[n-1]="0",t.buffer[n]="0",{refreshFromBuffer:{start:n-1,end:n},c:"0"};var i=a.regex.hrs.test(e);if(!r&&!i&&(e.charAt(1)===a.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(i=a.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),{refreshFromBuffer:{start:++n-2,end:n},pos:n,c:a.timeseparator};if(i&&"24"!==a.hourFormat&&a.regex.hrs24.test(e)){var o=parseInt(e,10);return 24===o?(t.buffer[n+5]="a",t.buffer[n+6]="m"):(t.buffer[n+5]="p",t.buffer[n+6]="m"),(o-=12)<10?(t.buffer[n]=o.toString(),t.buffer[n-1]="0"):(t.buffer[n]=o.toString().charAt(1),t.buffer[n-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return i},cardinality:2,prevalidator:[{validator:function(e,t,n,r,a){var i=a.regex.hrspre.test(e);return r||i||!(i=a.regex.hrs.test("0"+e))?i:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,r,a){var i=a.regex.mspre.test(e);return r||i||!(i=a.regex.ms.test("0"+e))?i:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},t:{validator:function(e,t,n,r,a){return a.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,r,a,i){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"[0-3])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+n+"30)|((0[1-6])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0},"yyyy-mm-dd hh:mm:ss":{mask:"y-1-2 h:s:s",placeholder:"yyyy-mm-dd hh:mm:ss",alias:"datetime",separator:"-",leapday:"-02-29",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},onKeyDown:function(e,t,n,r){}}}),t},void 0!==(i="function"==typeof r?r.apply(t,a):r)&&(e.exports=i)},function(e,t,n){"use strict";var r,a,i;"function"==typeof Symbol&&Symbol.iterator,a=[n(0),n(1)],r=function(e,t){return t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n,r,a){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e,t,n){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t},void 0!==(i="function"==typeof r?r.apply(t,a):r)&&(e.exports=i)},function(e,t,n){"use strict";var r,a,i;"function"==typeof Symbol&&Symbol.iterator,a=[n(0),n(1)],r=function(e,t,n){function r(e,n){for(var r="",a=0;a<e.length;a++)t.prototype.definitions[e.charAt(a)]||n.definitions[e.charAt(a)]||n.optionalmarker.start===e.charAt(a)||n.optionalmarker.end===e.charAt(a)||n.quantifiermarker.start===e.charAt(a)||n.quantifiermarker.end===e.charAt(a)||n.groupmarker.start===e.charAt(a)||n.groupmarker.end===e.charAt(a)||n.alternatormarker===e.charAt(a)?r+="\\"+e.charAt(a):r+=e.charAt(a);return r}return t.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=n),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var t=Math.floor(e.integerDigits/e.groupSize),a=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===a?t-1:t),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var i="[+]";if(i+=r(e.prefix,e),!0===e.integerOptional?i+="~{1,"+e.integerDigits+"}":i+="~{"+e.integerDigits+"}",e.digits!==n){e.radixPointDefinitionSymbol=e.decimalProtect?":":e.radixPoint;var o=e.digits.toString().split(",");isFinite(o[0]&&o[1]&&isFinite(o[1]))?i+=e.radixPointDefinitionSymbol+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional?i+="["+e.radixPointDefinitionSymbol+";{1,"+e.digits+"}]":i+=e.radixPointDefinitionSymbol+";{"+e.digits+"}")}return i+=r(e.suffix,e),i+="[-]",e.greedy=!1,i},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(t,r,a,i,o){if("-"===a||a===o.negationSymbol.front)return!0===o.allowMinus&&(o.isNegative=o.isNegative===n||!o.isNegative,""===t.join("")||{caret:r,dopost:!0});if(!1===i&&a===o.radixPoint&&o.digits!==n&&(isNaN(o.digits)||parseInt(o.digits)>0)){var s=e.inArray(o.radixPoint,t);if(-1!==s)return!0===o.numericInput?r===s:{caret:s+1}}return!0},postValidation:function(r,a,i){var o=i.suffix.split(""),s=i.prefix.split("");if(a.pos===n&&a.caret!==n&&!0!==a.dopost)return a;var c=a.caret!==n?a.caret:a.pos,l=r.slice();i.numericInput&&(c=l.length-c-1,l=l.reverse());var u=l[c];if(u===i.groupSeparator&&(u=l[c+=1]),c===l.length-i.suffix.length-1&&u===i.radixPoint)return a;u!==n&&u!==i.radixPoint&&u!==i.negationSymbol.front&&u!==i.negationSymbol.back&&(l[c]="?",i.prefix.length>0&&c>=(!1===i.isNegative?1:0)&&c<i.prefix.length-1+(!1===i.isNegative?1:0)?s[c-(!1===i.isNegative?1:0)]="?":i.suffix.length>0&&c>=l.length-i.suffix.length-(!1===i.isNegative?1:0)&&(o[c-(l.length-i.suffix.length-(!1===i.isNegative?1:0))]="?")),s=s.join(""),o=o.join("");var d=l.join("").replace(s,"");if(d=(d=(d=(d=d.replace(o,"")).replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),"")).replace(new RegExp("[-"+t.escapeRegex(i.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(i.negationSymbol.back)+"$"),""),isNaN(i.placeholder)&&(d=d.replace(new RegExp(t.escapeRegex(i.placeholder),"g"),"")),d.length>1&&1!==d.indexOf(i.radixPoint)&&("0"===u&&(d=d.replace(/^\?/g,"")),d=d.replace(/^0/g,"")),d.charAt(0)===i.radixPoint&&""!==i.radixPoint&&!0!==i.numericInput&&(d="0"+d),""!==d){if(d=d.split(""),(!i.digitsOptional||i.enforceDigitsOnBlur&&"blur"===a.event)&&isFinite(i.digits)){var f=e.inArray(i.radixPoint,d),m=e.inArray(i.radixPoint,l);-1===f&&(d.push(i.radixPoint),f=d.length-1);for(var p=1;p<=i.digits;p++)i.digitsOptional&&(!i.enforceDigitsOnBlur||"blur"!==a.event)||d[f+p]!==n&&d[f+p]!==i.placeholder.charAt(0)?-1!==m&&l[m+p]!==n&&(d[f+p]=d[f+p]||l[m+p]):d[f+p]=a.placeholder||i.placeholder.charAt(0)}if(!0!==i.autoGroup||""===i.groupSeparator||u===i.radixPoint&&a.pos===n&&!a.dopost)d=d.join("");else{var h=d[d.length-1]===i.radixPoint&&a.c===i.radixPoint;d=t(function(e,t){var n="";if(n+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var r=e.join("").split(t.radixPoint);r[1]&&(n+=t.radixPoint+"*{"+r[1].match(/^\d*\??\d*/)[0].length+"}")}return n}(d,i),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(d.join("")),h&&(d+=i.radixPoint),d.charAt(0)===i.groupSeparator&&d.substr(1)}}if(i.isNegative&&"blur"===a.event&&(i.isNegative="0"!==d),d=s+d,d+=o,i.isNegative&&(d=i.negationSymbol.front+d,d+=i.negationSymbol.back),d=d.split(""),u!==n)if(u!==i.radixPoint&&u!==i.negationSymbol.front&&u!==i.negationSymbol.back)(c=e.inArray("?",d))>-1?d[c]=u:c=a.caret||0;else if(u===i.radixPoint||u===i.negationSymbol.front||u===i.negationSymbol.back){var g=e.inArray(u,d);-1!==g&&(c=g)}i.numericInput&&(c=d.length-c-1,d=d.reverse());var v={caret:u===n||a.pos!==n?c+(i.numericInput?-1:1):c,buffer:d,refreshFromBuffer:a.dopost||r.join("")!==d.join("")};return v.refreshFromBuffer?v:a},onBeforeWrite:function(r,a,i,o){if(r)switch(r.type){case"keydown":return o.postValidation(a,{caret:i,dopost:!0},o);case"blur":case"checkval":var s;if(function(e){e.parseMinMaxOptions===n&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(o),null!==o.min||null!==o.max){if(s=o.onUnMask(a.join(""),n,e.extend({},o,{unmaskAsNumber:!0})),null!==o.min&&s<o.min)return o.isNegative=o.min<0,o.postValidation(o.min.toString().replace(".",o.radixPoint).split(""),{caret:i,dopost:!0,placeholder:"0"},o);if(null!==o.max&&s>o.max)return o.isNegative=o.max<0,o.postValidation(o.max.toString().replace(".",o.radixPoint).split(""),{caret:i,dopost:!0,placeholder:"0"},o)}return o.postValidation(a,{caret:i,placeholder:"0",event:"blur"},o);case"_checkval":return{caret:i}}},regex:{integerPart:function(e,n){return n?new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,r,a,i,o,s){var c=i?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e);if(!0===c){if(!0!==o.numericInput&&r.validPositions[a]!==n&&"~"===r.validPositions[a].match.def&&!s){var l=r.buffer.join(""),u=(l=(l=l.replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),"")).split(o.radixPoint);u.length>1&&(u[1]=u[1].replace(/0/g,o.placeholder.charAt(0))),"0"===u[0]&&(u[0]=u[0].replace(/0/g,o.placeholder.charAt(0))),l=u[0]+o.radixPoint+u[1]||"";var d=r._buffer.join("");for(l===o.radixPoint&&(l=d);null===l.match(t.escapeRegex(d)+"$");)d=d.slice(1);c=(l=(l=l.replace(d,"")).split(""))[a]===n?{pos:a,remove:a}:{pos:a}}}else i||e!==o.radixPoint||r.validPositions[a-1]!==n||(r.buffer[a]="0",c={pos:a+1});return c},cardinality:1},"+":{validator:function(e,t,n,r,a){return a.allowMinus&&("-"===e||e===a.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,r,a){return a.allowMinus&&e===a.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,n,r,a,i){var o="["+t.escapeRegex(i.radixPoint)+"]",s=new RegExp(o).test(e);return s&&n.validPositions[r]&&n.validPositions[r].match.placeholder===i.radixPoint&&(s={caret:r+1}),s},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,n,r){if(""===n&&!0===r.nullable)return n;var a=e.replace(r.prefix,"");return a=(a=a.replace(r.suffix,"")).replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),""),""!==r.placeholder.charAt(0)&&(a=a.replace(new RegExp(r.placeholder.charAt(0),"g"),"0")),r.unmaskAsNumber?(""!==r.radixPoint&&-1!==a.indexOf(r.radixPoint)&&(a=a.replace(t.escapeRegex.call(this,r.radixPoint),".")),a=(a=a.replace(new RegExp("^"+t.escapeRegex(r.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(r.negationSymbol.back)+"$"),""),Number(a)):a},isComplete:function(e,n){var r=e.join("");if(e.slice().join("")!==r)return!1;var a=r.replace(n.prefix,"");return a=(a=a.replace(n.suffix,"")).replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(a=a.replace(t.escapeRegex(n.radixPoint),".")),isFinite(a)},onBeforeMask:function(e,r){if(r.isNegative=n,e=e.toString().charAt(e.length-1)===r.radixPoint?e.toString().substr(0,e.length-1):e.toString(),""!==r.radixPoint&&isFinite(e)){var a=e.split("."),i=""!==r.groupSeparator?parseInt(r.groupSize):0;2===a.length&&(a[0].length>i||a[1].length>i||a[0].length<=i&&a[1].length<i)&&(e=e.replace(".",r.radixPoint))}var o=e.match(/,/g),s=e.match(/\./g);if(e=s&&o?s.length>o.length?(e=e.replace(/\./g,"")).replace(",",r.radixPoint):o.length>s.length?(e=e.replace(/,/g,"")).replace(".",r.radixPoint):e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e.replace(/,/g,""):e.replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),""),0===r.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==r.radixPoint&&isFinite(r.digits)&&-1!==e.indexOf(r.radixPoint)){var c=e.split(r.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(r.digits)<c.toString().length){var l=Math.pow(10,parseInt(r.digits));e=e.replace(t.escapeRegex(r.radixPoint),"."),e=(e=Math.round(parseFloat(e)*l)/l).toString().replace(".",r.radixPoint)}}return e},canClearPosition:function(e,t,n,r,a){var i=e.validPositions[t],o=i.input!==a.radixPoint||null!==e.validPositions[t].match.fn&&!1===a.decimalProtect||i.input===a.radixPoint&&e.validPositions[t+1]&&null===e.validPositions[t+1].match.fn||isFinite(i.input)||t===n||i.input===a.groupSeparator||i.input===a.negationSymbol.front||i.input===a.negationSymbol.back;return!o||"+"!==i.match.nativeDef&&"-"!==i.match.nativeDef||(a.isNegative=!1),o},onKeyDown:function(n,r,a,i){var o=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(i.step)),o.trigger("setvalue");break;case t.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(i.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),t},void 0!==(i="function"==typeof r?r.apply(t,a):r)&&(e.exports=i)},function(e,t,n){"use strict";var r,a,i;"function"==typeof Symbol&&Symbol.iterator,a=[n(0),n(1)],r=function(e,t){function n(e,t){var n=(e.mask||e).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),r=(t.mask||t).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),a=(e.mask||e).split("#")[0],i=(t.mask||t).split("#")[0];return 0===i.indexOf(a)?-1:0===a.indexOf(i)?1:n.localeCompare(r)}var r=t.prototype.analyseMask;return t.prototype.analyseMask=function(t,n,a){function i(e,n,r){r=r||s,""!==(n=n||"")&&(r[n]={});for(var a="",o=r[n]||r,c=e.length-1;c>=0;c--)o[a=(t=e[c].mask||e[c]).substr(0,1)]=o[a]||[],o[a].unshift(t.substr(1)),e.splice(c,1);for(var l in o)o[l].length>500&&i(o[l].slice(),l,o)}function o(t){var n="",r=[];for(var i in t)e.isArray(t[i])?1===t[i].length?r.push(i+t[i]):r.push(i+a.groupmarker.start+t[i].join(a.groupmarker.end+a.alternatormarker+a.groupmarker.start)+a.groupmarker.end):r.push(i+o(t[i]));return 1===r.length?n+=r[0]:n+=a.groupmarker.start+r.join(a.groupmarker.end+a.alternatormarker+a.groupmarker.start)+a.groupmarker.end,n}var s={};return a.phoneCodes&&(a.phoneCodes&&a.phoneCodes.length>1e3&&(i((t=t.substr(1,t.length-2)).split(a.groupmarker.end+a.alternatormarker+a.groupmarker.start)),t=o(s)),t=t.replace(/9/g,"\\9")),r.call(this,t,n,a)},t.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(e){return e.definitions={"#":t.prototype.definitions[9]},e.phoneCodes.sort(n)},keepStatic:!0,onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(t.countrycode)>1||-1===n.indexOf(t.countrycode))&&(n="+"+t.countrycode+n),n},onUnMask:function(e,t,n){return e.replace(/[()#-]/g,"")},inputmode:"tel"}}),t},void 0!==(i="function"==typeof r?r.apply(t,a):r)&&(e.exports=i)},function(e,t,n){"use strict";var r,a,i;"function"==typeof Symbol&&Symbol.iterator,a=[n(0),n(1)],r=function(e,t){return t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex,t.casing?"i":"").test(e.join(""))},definitions:{r:{validator:function(t,n,r,a,i){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(t,n){var r=!1;n&&(d+="(",m++);for(var a=0;a<t.matches.length;a++){var o=t.matches[a];if(!0===o.isGroup)r=s(o,!0);else if(!0===o.isQuantifier){var l=e.inArray(o,t.matches),u=t.matches[l-1],f=d;if(isNaN(o.quantifier.max)){for(;o.repeaterPart&&o.repeaterPart!==d&&o.repeaterPart.length>d.length&&!(r=s(u,!0)););(r=r||s(u,!0))&&(o.repeaterPart=d),d=f+o.quantifier.max}else{for(var p=0,h=o.quantifier.max-1;p<h&&!(r=s(u,!0));p++);d=f+"{"+o.quantifier.min+","+o.quantifier.max+"}"}}else if(void 0!==o.matches)for(var g=0;g<o.length&&!(r=s(o[g],n));g++);else{var v;if("["==o.charAt(0)){v=d,v+=o;for(var y=0;y<m;y++)v+=")";r=new RegExp("^("+v+")$",i.casing?"i":"").test(c)}else for(var _=0,k=o.length;_<k;_++)if("\\"!==o.charAt(_)){for(v=d,v=(v+=o.substr(0,_+1)).replace(/\|$/,""),y=0;y<m;y++)v+=")";if(r=new RegExp("^("+v+")$",i.casing?"i":"").test(c))break}d+=o}if(r)break}return n&&(d+=")",m--),r}var c,l,u=n.buffer.slice(),d="",f=!1,m=0;null===i.regexTokens&&function(){var e,t,n=new o,r=[];for(i.regexTokens=[];e=i.tokenizer.exec(i.regex);)switch(t=e[0],t.charAt(0)){case"(":r.push(new o(!0));break;case")":l=r.pop(),r.length>0?r[r.length-1].matches.push(l):n.matches.push(l);break;case"{":case"+":case"*":var a=new o(!1,!0),s=(t=t.replace(/[{}]/g,"")).split(","),c=isNaN(s[0])?s[0]:parseInt(s[0]),u=1===s.length?c:isNaN(s[1])?s[1]:parseInt(s[1]);if(a.quantifier={min:c,max:u},r.length>0){var d=r[r.length-1].matches;(e=d.pop()).isGroup||((l=new o(!0)).matches.push(e),e=l),d.push(e),d.push(a)}else(e=n.matches.pop()).isGroup||((l=new o(!0)).matches.push(e),e=l),n.matches.push(e),n.matches.push(a);break;default:r.length>0?r[r.length-1].matches.push(t):n.matches.push(t)}n.matches.length>0&&i.regexTokens.push(n)}(),u.splice(r,0,t),c=u.join("");for(var p=0;p<i.regexTokens.length;p++){var h=i.regexTokens[p];if(f=s(h,h.isGroup))break}return f},cardinality:1}}}}),t},void 0!==(i="function"==typeof r?r.apply(t,a):r)&&(e.exports=i)},function(e,t,n){"use strict";var r,a,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){a=[n(2),n(1)],void 0!==(i="function"==typeof(r=o)?r.apply(t,a):r)&&(e.exports=i)}((function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,r){var a,i=this[0];if(void 0===r&&(r={}),"string"==typeof n)switch(n){case"unmaskedvalue":return i&&i.inputmask?i.inputmask.unmaskedvalue():e(i).val();case"remove":return this.each((function(){this.inputmask&&this.inputmask.remove()}));case"getemptymask":return i&&i.inputmask?i.inputmask.getemptymask():"";case"hasMaskedValue":return!(!i||!i.inputmask)&&i.inputmask.hasMaskedValue();case"isComplete":return!i||!i.inputmask||i.inputmask.isComplete();case"getmetadata":return i&&i.inputmask?i.inputmask.getmetadata():void 0;case"setvalue":e(i).val(r),i&&void 0===i.inputmask&&e(i).triggerHandler("setvalue");break;case"option":if("string"!=typeof r)return this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(r)}));if(i&&void 0!==i.inputmask)return i.inputmask.option(r);break;default:return r.alias=n,a=new t(r),this.each((function(){a.mask(this)}))}else{if("object"==(void 0===n?"undefined":o(n)))return a=new t(n),void 0===n.mask&&void 0===n.alias?this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(n);a.mask(this)})):this.each((function(){a.mask(this)}));if(void 0===n)return this.each((function(){(a=new t(r)).mask(this)}))}}),e.fn.inputmask}))},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.i,r,""]]),n(15)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(9),n(3),n(4),n(5),n(6),n(7);var a=r(n(1)),i=r(n(0)),o=r(n(2));i.default===o.default&&n(8),window.Inputmask=a.default},function(e,t,n){"use strict";var r;"function"==typeof Symbol&&Symbol.iterator,void 0!==(r=function(){return document}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){"use strict";var r;"function"==typeof Symbol&&Symbol.iterator,void 0!==(r=function(){return window}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){(e.exports=n(14)(void 0)).push([e.i,".im-caret {\r\n\t-webkit-animation: 1s blink step-end infinite;\r\n\tanimation: 1s blink step-end infinite;\r\n}\r\n\r\n@keyframes blink {\r\n\tfrom, to {\r\n\t\tborder-right-color: black;\r\n\t}\r\n\t50% {\r\n\t\tborder-right-color: transparent;\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes blink {\r\n\tfrom, to {\r\n\t\tborder-right-color: black;\r\n\t}\r\n\t50% {\r\n\t\tborder-right-color: transparent;\r\n\t}\r\n}\r\n\r\n.im-static {\r\n\tcolor: grey;\r\n}\r\n",""])},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([a]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=p[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(u(r.parts[i],t))}else{var o=[];for(i=0;i<r.parts.length;i++)o.push(u(r.parts[i],t));p[r.id]={id:r.id,refs:1,parts:o}}}}function a(e){for(var t=[],n={},r=0;r<e.length;r++){var a=e[r],i=a[0],o={css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(o):t.push(n[i]={id:i,parts:[o]})}return t}function i(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=_[_.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),i(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),i(e,t),t}function l(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function u(e,t){var n,r,a;if(t.singleton){var i=y++;n=v||(v=s(t)),r=d.bind(null,n,i,!1),a=d.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),r=m.bind(null,n,t),a=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),a=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}function d(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function m(e,t,n){var r=n.css,a=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||i)&&(r=k(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var p={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),v=null,y=0,_=[],k=n(16);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=a(e);return r(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var s=n[o];(c=p[s.id]).refs--,i.push(c)}e&&r(a(e),t);for(o=0;o<i.length;o++){var c;if(0===(c=i[o]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete p[c.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}}]),function(e){"function"==typeof define&&define.amd?define(["../inputmask"],e):"object"==typeof exports?module.exports=e(require("../inputmask")):e(window.Inputmask)}((function(e){return e.extendAliases({phone:{alias:"abstractphone",phoneCodes:[{mask:"+247-####",cc:"AC",cd:"Ascension",desc_en:"",name_ru:"Остров Вознесения",desc_ru:""},{mask:"+376-###-###",cc:"AD",cd:"Andorra",desc_en:"",name_ru:"Андорра",desc_ru:""},{mask:"+971-5#-###-####",cc:"AE",cd:"United Arab Emirates",desc_en:"mobile",name_ru:"Объединенные Арабские Эмираты",desc_ru:"мобильные"},{mask:"+971-#-###-####",cc:"AE",cd:"United Arab Emirates",desc_en:"",name_ru:"Объединенные Арабские Эмираты",desc_ru:""},{mask:"+93-##-###-####",cc:"AF",cd:"Afghanistan",desc_en:"",name_ru:"Афганистан",desc_ru:""},{mask:"+1(268)###-####",cc:"AG",cd:"Antigua & Barbuda",desc_en:"",name_ru:"Антигуа и Барбуда",desc_ru:""},{mask:"+1(264)###-####",cc:"AI",cd:"Anguilla",desc_en:"",name_ru:"Ангилья",desc_ru:""},{mask:"+355(###)###-###",cc:"AL",cd:"Albania",desc_en:"",name_ru:"Албания",desc_ru:""},{mask:"+374-##-###-###",cc:"AM",cd:"Armenia",desc_en:"",name_ru:"Армения",desc_ru:""},{mask:"+599-###-####",cc:"AN",cd:"Caribbean Netherlands",desc_en:"",name_ru:"Карибские Нидерланды",desc_ru:""},{mask:"+599-###-####",cc:"AN",cd:"Netherlands Antilles",desc_en:"",name_ru:"Нидерландские Антильские острова",desc_ru:""},{mask:"+599-9###-####",cc:"AN",cd:"Netherlands Antilles",desc_en:"Curacao",name_ru:"Нидерландские Антильские острова",desc_ru:"Кюрасао"},{mask:"+244(###)###-###",cc:"AO",cd:"Angola",desc_en:"",name_ru:"Ангола",desc_ru:""},{mask:"+672-1##-###",cc:"AQ",cd:"Australian bases in Antarctica",desc_en:"",name_ru:"Австралийская антарктическая база",desc_ru:""},{mask:"+54(###)###-####",cc:"AR",cd:"Argentina",desc_en:"",name_ru:"Аргентина",desc_ru:""},{mask:"+1(684)###-####",cc:"AS",cd:"American Samoa",desc_en:"",name_ru:"Американское Самоа",desc_ru:""},{mask:"+43(###)###-####",cc:"AT",cd:"Austria",desc_en:"",name_ru:"Австрия",desc_ru:""},{mask:"+61-#-####-####",cc:"AU",cd:"Australia",desc_en:"",name_ru:"Австралия",desc_ru:""},{mask:"+297-###-####",cc:"AW",cd:"Aruba",desc_en:"",name_ru:"Аруба",desc_ru:""},{mask:"+994-##-###-##-##",cc:"AZ",cd:"Azerbaijan",desc_en:"",name_ru:"Азербайджан",desc_ru:""},{mask:"+387-##-#####",cc:"BA",
cd:"Bosnia and Herzegovina",desc_en:"",name_ru:"Босния и Герцеговина",desc_ru:""},{mask:"+387-##-####",cc:"BA",cd:"Bosnia and Herzegovina",desc_en:"",name_ru:"Босния и Герцеговина",desc_ru:""},{mask:"+1(246)###-####",cc:"BB",cd:"Barbados",desc_en:"",name_ru:"Барбадос",desc_ru:""},{mask:"+880-##-###-###",cc:"BD",cd:"Bangladesh",desc_en:"",name_ru:"Бангладеш",desc_ru:""},{mask:"+32(###)###-###",cc:"BE",cd:"Belgium",desc_en:"",name_ru:"Бельгия",desc_ru:""},{mask:"+226-##-##-####",cc:"BF",cd:"Burkina Faso",desc_en:"",name_ru:"Буркина Фасо",desc_ru:""},{mask:"+359(###)###-###",cc:"BG",cd:"Bulgaria",desc_en:"",name_ru:"Болгария",desc_ru:""},{mask:"+973-####-####",cc:"BH",cd:"Bahrain",desc_en:"",name_ru:"Бахрейн",desc_ru:""},{mask:"+257-##-##-####",cc:"BI",cd:"Burundi",desc_en:"",name_ru:"Бурунди",desc_ru:""},{mask:"+229-##-##-####",cc:"BJ",cd:"Benin",desc_en:"",name_ru:"Бенин",desc_ru:""},{mask:"+1(441)###-####",cc:"BM",cd:"Bermuda",desc_en:"",name_ru:"Бермудские острова",desc_ru:""},{mask:"+673-###-####",cc:"BN",cd:"Brunei Darussalam",desc_en:"",name_ru:"Бруней-Даруссалам",desc_ru:""},{mask:"+591-#-###-####",cc:"BO",cd:"Bolivia",desc_en:"",name_ru:"Боливия",desc_ru:""},{mask:"+55-##-####-####",cc:"BR",cd:"Brazil",desc_en:"",name_ru:"Бразилия",desc_ru:""},{mask:"+55-##-#####-####",cc:"BR",cd:"Brazil",desc_en:"",name_ru:"Бразилия",desc_ru:""},{mask:"+1(242)###-####",cc:"BS",cd:"Bahamas",desc_en:"",name_ru:"Багамские Острова",desc_ru:""},{mask:"+975-17-###-###",cc:"BT",cd:"Bhutan",desc_en:"",name_ru:"Бутан",desc_ru:""},{mask:"+975-#-###-###",cc:"BT",cd:"Bhutan",desc_en:"",name_ru:"Бутан",desc_ru:""},{mask:"+267-##-###-###",cc:"BW",cd:"Botswana",desc_en:"",name_ru:"Ботсвана",desc_ru:""},{mask:"+375(##)###-##-##",cc:"BY",cd:"Belarus",desc_en:"",name_ru:"Беларусь (Белоруссия)",desc_ru:""},{mask:"+501-###-####",cc:"BZ",cd:"Belize",desc_en:"",name_ru:"Белиз",desc_ru:""},{mask:"+243(###)###-###",cc:"CD",cd:"Dem. Rep. Congo",desc_en:"",name_ru:"Дем. Респ. Конго (Киншаса)",desc_ru:""},{mask:"+236-##-##-####",cc:"CF",cd:"Central African Republic",desc_en:"",name_ru:"Центральноафриканская Республика",desc_ru:""},{mask:"+242-##-###-####",cc:"CG",cd:"Congo (Brazzaville)",desc_en:"",name_ru:"Конго (Браззавиль)",desc_ru:""},{mask:"+41-##-###-####",cc:"CH",cd:"Switzerland",desc_en:"",name_ru:"Швейцария",desc_ru:""},{mask:"+225-##-###-###",cc:"CI",cd:"Cote d’Ivoire (Ivory Coast)",desc_en:"",name_ru:"Кот-д’Ивуар",desc_ru:""},{mask:"+682-##-###",cc:"CK",cd:"Cook Islands",desc_en:"",name_ru:"Острова Кука",desc_ru:""},{mask:"+56-#-####-####",cc:"CL",cd:"Chile",desc_en:"",name_ru:"Чили",desc_ru:""},{mask:"+237-####-####",cc:"CM",cd:"Cameroon",desc_en:"",name_ru:"Камерун",desc_ru:""},{mask:"+86(###)####-####",cc:"CN",cd:"China (PRC)",desc_en:"",name_ru:"Китайская Н.Р.",desc_ru:""},{mask:"+86(###)####-###",cc:"CN",cd:"China (PRC)",desc_en:"",name_ru:"Китайская Н.Р.",desc_ru:""},{mask:"+86-##-#####-#####",cc:"CN",cd:"China (PRC)",desc_en:"",name_ru:"Китайская Н.Р.",desc_ru:""},{mask:"+57(###)###-####",cc:"CO",cd:"Colombia",desc_en:"",name_ru:"Колумбия",desc_ru:""},{mask:"+506-####-####",cc:"CR",cd:"Costa Rica",desc_en:"",name_ru:"Коста-Рика",desc_ru:""},{mask:"+53-#-###-####",cc:"CU",cd:"Cuba",desc_en:"",name_ru:"Куба",desc_ru:""},{mask:"+238(###)##-##",cc:"CV",cd:"Cape Verde",desc_en:"",name_ru:"Кабо-Верде",desc_ru:""},{mask:"+599-###-####",cc:"CW",cd:"Curacao",desc_en:"",name_ru:"Кюрасао",desc_ru:""},{mask:"+357-##-###-###",cc:"CY",cd:"Cyprus",desc_en:"",name_ru:"Кипр",desc_ru:""},{mask:"+420(###)###-###",cc:"CZ",cd:"Czech Republic",desc_en:"",name_ru:"Чехия",desc_ru:""},{mask:"+49(####)###-####",cc:"DE",cd:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)###-####",cc:"DE",cd:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)##-####",cc:"DE",cd:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)##-###",cc:"DE",cd:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)##-##",cc:"DE",cd:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49-###-###",cc:"DE",cd:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+253-##-##-##-##",cc:"DJ",cd:"Djibouti",desc_en:"",name_ru:"Джибути",desc_ru:""},{mask:"+45-##-##-##-##",cc:"DK",cd:"Denmark",desc_en:"",name_ru:"Дания",desc_ru:""},{mask:"+1(767)###-####",cc:"DM",cd:"Dominica",desc_en:"",name_ru:"Доминика",desc_ru:""},{mask:"+1(809)###-####",cc:"DO",cd:"Dominican Republic",desc_en:"",name_ru:"Доминиканская Республика",desc_ru:""},{mask:"+1(829)###-####",cc:"DO",cd:"Dominican Republic",desc_en:"",name_ru:"Доминиканская Республика",desc_ru:""},{mask:"+1(849)###-####",cc:"DO",cd:"Dominican Republic",desc_en:"",name_ru:"Доминиканская Республика",desc_ru:""},{mask:"+213-##-###-####",cc:"DZ",cd:"Algeria",desc_en:"",name_ru:"Алжир",desc_ru:""},{mask:"+593-##-###-####",cc:"EC",cd:"Ecuador ",desc_en:"mobile",name_ru:"Эквадор ",desc_ru:"мобильные"},{mask:"+593-#-###-####",cc:"EC",cd:"Ecuador",desc_en:"",name_ru:"Эквадор",desc_ru:""},{mask:"+372-####-####",cc:"EE",cd:"Estonia ",desc_en:"mobile",name_ru:"Эстония ",desc_ru:"мобильные"},{mask:"+372-###-####",cc:"EE",cd:"Estonia",desc_en:"",name_ru:"Эстония",desc_ru:""},{mask:"+20(###)###-####",cc:"EG",cd:"Egypt",desc_en:"",name_ru:"Египет",desc_ru:""},{mask:"+291-#-###-###",cc:"ER",cd:"Eritrea",desc_en:"",name_ru:"Эритрея",desc_ru:""},{mask:"+34(###)###-###",cc:"ES",cd:"Spain",desc_en:"",name_ru:"Испания",desc_ru:""},{mask:"+251-##-###-####",cc:"ET",cd:"Ethiopia",desc_en:"",name_ru:"Эфиопия",desc_ru:""},{mask:"+358(###)###-##-##",cc:"FI",cd:"Finland",desc_en:"",name_ru:"Финляндия",desc_ru:""},{mask:"+679-##-#####",cc:"FJ",cd:"Fiji",desc_en:"",name_ru:"Фиджи",desc_ru:""},{mask:"+500-#####",cc:"FK",cd:"Falkland Islands",desc_en:"",name_ru:"Фолклендские острова",desc_ru:""},{mask:"+691-###-####",cc:"FM",cd:"F.S. Micronesia",desc_en:"",name_ru:"Ф.Ш. Микронезии",desc_ru:""},{mask:"+298-###-###",cc:"FO",cd:"Faroe Islands",desc_en:"",name_ru:"Фарерские острова",desc_ru:""},{mask:"+262-#####-####",cc:"FR",cd:"Mayotte",desc_en:"",name_ru:"Майотта",desc_ru:""},{mask:"+33(###)###-###",cc:"FR",cd:"France",desc_en:"",name_ru:"Франция",desc_ru:""},{mask:"+508-##-####",cc:"FR",cd:"St Pierre & Miquelon",desc_en:"",name_ru:"Сен-Пьер и Микелон",desc_ru:""},{mask:"+590(###)###-###",cc:"FR",cd:"Guadeloupe",desc_en:"",name_ru:"Гваделупа",desc_ru:""},{mask:"+241-#-##-##-##",cc:"GA",cd:"Gabon",desc_en:"",name_ru:"Габон",desc_ru:""},{mask:"+1(473)###-####",cc:"GD",cd:"Grenada",desc_en:"",name_ru:"Гренада",desc_ru:""},{mask:"+995(###)###-###",cc:"GE",cd:"Rep. of Georgia",desc_en:"",name_ru:"Грузия",desc_ru:""},{mask:"+594-#####-####",cc:"GF",cd:"Guiana (French)",desc_en:"",name_ru:"Фр. Гвиана",desc_ru:""},{mask:"+233(###)###-###",cc:"GH",cd:"Ghana",desc_en:"",name_ru:"Гана",desc_ru:""},{mask:"+350-###-#####",cc:"GI",cd:"Gibraltar",desc_en:"",name_ru:"Гибралтар",desc_ru:""},{mask:"+299-##-##-##",cc:"GL",cd:"Greenland",desc_en:"",name_ru:"Гренландия",desc_ru:""},{mask:"+220(###)##-##",cc:"GM",cd:"Gambia",desc_en:"",name_ru:"Гамбия",desc_ru:""},{mask:"+224-##-###-###",cc:"GN",cd:"Guinea",desc_en:"",name_ru:"Гвинея",desc_ru:""},{mask:"+240-##-###-####",cc:"GQ",cd:"Equatorial Guinea",desc_en:"",name_ru:"Экваториальная Гвинея",desc_ru:""},{mask:"+30(###)###-####",cc:"GR",cd:"Greece",desc_en:"",name_ru:"Греция",desc_ru:""},{mask:"+502-#-###-####",cc:"GT",cd:"Guatemala",desc_en:"",name_ru:"Гватемала",desc_ru:""},{mask:"+1(671)###-####",cc:"GU",cd:"Guam",desc_en:"",name_ru:"Гуам",desc_ru:""},{mask:"+245-#-######",cc:"GW",cd:"Guinea-Bissau",desc_en:"",name_ru:"Гвинея-Бисау",desc_ru:""},{mask:"+592-###-####",cc:"GY",cd:"Guyana",desc_en:"",name_ru:"Гайана",desc_ru:""},{mask:"+852-####-####",cc:"HK",cd:"Hong Kong",desc_en:"",name_ru:"Гонконг",desc_ru:""},{mask:"+504-####-####",cc:"HN",cd:"Honduras",desc_en:"",name_ru:"Гондурас",desc_ru:""},{mask:"+385-(##)-###-###",cc:"HR",cd:"Croatia",desc_en:"",name_ru:"Хорватия",desc_ru:""},{mask:"+385-(##)-###-####",cc:"HR",cd:"Croatia",desc_en:"",name_ru:"Хорватия",desc_ru:""},{mask:"+385-1-####-###",cc:"HR",cd:"Croatia",desc_en:"",name_ru:"Хорватия",desc_ru:""},{mask:"+509-##-##-####",cc:"HT",cd:"Haiti",desc_en:"",name_ru:"Гаити",desc_ru:""},{mask:"+36(###)###-###",cc:"HU",cd:"Hungary",desc_en:"",name_ru:"Венгрия",desc_ru:""},{mask:"+62(8##)###-####",cc:"ID",cd:"Indonesia ",desc_en:"mobile",name_ru:"Индонезия ",desc_ru:"мобильные"},{mask:"+62-##-###-##",cc:"ID",cd:"Indonesia",desc_en:"",name_ru:"Индонезия",desc_ru:""},{mask:"+62-##-###-###",cc:"ID",cd:"Indonesia",desc_en:"",name_ru:"Индонезия",desc_ru:""},{mask:"+62-##-###-####",cc:"ID",cd:"Indonesia",desc_en:"",name_ru:"Индонезия",desc_ru:""},{mask:"+62(8##)###-###",cc:"ID",cd:"Indonesia ",desc_en:"mobile",name_ru:"Индонезия ",desc_ru:"мобильные"},{mask:"+62(8##)###-##-###",cc:"ID",cd:"Indonesia ",desc_en:"mobile",name_ru:"Индонезия ",desc_ru:"мобильные"},{mask:"+353(###)###-###",cc:"IE",cd:"Ireland",desc_en:"",name_ru:"Ирландия",desc_ru:""},{mask:"+972-5#-###-####",cc:"IL",cd:"Israel ",desc_en:"mobile",name_ru:"Израиль ",desc_ru:"мобильные"},{mask:"+972-#-###-####",cc:"IL",cd:"Israel",desc_en:"",name_ru:"Израиль",desc_ru:""},{mask:"+91(####)###-###",cc:"IN",cd:"India",desc_en:"",name_ru:"Индия",desc_ru:""},{mask:"+246-###-####",cc:"IO",cd:"Diego Garcia",desc_en:"",name_ru:"Диего-Гарсия",desc_ru:""},{mask:"+964(###)###-####",cc:"IQ",cd:"Iraq",desc_en:"",name_ru:"Ирак",desc_ru:""},{mask:"+98(###)###-####",cc:"IR",cd:"Iran",desc_en:"",name_ru:"Иран",desc_ru:""},{mask:"+354-###-####",cc:"IS",cd:"Iceland",desc_en:"",name_ru:"Исландия",desc_ru:""},{mask:"+39(###)####-###",cc:"IT",cd:"Italy",desc_en:"",name_ru:"Италия",desc_ru:""},{mask:"+1(876)###-####",cc:"JM",cd:"Jamaica",desc_en:"",name_ru:"Ямайка",desc_ru:""},{mask:"+962-#-####-####",cc:"JO",cd:"Jordan",desc_en:"",name_ru:"Иордания",desc_ru:""},{mask:"+81-##-####-####",cc:"JP",cd:"Japan ",desc_en:"mobile",name_ru:"Япония ",desc_ru:"мобильные"},{mask:"+81(###)###-###",cc:"JP",cd:"Japan",desc_en:"",name_ru:"Япония",desc_ru:""},{mask:"+254-###-######",cc:"KE",cd:"Kenya",desc_en:"",name_ru:"Кения",desc_ru:""},{mask:"+996(###)###-###",cc:"KG",cd:"Kyrgyzstan",desc_en:"",name_ru:"Киргизия",desc_ru:""},{mask:"+855-##-###-###",cc:"KH",cd:"Cambodia",desc_en:"",name_ru:"Камбоджа",desc_ru:""},{mask:"+686-##-###",cc:"KI",cd:"Kiribati",desc_en:"",name_ru:"Кирибати",desc_ru:""},{mask:"+269-##-#####",cc:"KM",cd:"Comoros",desc_en:"",name_ru:"Коморы",desc_ru:""},{mask:"+1(869)###-####",cc:"KN",cd:"Saint Kitts & Nevis",desc_en:"",name_ru:"Сент-Китс и Невис",desc_ru:""},{mask:"+850-191-###-####",cc:"KP",cd:"DPR Korea (North) ",desc_en:"mobile",name_ru:"Корейская НДР ",desc_ru:"мобильные"},{mask:"+850-##-###-###",cc:"KP",cd:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-###-####-###",cc:"KP",cd:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-###-###",cc:"KP",cd:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-####-####",cc:"KP",cd:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-####-#############",cc:"KP",cd:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+82-##-###-####",cc:"KR",cd:"Korea (South)",desc_en:"",name_ru:"Респ. Корея",desc_ru:""},{mask:"+965-####-####",cc:"KW",cd:"Kuwait",desc_en:"",name_ru:"Кувейт",desc_ru:""},{mask:"+1(345)###-####",cc:"KY",cd:"Cayman Islands",desc_en:"",name_ru:"Каймановы острова",desc_ru:""},{mask:"+7(6##)###-##-##",cc:"KZ",cd:"Kazakhstan",desc_en:"",name_ru:"Казахстан",desc_ru:""},{mask:"+7(7##)###-##-##",cc:"KZ",cd:"Kazakhstan",desc_en:"",name_ru:"Казахстан",desc_ru:""},{mask:"+856(20##)###-###",cc:"LA",cd:"Laos ",desc_en:"mobile",name_ru:"Лаос ",desc_ru:"мобильные"},{mask:"+856-##-###-###",cc:"LA",cd:"Laos",desc_en:"",name_ru:"Лаос",desc_ru:""},{mask:"+961-##-###-###",cc:"LB",cd:"Lebanon ",desc_en:"mobile",name_ru:"Ливан ",desc_ru:"мобильные"},{mask:"+961-#-###-###",cc:"LB",cd:"Lebanon",desc_en:"",name_ru:"Ливан",desc_ru:""},{mask:"+1(758)###-####",cc:"LC",cd:"Saint Lucia",desc_en:"",name_ru:"Сент-Люсия",desc_ru:""},{mask:"+423(###)###-####",cc:"LI",cd:"Liechtenstein",desc_en:"",name_ru:"Лихтенштейн",desc_ru:""},{mask:"+94-##-###-####",cc:"LK",cd:"Sri Lanka",desc_en:"",name_ru:"Шри-Ланка",desc_ru:""},{mask:"+231-##-###-###",cc:"LR",cd:"Liberia",desc_en:"",name_ru:"Либерия",desc_ru:""},{mask:"+266-#-###-####",cc:"LS",cd:"Lesotho",desc_en:"",name_ru:"Лесото",desc_ru:""},{mask:"+370(###)##-###",cc:"LT",cd:"Lithuania",desc_en:"",name_ru:"Литва",desc_ru:""},{mask:"+352-###-###",cc:"LU",cd:"Luxembourg",desc_en:"",name_ru:"Люксембург",desc_ru:""},{mask:"+352-####-###",cc:"LU",cd:"Luxembourg",desc_en:"",name_ru:"Люксембург",desc_ru:""},{mask:"+352-#####-###",cc:"LU",cd:"Luxembourg",desc_en:"",name_ru:"Люксембург",desc_ru:""},{mask:"+352-######-###",cc:"LU",cd:"Luxembourg",desc_en:"",name_ru:"Люксембург",desc_ru:""},{mask:"+371-##-###-###",cc:"LV",cd:"Latvia",desc_en:"",name_ru:"Латвия",desc_ru:""},{mask:"+218-##-###-###",cc:"LY",cd:"Libya",desc_en:"",name_ru:"Ливия",desc_ru:""},{mask:"+218-21-###-####",cc:"LY",cd:"Libya",desc_en:"Tripoli",name_ru:"Ливия",desc_ru:"Триполи"},{mask:"+212-##-####-###",cc:"MA",cd:"Morocco",desc_en:"",name_ru:"Марокко",desc_ru:""},{mask:"+377(###)###-###",cc:"MC",cd:"Monaco",desc_en:"",name_ru:"Монако",desc_ru:""},{mask:"+377-##-###-###",cc:"MC",cd:"Monaco",desc_en:"",name_ru:"Монако",desc_ru:""},{mask:"+373-####-####",cc:"MD",cd:"Moldova",desc_en:"",name_ru:"Молдова",desc_ru:""},{mask:"+382-##-###-###",cc:"ME",cd:"Montenegro",desc_en:"",name_ru:"Черногория",desc_ru:""},{mask:"+261-##-##-#####",cc:"MG",cd:"Madagascar",desc_en:"",name_ru:"Мадагаскар",desc_ru:""},{mask:"+692-###-####",cc:"MH",cd:"Marshall Islands",desc_en:"",name_ru:"Маршалловы Острова",desc_ru:""},{mask:"+389-##-###-###",cc:"MK",cd:"Republic of Macedonia",desc_en:"",name_ru:"Респ. Македония",desc_ru:""},{mask:"+223-##-##-####",cc:"ML",cd:"Mali",desc_en:"",name_ru:"Мали",desc_ru:""},{mask:"+95-##-###-###",cc:"MM",cd:"Burma (Myanmar)",desc_en:"",name_ru:"Бирма (Мьянма)",desc_ru:""},{mask:"+95-#-###-###",cc:"MM",cd:"Burma (Myanmar)",desc_en:"",name_ru:"Бирма (Мьянма)",desc_ru:""},{mask:"+95-###-###",cc:"MM",cd:"Burma (Myanmar)",desc_en:"",name_ru:"Бирма (Мьянма)",desc_ru:""},{mask:"+976-##-##-####",cc:"MN",cd:"Mongolia",desc_en:"",name_ru:"Монголия",desc_ru:""},{mask:"+853-####-####",cc:"MO",cd:"Macau",desc_en:"",name_ru:"Макао",desc_ru:""},{mask:"+1(670)###-####",cc:"MP",cd:"Northern Mariana Islands",desc_en:"",name_ru:"Северные Марианские острова Сайпан",desc_ru:""},{mask:"+596(###)##-##-##",cc:"MQ",cd:"Martinique",desc_en:"",name_ru:"Мартиника",desc_ru:""},{mask:"+222-##-##-####",cc:"MR",cd:"Mauritania",desc_en:"",name_ru:"Мавритания",desc_ru:""},{mask:"+1(664)###-####",cc:"MS",cd:"Montserrat",desc_en:"",name_ru:"Монтсеррат",desc_ru:""},{mask:"+356-####-####",cc:"MT",cd:"Malta",desc_en:"",name_ru:"Мальта",desc_ru:""},{mask:"+230-###-####",cc:"MU",cd:"Mauritius",desc_en:"",name_ru:"Маврикий",desc_ru:""},{mask:"+960-###-####",cc:"MV",cd:"Maldives",desc_en:"",name_ru:"Мальдивские острова",desc_ru:""},{mask:"+265-1-###-###",cc:"MW",cd:"Malawi",desc_en:"Telecom Ltd",name_ru:"Малави",desc_ru:"Telecom Ltd"},{mask:"+265-#-####-####",cc:"MW",cd:"Malawi",desc_en:"",name_ru:"Малави",desc_ru:""},{mask:"+52(###)###-####",cc:"MX",cd:"Mexico",desc_en:"",name_ru:"Мексика",desc_ru:""},{mask:"+52-##-##-####",cc:"MX",cd:"Mexico",desc_en:"",name_ru:"Мексика",desc_ru:""},{mask:"+60-##-###-####",cc:"MY",cd:"Malaysia ",desc_en:"mobile",name_ru:"Малайзия ",desc_ru:"мобильные"},{mask:"+60-11-####-####",cc:"MY",cd:"Malaysia ",desc_en:"mobile",name_ru:"Малайзия ",desc_ru:"мобильные"},{mask:"+60(###)###-###",cc:"MY",cd:"Malaysia",desc_en:"",name_ru:"Малайзия",desc_ru:""},{mask:"+60-##-###-###",cc:"MY",cd:"Malaysia",desc_en:"",name_ru:"Малайзия",desc_ru:""},{mask:"+60-#-###-###",cc:"MY",cd:"Malaysia",desc_en:"",name_ru:"Малайзия",desc_ru:""},{mask:"+258-##-###-###",cc:"MZ",cd:"Mozambique",desc_en:"",name_ru:"Мозамбик",desc_ru:""},{mask:"+264-##-###-####",cc:"NA",cd:"Namibia",desc_en:"",name_ru:"Намибия",desc_ru:""},{mask:"+687-##-####",cc:"NC",cd:"New Caledonia",desc_en:"",name_ru:"Новая Каледония",desc_ru:""},{mask:"+227-##-##-####",cc:"NE",cd:"Niger",desc_en:"",name_ru:"Нигер",desc_ru:""},{mask:"+672-3##-###",cc:"NF",cd:"Norfolk Island",desc_en:"",name_ru:"Норфолк (остров)",desc_ru:""},{mask:"+234(###)###-####",cc:"NG",cd:"Nigeria",desc_en:"",name_ru:"Нигерия",desc_ru:""},{mask:"+234-##-###-###",cc:"NG",cd:"Nigeria",desc_en:"",name_ru:"Нигерия",desc_ru:""},{mask:"+234-##-###-##",cc:"NG",cd:"Nigeria",desc_en:"",name_ru:"Нигерия",desc_ru:""},{mask:"+234(###)###-####",cc:"NG",cd:"Nigeria ",desc_en:"mobile",name_ru:"Нигерия ",desc_ru:"мобильные"},{mask:"+505-####-####",cc:"NI",cd:"Nicaragua",desc_en:"",name_ru:"Никарагуа",desc_ru:""},{mask:"+31-##-###-####",cc:"NL",cd:"Netherlands",desc_en:"",name_ru:"Нидерланды",desc_ru:""},{mask:"+47(###)##-###",cc:"NO",cd:"Norway",desc_en:"",name_ru:"Норвегия",desc_ru:""},{mask:"+977-##-###-###",cc:"NP",cd:"Nepal",desc_en:"",name_ru:"Непал",desc_ru:""},{mask:"+674-###-####",cc:"NR",cd:"Nauru",desc_en:"",name_ru:"Науру",desc_ru:""},{mask:"+683-####",cc:"NU",cd:"Niue",desc_en:"",name_ru:"Ниуэ",desc_ru:""},{mask:"+64(###)###-###",cc:"NZ",cd:"New Zealand",desc_en:"",name_ru:"Новая Зеландия",desc_ru:""},{mask:"+64-##-###-###",cc:"NZ",cd:"New Zealand",desc_en:"",name_ru:"Новая Зеландия",desc_ru:""},{mask:"+64(###)###-####",cc:"NZ",cd:"New Zealand",desc_en:"",name_ru:"Новая Зеландия",desc_ru:""},{mask:"+968-##-###-###",cc:"OM",cd:"Oman",desc_en:"",name_ru:"Оман",desc_ru:""},{mask:"+507-###-####",cc:"PA",cd:"Panama",desc_en:"",name_ru:"Панама",desc_ru:""},{mask:"+51(###)###-###",cc:"PE",cd:"Peru",desc_en:"",name_ru:"Перу",desc_ru:""},{mask:"+689-##-##-##",cc:"PF",cd:"French Polynesia",desc_en:"",name_ru:"Французская Полинезия (Таити)",desc_ru:""},{mask:"+675(###)##-###",cc:"PG",cd:"Papua New Guinea",desc_en:"",name_ru:"Папуа-Новая Гвинея",desc_ru:""},{mask:"+63(###)###-####",cc:"PH",cd:"Philippines",desc_en:"",name_ru:"Филиппины",desc_ru:""},{mask:"+92(###)###-####",cc:"PK",cd:"Pakistan",desc_en:"",name_ru:"Пакистан",desc_ru:""},{mask:"+48(###)###-###",cc:"PL",cd:"Poland",desc_en:"",name_ru:"Польша",desc_ru:""},{mask:"+970-##-###-####",cc:"PS",cd:"Palestine",desc_en:"",name_ru:"Палестина",desc_ru:""},{mask:"+351-##-###-####",cc:"PT",cd:"Portugal",desc_en:"",name_ru:"Португалия",desc_ru:""},{mask:"+680-###-####",cc:"PW",cd:"Palau",desc_en:"",name_ru:"Палау",desc_ru:""},{mask:"+595(###)###-###",cc:"PY",cd:"Paraguay",desc_en:"",name_ru:"Парагвай",desc_ru:""},{mask:"+974-####-####",cc:"QA",cd:"Qatar",desc_en:"",name_ru:"Катар",desc_ru:""},{mask:"+262-#####-####",cc:"RE",cd:"Reunion",desc_en:"",name_ru:"Реюньон",desc_ru:""},{mask:"+40-##-###-####",cc:"RO",cd:"Romania",desc_en:"",name_ru:"Румыния",desc_ru:""},{mask:"+381-##-###-####",cc:"RS",cd:"Serbia",desc_en:"",name_ru:"Сербия",desc_ru:""},{mask:"+7(###)###-##-##",cc:"RU",cd:"Russia",desc_en:"",name_ru:"Россия",desc_ru:""},{mask:"+250(###)###-###",cc:"RW",cd:"Rwanda",desc_en:"",name_ru:"Руанда",desc_ru:""},{mask:"+966-5-####-####",cc:"SA",cd:"Saudi Arabia ",desc_en:"mobile",name_ru:"Саудовская Аравия ",desc_ru:"мобильные"},{mask:"+966-#-###-####",cc:"SA",cd:"Saudi Arabia",desc_en:"",name_ru:"Саудовская Аравия",desc_ru:""},{mask:"+677-###-####",cc:"SB",cd:"Solomon Islands ",desc_en:"mobile",name_ru:"Соломоновы Острова ",desc_ru:"мобильные"},{mask:"+677-#####",cc:"SB",cd:"Solomon Islands",desc_en:"",name_ru:"Соломоновы Острова",desc_ru:""},{mask:"+248-#-###-###",cc:"SC",cd:"Seychelles",desc_en:"",name_ru:"Сейшелы",desc_ru:""},{mask:"+249-##-###-####",cc:"SD",cd:"Sudan",desc_en:"",name_ru:"Судан",desc_ru:""},{mask:"+46-##-###-####",cc:"SE",cd:"Sweden",desc_en:"",name_ru:"Швеция",desc_ru:""},{mask:"+65-####-####",cc:"SG",cd:"Singapore",desc_en:"",name_ru:"Сингапур",desc_ru:""},{mask:"+290-####",cc:"SH",cd:"Saint Helena",desc_en:"",name_ru:"Остров Святой Елены",desc_ru:""},{mask:"+290-####",cc:"SH",cd:"Tristan da Cunha",desc_en:"",name_ru:"Тристан-да-Кунья",desc_ru:""},{mask:"+386-##-###-###",cc:"SI",cd:"Slovenia",desc_en:"",name_ru:"Словения",desc_ru:""},{mask:"+421(###)###-###",cc:"SK",cd:"Slovakia",desc_en:"",name_ru:"Словакия",desc_ru:""},{mask:"+232-##-######",cc:"SL",cd:"Sierra Leone",desc_en:"",name_ru:"Сьерра-Леоне",desc_ru:""},{mask:"+378-####-######",cc:"SM",cd:"San Marino",desc_en:"",name_ru:"Сан-Марино",desc_ru:""},{mask:"+221-##-###-####",cc:"SN",cd:"Senegal",desc_en:"",name_ru:"Сенегал",desc_ru:""},{mask:"+252-##-###-###",cc:"SO",cd:"Somalia",desc_en:"",name_ru:"Сомали",desc_ru:""},{mask:"+252-#-###-###",cc:"SO",cd:"Somalia",desc_en:"",name_ru:"Сомали",desc_ru:""},{mask:"+252-#-###-###",cc:"SO",cd:"Somalia ",desc_en:"mobile",name_ru:"Сомали ",desc_ru:"мобильные"},{mask:"+597-###-####",cc:"SR",cd:"Suriname ",desc_en:"mobile",name_ru:"Суринам ",desc_ru:"мобильные"},{mask:"+597-###-###",cc:"SR",cd:"Suriname",desc_en:"",name_ru:"Суринам",desc_ru:""},{mask:"+211-##-###-####",cc:"SS",cd:"South Sudan",desc_en:"",name_ru:"Южный Судан",desc_ru:""},{mask:"+239-##-#####",cc:"ST",cd:"Sao Tome and Principe",desc_en:"",name_ru:"Сан-Томе и Принсипи",desc_ru:""},{mask:"+503-##-##-####",cc:"SV",cd:"El Salvador",desc_en:"",name_ru:"Сальвадор",desc_ru:""},{mask:"+1(721)###-####",cc:"SX",cd:"Sint Maarten",desc_en:"",name_ru:"Синт-Маартен",desc_ru:""},{mask:"+963-##-####-###",cc:"SY",cd:"Syrian Arab Republic",desc_en:"",name_ru:"Сирийская арабская республика",desc_ru:""},{mask:"+268-##-##-####",cc:"SZ",cd:"Swaziland",desc_en:"",name_ru:"Свазиленд",desc_ru:""},{mask:"+1(649)###-####",cc:"TC",cd:"Turks & Caicos",desc_en:"",name_ru:"Тёркс и Кайкос",desc_ru:""},{mask:"+235-##-##-##-##",cc:"TD",cd:"Chad",desc_en:"",name_ru:"Чад",desc_ru:""},{mask:"+228-##-###-###",cc:"TG",cd:"Togo",desc_en:"",name_ru:"Того",desc_ru:""},{mask:"+66-##-###-####",cc:"TH",cd:"Thailand ",desc_en:"mobile",name_ru:"Таиланд ",desc_ru:"мобильные"},{mask:"+66-##-###-###",cc:"TH",cd:"Thailand",desc_en:"",name_ru:"Таиланд",desc_ru:""},{mask:"+992-##-###-####",cc:"TJ",cd:"Tajikistan",desc_en:"",name_ru:"Таджикистан",desc_ru:""},{mask:"+690-####",cc:"TK",cd:"Tokelau",desc_en:"",name_ru:"Токелау",desc_ru:""},{mask:"+670-###-####",cc:"TL",cd:"East Timor",desc_en:"",name_ru:"Восточный Тимор",desc_ru:""},{mask:"+670-77#-#####",cc:"TL",cd:"East Timor",desc_en:"Timor Telecom",name_ru:"Восточный Тимор",desc_ru:"Timor Telecom"},{mask:"+670-78#-#####",cc:"TL",cd:"East Timor",desc_en:"Timor Telecom",name_ru:"Восточный Тимор",desc_ru:"Timor Telecom"},{mask:"+993-#-###-####",cc:"TM",cd:"Turkmenistan",desc_en:"",name_ru:"Туркменистан",desc_ru:""},{mask:"+216-##-###-###",cc:"TN",cd:"Tunisia",desc_en:"",name_ru:"Тунис",desc_ru:""},{mask:"+676-#####",cc:"TO",cd:"Tonga",desc_en:"",name_ru:"Тонга",desc_ru:""},{mask:"+90(###)###-####",cc:"TR",cd:"Turkey",desc_en:"",name_ru:"Турция",desc_ru:""},{mask:"+1(868)###-####",cc:"TT",cd:"Trinidad & Tobago",desc_en:"",name_ru:"Тринидад и Тобаго",desc_ru:""},{mask:"+688-90####",cc:"TV",cd:"Tuvalu ",desc_en:"mobile",name_ru:"Тувалу ",desc_ru:"мобильные"},{mask:"+688-2####",cc:"TV",cd:"Tuvalu",desc_en:"",name_ru:"Тувалу",desc_ru:""},{mask:"+886-#-####-####",cc:"TW",cd:"Taiwan",desc_en:"",name_ru:"Тайвань",desc_ru:""},{mask:"+886-####-####",cc:"TW",cd:"Taiwan",desc_en:"",name_ru:"Тайвань",desc_ru:""},{mask:"+255-##-###-####",cc:"TZ",cd:"Tanzania",desc_en:"",name_ru:"Танзания",desc_ru:""},{mask:"+380(##)###-##-##",cc:"UA",cd:"Ukraine",desc_en:"",name_ru:"Украина",desc_ru:""},{mask:"+256(###)###-###",cc:"UG",cd:"Uganda",desc_en:"",name_ru:"Уганда",desc_ru:""},{mask:"+44-##-####-####",cc:"UK",cd:"United Kingdom",desc_en:"",name_ru:"Великобритания",desc_ru:""},{mask:"+598-#-###-##-##",cc:"UY",cd:"Uruguay",desc_en:"",name_ru:"Уругвай",desc_ru:""},{mask:"+998-##-###-####",cc:"UZ",cd:"Uzbekistan",desc_en:"",name_ru:"Узбекистан",desc_ru:""},{mask:"+39-6-698-#####",cc:"VA",cd:"Vatican City",desc_en:"",name_ru:"Ватикан",desc_ru:""},{mask:"+1(784)###-####",cc:"VC",cd:"Saint Vincent & the Grenadines",desc_en:"",name_ru:"Сент-Винсент и Гренадины",desc_ru:""},{mask:"+58(###)###-####",cc:"VE",cd:"Venezuela",desc_en:"",name_ru:"Венесуэла",desc_ru:""},{mask:"+1(284)###-####",cc:"VG",cd:"British Virgin Islands",desc_en:"",name_ru:"Британские Виргинские острова",desc_ru:""},{mask:"+1(340)###-####",cc:"VI",cd:"US Virgin Islands",desc_en:"",name_ru:"Американские Виргинские острова",desc_ru:""},{mask:"+84-##-####-###",cc:"VN",cd:"Vietnam",desc_en:"",name_ru:"Вьетнам",desc_ru:""},{mask:"+84(###)####-###",cc:"VN",cd:"Vietnam",desc_en:"",name_ru:"Вьетнам",desc_ru:""},{mask:"+678-##-#####",cc:"VU",cd:"Vanuatu ",desc_en:"mobile",name_ru:"Вануату ",desc_ru:"мобильные"},{mask:"+678-#####",cc:"VU",cd:"Vanuatu",desc_en:"",name_ru:"Вануату",desc_ru:""},{mask:"+681-##-####",cc:"WF",cd:"Wallis and Futuna",desc_en:"",name_ru:"Уоллис и Футуна",desc_ru:""},{mask:"+685-##-####",cc:"WS",cd:"Samoa",desc_en:"",name_ru:"Самоа",desc_ru:""},{mask:"+967-###-###-###",cc:"YE",cd:"Yemen ",desc_en:"mobile",name_ru:"Йемен ",desc_ru:"мобильные"},{mask:"+967-#-###-###",cc:"YE",cd:"Yemen",desc_en:"",name_ru:"Йемен",desc_ru:""},{mask:"+967-##-###-###",cc:"YE",cd:"Yemen",desc_en:"",name_ru:"Йемен",desc_ru:""},{mask:"+27-##-###-####",cc:"ZA",cd:"South Africa",desc_en:"",name_ru:"Южно-Африканская Респ.",desc_ru:""},{mask:"+260-##-###-####",cc:"ZM",cd:"Zambia",desc_en:"",name_ru:"Замбия",desc_ru:""},{mask:"+263-#-######",cc:"ZW",cd:"Zimbabwe",desc_en:"",name_ru:"Зимбабве",desc_ru:""},{mask:"+1(###)###-####",cc:["US","CA"],cd:"USA and Canada",desc_en:"",name_ru:"США и Канада",desc_ru:""}]}}),e}));
$(document).ready(
    function() {
    
/* ============================================================================
Alerts 'Close' Buttons
============================================================================ */

$('.js-alert__close').click(function(e) {
    e.preventDefault();
    $(this).parent('div.panel--alert').fadeOut('slow');
});

/* ============================================================================
Navigation
============================================================================ */

/* Navigation Select Jump Menu
============================================================================ */

$('.js-select-jump').change(function() {
    window.location.href = $(this).val();
});

/* Disabled pagination links
============================================================================ */

$('[aria-disabled=true]').click(function(e) {
    e.preventDefault();
});

/* ============================================================================
Buttons
============================================================================ */

/* Handle disabled buttons
============================================================================ */

$('.js-button--disabled').click(function(e) {
    e.preventDefault();
});

/* Social sharing buttons
============================================================================ */

$('.social-sharing__facebook').click(function(e) {
    e.preventDefault();
    var url = $(this).attr('href'),
    	width = 670,
    	height = 270,
    	left = (screen.width/2)-(width/2),
    	top = (screen.height/2)-(height/2);
    window.open(url,'social-sharing__facebook','menubar=1,resizable=1,width='+width+',height='+height+',top='+top+', left='+left);
});

$('.social-sharing__twitter').click(function(e) {
    e.preventDefault();
    var url = $(this).attr('href'),
    	width = 550,
    	height = 420,
    	left = (screen.width/2)-(width/2),
    	top = (screen.height/2)-(height/2);
    window.open(url,'social-sharing__facebook','menubar=1,resizable=1,width='+width+',height='+height+',top='+top+', left='+left);
});

/* ============================================================================
Lightbox
============================================================================ */

$('.js-lightbox--image').magnificPopup({
    type: 'image',
    closeBtnInside: false
});

$('.js-lightbox--group').each(function() {
    $(this).magnificPopup({
        type: 'image',
        delegate: 'a',
        gallery:{
            enabled: true
        },
        closeBtnInside: false
    });
});

$('.js-lightbox--video').magnificPopup({
    type: 'iframe',
    closeBtnInside: false
});

$('.js-lightbox--inline').magnificPopup({
    type: 'inline',
    midClick: true,
    closeBtnInside: false
});

$('.js-lightbox--modal').magnificPopup({
	type: 'inline',
    modal: true
});

$('.image-gallery--next-prev, .collection--gallery--next-prev').each(
    function() {
        $(this).find('.js-lightbox--inline').magnificPopup({
            type: 'inline',
            gallery: {
              enabled: true
            },
            closeBtnInside: false
        });
    }
);

$(document).on('click', '.js-modal-popup-close', function (e) {
    e.preventDefault();
    $.magnificPopup.close();
});

/* ============================================================================
Images
============================================================================ */

/* Convert image into background of parent container */
$('.image--is-background').each(function() {
    
    var imgUrl = $(this).find('img').attr('src');
    
    if ($(this).parent('div.collection-item__content').length) {
        $(this).parents('.collection-item').addClass('has-image-background').css('background-image', 'url(' + imgUrl + ')');
    } else if ($(this).parent('div.image-gallery-item__content').length) {
        $(this).parents('.image-gallery-item').addClass('has-image-background').css('background-image', 'url(' + imgUrl + ')');
    } else {
        $(this).parent().addClass('has-image-background').css('background-image', 'url(' + imgUrl + ')');
    }
    
    $(this).remove();

});

/* ============================================================================
Sliders
============================================================================ */

$('.js-slider__contents .slide__image').each(function() {
    
    if (!$(this).closest('.js-slider').hasClass('slider--no-bg')) {
        var imgUrl = $(this).find('img').attr('src');
        $(this).hide();
        $(this).parent('.slide').css('background-image', 'url(' + imgUrl + ')');
    }

});

/* ============================================================================
Toggle accordion panes
============================================================================ */

$('.js-accordion-panel-trigger').click(function(e) {

    e.preventDefault();
    
    if (!($(this).parent('.js-accordion__panel').hasClass('accordion__panel--current'))) {

        $(this).parents('.js-accordion').find('.js-accordion-panel-content').slideUp(300, function() {
            $(this).parent('.js-accordion__panel').removeClass('accordion__panel--current');
        });

        $(this).parent('.js-accordion__panel').addClass('accordion__panel--current');

        $(this).siblings('.js-accordion-panel-content').slideDown(300);

    } else {

        $(this).parents('.js-accordion').find('.js-accordion-panel-content').slideUp(300, function() {
            $(this).parent('.js-accordion__panel').removeClass('accordion__panel--current');
        });
    
    }
    
});

/* ==========================================================================
   Display Toggles
   ========================================================================== */

$('.js-toggle-display').click(function(e) {

    e.preventDefault();

    var toggleDisplay = $(this).data('toggle-display');
    var toggleDisplayEffect = $(this).data('toggle-display-effect');
    
    /* Show effect */
    if (toggleDisplayEffect == 'show') {

        if ($('#' + toggleDisplay).is(':visible')) {
            $('#' + toggleDisplay).addClass('hidden');
        } else {
            $('#' + toggleDisplay).removeClass('hidden');
        }

    /* Fade effect */
    } else if (toggleDisplayEffect == 'fade') {

        if ($('#' + toggleDisplay).is(':visible')) {
            $('#' + toggleDisplay).fadeOut(function() {
                $(this).addClass('hidden');
            });
        } else {
            $('#' + toggleDisplay).removeClass('hidden').css('display','none').fadeIn();
        }
    
    /* Slide effect */
    } else if (toggleDisplayEffect == 'slide') {

        if ($('#' + toggleDisplay).is(':visible')) {
            $('#' + toggleDisplay).slideUp(function() {
                $(this).addClass('hidden');
            });
        } else {
            $('#' + toggleDisplay).removeClass('hidden').css('display','none').slideDown();
        }
    
    }
    
});

/* ============================================================================
Tabs
============================================================================ */

$('.js-tabs__nav a').click(function(e) {
    e.preventDefault();
    var tab_class = $(this).attr('href').replace(/[#]/,'');
    $(this).parents('ul').children('li').removeClass('tab-panel--current');
    $(this).parents('div.tabs').find('div.tab-panel').removeClass('tab-panel--current');
    $(this).parent().addClass('tab-panel--current');
    $(this).parents('div.tabs').find('div.tab-panel.'+tab_class).addClass('tab-panel--current');
});

/* ============================================================================
Tooltips
============================================================================ */

$('.js-tooltip').tooltipster({
    maxWidth: 300,
    contentAsHTML: true
});

/* ============================================================================
Forms
============================================================================ */

/* Add wrapper around "search" input fields
============================================================================ */

$('input[type=search]').wrap('<div class="form-control--search"></div>');

/* Launch jQuery.payment for payment field collections
============================================================================ */

/* jQuery.payment, field input formatting */
$('.js-payment-cc-number').payment('formatCardNumber');
$('.js-payment-cc-exp').payment('formatCardExpiry').attr('placeholder','MM / YY');
$('.js-payment-cc-csc').payment('formatCardCVC');

/* jQuery.payment, CC type verification and icon manipulation */
$('.js-payment-cc-number').keyup(function(){

    var cardType = $.payment.cardType($(this).val());

    $(this).siblings('.accepted-cc-types').find('.cc-type').addClass('na');

    if (cardType != null) {
        $(this).siblings('.accepted-cc-types').find('.cc-type.' + cardType).removeClass('na');
    }

    if ($(this).val() == '') {
        $(this).siblings('.accepted-cc-types').find('.cc-type').removeClass('na');
    }

});

/* Handline inline form control labels
============================================================================ */

$('.form--inline-labels .form-row').not('.form-row--sub-options').each(function() {

    var labelText = $(this).find('label').text();

    $(this).find('textarea, select, input:not([type="checkbox"],[type="radio"])').focus(function () {
    
    	var toolTipText;
    
		if (!$(this).parents('div.form-row').hasClass('form-row--field-collection')) {
			toolTipText = $('label[for="' + $(this).attr('id') + '"]').text();
		} else {
			toolTipText = $(this).attr('placeholder');
		}

        $(this).tooltipster({
            maxWidth: 300,
            position: 'top-left',
            functionInit: function(){
                return toolTipText;
            }
        });
    
        $(this).tooltipster('show');

    })
    .blur(function(){
        $(this).tooltipster('destroy');
    });

});

/* Handle sub-options
============================================================================ */

/* Radio buttons, checkboxes */

$('.js-has-sub-options > li > label input').click(function() {

    var inputType = $(this).attr('type');
    var toggleSubOption = $(this).parent('label').data('sub-option');
    
    if (inputType == 'radio') {
    
        /* Radio buttons */

        if (!$(this).hasClass('checked')) {
            $(this).closest('.js-has-sub-options').children('li').children('div.control-sub-option').slideUp();
            $(this).parents('.js-has-sub-options').siblings('div.control-sub-options').children('div.control-sub-option').slideUp();
        }
        
        $(this).closest('.js-has-sub-options').children('li').children('label').children('input').removeClass('checked');
    
        if ($(this).is(':checked')) {
            $('#' + toggleSubOption).slideDown();
            $(this).addClass('checked');
        }
    
    } else if (inputType == 'checkbox') {
    
        /* Checkboxes */

        if ($(this).is(':checked')) {
            $('#' + toggleSubOption).slideDown();
        } else {
            $('#' + toggleSubOption).slideUp();
        }
    
    }

});

/* Select menus */

$('select.js-has-sub-options').change(function() {

    var toggleSubOption = $(this).children('option:selected').data('sub-option');

    /* Hide any currently displaying sub-options */
    $(this).siblings('div.control-sub-options').children('div.control-sub-option').slideUp();

    /* Slide down selected option's sub options, if any */
    $('#' + toggleSubOption).slideDown();

});

/* ============================================================================
Tables
============================================================================ */

/* Linked table rows
============================================================================ */

$('tr.js-is-link').click(function(e) {
    e.preventDefault();
    var href = $(this).data('href');
    window.location = href;
});

/* Responsive Tables
============================================================================ */

if ($('.js-table--responsive').length) {

    $('.js-table--responsive').each(function() {
        var headertext = [];
        var headers = $(this).find('th');
        var tablebody = $(this).find('tbody')[0];
        
        if (headers.length) {

			for (var i = 0; i < headers.length; i++) {
				headertext.push(headers[i].textContent.replace(/\r?\n|\r/, ''));
			}
			
			for (var i = 0, row; row = tablebody.rows[i]; i++) {
				for (var j = 0, col; col = row.cells[j]; j++) {
					col.setAttribute('data-label', headertext[j]);
				}
			}        

        }

    });
    
}

/* ============================================================================
Input masks
============================================================================ */

/* Domestic phone field
============================================================================ */

$('.form-row--tel-domestic input[type=tel]').inputmask({
	'mask': '(999) 999-9999',
	'showMaskOnFocus': false
});

/* International phone field
============================================================================ */

$('.form-row--tel-international input[type=tel]').inputmask({
	regex: '[0-9.\\-() ]*'
});

/* Numeric fields
============================================================================ */

$('input.js-numeric_only').inputmask({
	regex: '\\d*'
});

/* Amount fields
============================================================================ */

$('input.js-custom_amount').keydown(function (e) {
	// Allow: backspace, delete, tab, escape, enter, .
	if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 188, 190]) !== -1 ||
		// Allow: Ctrl+A
		(e.keyCode == 65 && e.ctrlKey === true) || 
		// Allow: home, end, left, right
		(e.keyCode >= 35 && e.keyCode <= 39)) {
			// let it happen, don't do anything
			return;
	}
	// Ensure that it is a number and stop the keypress
	if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
		e.preventDefault();
	}
});

	}
);

/* ============================================================================
FireSlider
============================================================================ */

var noneEffect = function(el, options) {
	el.velocity({translateX: [(options.nextPos + '%'), (options.currPos + '%')]}, {duration: 0, queue: options.effect, easing: [0]});
}
fireSlider.prototype.Effects.register('none', noneEffect);

var sliderCarouselBreakpoints = [
    {breakpoint: 1, show: 1, active: 1},
    {breakpoint: 480, show: 2, active: 1},
    {breakpoint: 768, show: 3, active: 2}
];

$('.js-slider--carousel .js-slider__contents > ul').each(function() {
    $(this).fireSlider({
        delay: 7500,
        disableLinks: false,
        hoverPause: true,
        show: 3,
        active: 2,
        effect: 'none',
        activeSlideClass: 'slide--active',
        activePagerClass: 'slider-controls-pager__active',
        breakpoints: sliderCarouselBreakpoints,
        pager: $(this).parents('.slider__contents').siblings('.slider__pager').find('.slider-controls-pager'),
        prev: $(this).parents('.slider__contents').siblings('.slider__controls').find('.slider-nav--prev'),
        next: $(this).parents('.slider__contents').siblings('.slider__controls').find('.slider-nav--next')
    });
});

/* No Carousel */

$('.js-slider--no-carousel .js-slider__contents > ul').each(function() {
    $(this).fireSlider({
        delay: 7500,
        disableLinks: false,
        hoverPause: true,
        show: 1,
        active: 1,
        effect: 'none',
        activeSlideClass: 'slide--active',
        activePagerClass: 'slider-controls-pager__active',
        pager: $(this).parents('.slider__contents').siblings('.slider__controls').find('.slider-controls-pager'),
        prev: $(this).parents('.slider__contents').siblings('.slider__controls').find('.slider-nav--prev'),
        next: $(this).parents('.slider__contents').siblings('.slider__controls').find('.slider-nav--next')
    });
});

/* ==========================================================================
   jQuery Delay Bind Event Handler
   http://www.ideawu.com/blog/2011/05/jquery-delay-bind-event-handler-lazy-bind.html
   ========================================================================== */

(function($){
   $.fn.lazybind = function(event, fn, timeout, abort){
        var timer = null;
        $(this).bind(event, function(){
            timer = setTimeout(fn, timeout);
        });
        if(abort == undefined){
            return;
        }
        $(this).bind(abort, function(){
            if(timer != null){
                clearTimeout(timer);
            }
        });
    };
})(jQuery);
;(function ($, window, document) {
  var pluginName = 'fdpCatalogCartAjax'

  var defaults = {
    disableLinks: false,
    emptyCartTemplate: '',
    contentIdentifier: ''
  }

  function FdpCatalogCartAjax (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpCatalogCartAjax.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      plugin.initModal()

      $(document).ajaxStart(function () {
        plugin.options.disableLinks = true
        plugin.showModal()
        plugin.$el.find('#content_cart_frm').fadeTo(0, 0.45)
        plugin.$el.find(':input').attr('disabled', true)
        plugin.$el.find('input[name="submit"]').attr('disabled', true)
      }).ajaxStop(function () {
        plugin.$el.find('input[name="submit"]').removeAttr('disabled')
        plugin.$el.find(':input').removeAttr('disabled')
        plugin.$el.find('#content_cart_frm').fadeTo(0, 1)
        plugin.hideModal()
        plugin.options.disableLinks = false
      })

      plugin.eventListeners()
    },

    initModal: function () {
      var plugin = this

      var overlay = $('<div/>').addClass('shopping-cart-overlay')
      var modal = $('<div/>').addClass('shopping-cart-popup inline-popup modal-popup--spinner')
      var header = $('<div/>').addClass('inline-popup__header')
      var heading = $('<h5/>').text('Updating shopping cart...')
      var content = $('<div/>').addClass('inline-popup__content')
      var spinner = $('<div/>').addClass('modal-spinner')
      var icon = $('<i/>').addClass('fa fa-cog fa-spin')
      $(icon).appendTo(spinner)
      $(spinner).appendTo(content)
      $(heading).appendTo(header)
      $(modal).append(header)
      $(modal).append(content)
      $(overlay).append(modal)
      plugin.modal = $(overlay)
    },

    showModal: function () {
      var plugin = this

      plugin.$el.addClass('shopping-cart--has-overlay')
      plugin.$el.find('.shopping-cart__contents').append(plugin.modal.clone())
    },

    hideModal: function () {
      var plugin = this

      plugin.$el.removeClass('shopping-cart--has-overlay')
      plugin.$el.find('.shopping-cart__contents').find('.shopping-cart-overlay').remove()
    },

    eventListeners: function () {
      var plugin = this

      $('.js-button--delete').click(function () {
        if (plugin.options.disableLinks) {
          return false // links disabled so bail
        }
        var ajaxUrl = $(this).attr('data-ajax-href')
        $.ajax({
          type: 'GET',
          url: ajaxUrl,
          success: function (data) {
            plugin.UpdateCartView(data, plugin)
          }
        })
        return false // don't submit form
      })

      $('#cart_update_quantities_btn').click(function () {
        if (plugin.options.disableLinks) {
          return false // links disabled so bail
        }
        var ajaxUrl = $(this).attr('data-ajax-href')
        $.ajax({
          type: 'GET',
          url: ajaxUrl,
          data: $('#content_cart_frm').serialize(),
          success: function (data) {
            plugin.UpdateCartView(data, plugin)
          }
        })
        return false // don't submit form
      })
    }

  }

  FdpCatalogCartAjax.prototype.UpdateCartView = function (data, plugin) {
    if (Object.prototype.hasOwnProperty.call(data, 'isCartValid')) {
      if (!data.isCartValid) {
        window.location.reload()
      }
    }

    if (Object.prototype.hasOwnProperty.call(data, 'errors')) {
      for (var error = 0; error < data.errors.length; error++) {
        if (data.errors[error].message === 'Access denied to resource.') {
          window.location.replace(plugin.options.redirectUrl)
        }
      }
    }

    if (Object.prototype.hasOwnProperty.call(data, 'cartItems')) {
      var cartItems = data.cartItems
      for (var i = 0; i < cartItems.length; i++) {
        var cartItem = cartItems[i]
        var cartItemElem = plugin.$el.find('#content_' + plugin.options.contentIdentifier + '_shopping-cart-item-' + cartItem.id)
        if (cartItem.quantity === 0) {
          cartItemElem.remove()
        } else {
          cartItemElem.find('.shopping-cart-item-price > strong').text(cartItem.unit_price)
          cartItemElem.find('.shopping-cart-item-subtotal > strong').text(cartItem.subtotal)
        }
      }
    }

    if ($('.shopping-cart-item').length === 0) {
      plugin.$el.replaceWith(plugin.options.emptyCartTemplate)
      window.location.reload()
    } else {
      var subtotalContainer = plugin.$el.find('.js-shopping-cart-subtotal .shopping-cart-total__pricing')
      var label = subtotalContainer.find('h6')
      subtotalContainer.empty()
      subtotalContainer.text(data.subtotal)
      subtotalContainer.prepend(label)

      var subtotalDiscountContainer = plugin.$el.find('.js-shopping-cart-subtotal-discount .shopping-cart-total__pricing')
      label = subtotalDiscountContainer.find('h6')
      subtotalDiscountContainer.empty()
      subtotalDiscountContainer.text(data.subtotalDiscount)
      subtotalDiscountContainer.prepend(label)

      var taxContainer = plugin.$el.find('.js-shopping-cart-tax .shopping-cart-total__pricing')
      label = taxContainer.find('h6')
      taxContainer.empty()
      taxContainer.text(data.tax)
      taxContainer.prepend(label)

      var totalContainer = plugin.$el.find('.js-shopping-cart-total .shopping-cart-total__pricing')
      label = totalContainer.find('h6')
      totalContainer.empty()
      totalContainer.text(data.grandTotal)
      totalContainer.prepend(label).trigger('update', data.unformattedGrandTotal)
    }
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpCatalogCartAjax(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpCatalogCartItemDetailsAjax'

  function FdpCatalogCartItemDetailsAjax (el, options) {
    var defaults = {
      catalogItemId: 0,
      catalogCartItemId: 0,
      ajaxUrl: ''
    }

    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpCatalogCartItemDetailsAjax.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      plugin.unitPrice = plugin.$el.find('.js-catalog-item__unit-price')
      plugin.subtotal = plugin.$el.find('.js-catalog-item__subtotal')
      plugin.pricingTableRows = plugin.$el.find('.js-catalog-item__pricing_row')
      plugin.formFields = plugin.$el.find('input, textarea, select')

      plugin.formFields.change(function () {
        plugin.getNewPrices()
      })
    },

    getNewPrices: function () {
      var plugin = this

      // Serialize form fields
      var formData = plugin.formFields.serializeArray()

      // Add file uploads data
      plugin.formFields.filter('input[type="file"]').each(function () {
        var uploadFieldValue = $(this).val()
        var uploadFieldName = this.name
        var savedUploadField = plugin.$el.find('input[name="' + uploadFieldName + '_saved_upload"]')
        var useSavedUploadField = plugin.$el.find('input[name="' + uploadFieldName + '_use_saved_upload"]')
        if (savedUploadField && useSavedUploadField && !uploadFieldValue) {
          if (useSavedUploadField.is(':checked')) {
            uploadFieldValue = savedUploadField.val()
          }
        }
        formData.push({ name: uploadFieldName, value: uploadFieldValue })
      })

      var data = {
        catalogItemId: plugin.options.catalogItemId,
        catalogCartItemId: plugin.options.catalogCartItemId,
        form: formData
      }

      $.ajax({
        type: 'POST',
        data: data,
        url: plugin.options.ajaxUrl,
        success: function (data) {
          plugin.updatePrices(data)
        }
      })
    },

    updatePrices: function (data) {
      var plugin = this

      // Update unitprice
      var unitPrice = data.unit_price || plugin.$el.find('.js-catalog-item__unit-price').text()
      unitPrice = unitPrice === '$0.00' ? 'N/A' : unitPrice
      plugin.unitPrice.text(unitPrice)

      // Update subtotal
      var subtotal = data.subtotal || plugin.$el.find('.js-catalog-item__subtotal').text()
      subtotal = subtotal === '$0.00' ? 'N/A' : subtotal
      plugin.subtotal.text(subtotal)

      // Update pricingTable
      var pricingTableTotals = data.pricing_table || []
      plugin.pricingTableRows.each(function () {
        var count = parseInt($(this).find('.item-pricing-quantity').text().replace(/[^0-9]/g, ''))
        var priceElement = $(this).find('.item-pricing-price')
        var subtotalElement = $(this).find('.item-pricing-subtotal')

        $.each(pricingTableTotals, function (i, priceTier) {
          if (Object.prototype.hasOwnProperty.call(priceTier, 'count') && priceTier.count === count) {
            if (Object.prototype.hasOwnProperty.call(priceTier, 'unit_price') && priceElement.length) {
              var rowUnitPrice = priceTier.unit_price || priceElement.text()
              priceElement.text(rowUnitPrice)
            }
            if (Object.prototype.hasOwnProperty.call(priceTier, 'subtotal') && priceElement.length) {
              var rowSubtotal = priceTier.subtotal || subtotalElement.text()
              subtotalElement.text(rowSubtotal)
            }
          }
        })
      })
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpCatalogCartItemDetailsAjax(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpCatalogValidate'

  var defaults = {
    contentIdentifier: '',
    catalogItemIds: []
  }

  function FdpCatalogValidate (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpCatalogValidate.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      plugin.quantityFields = []
      plugin.form = $('#content_' + plugin.options.contentIdentifier + '_form-catalog')

      $.each(plugin.options.catalogItemIds, function (i, id) {
        plugin.quantityFields.push(plugin.form.find('#quantity' + id))
      })

      plugin.initEvents()
      plugin.toggleValidation()
    },

    initEvents: function () {
      var plugin = this

      if (plugin.quantityFields.length > 1) {
        $.each(plugin.quantityFields, function (i, quantityField) {
          quantityField.change(function () {
            plugin.toggleValidation()
          })
        })
      }
    },

    toggleValidation: function () {
      var plugin = this

      if (plugin.quantityFields.length > 1) {
        var novalidate = false
        $.each(plugin.quantityFields, function (i, quantityField) {
          if (parseInt(quantityField.val()) === 0 || quantityField.val() === '') {
            novalidate = true
          }
        })

        if (novalidate) {
          plugin.form.attr('novalidate', 'novalidate')
        } else {
          plugin.form.removeAttr('novalidate')
        }
      }
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpCatalogValidate(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpDateRangePicker'

  var defaults = {
    dateStartSelector: '#date-start',
    dateEndSelector: '#date-end'
  }

  function FdpDateRangePicker (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpDateRangePicker.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      if (!Modernizr.touch) {
        $(plugin.options.dateStartSelector).attr('type', 'text').datetimepicker({
          timepicker: false,
          format: 'm/d/Y',
          scrollMonth: false,
          closeOnDateSelect: true,
          yearStart: 1900,
          value: plugin.formatDateForValue($(plugin.options.dateStartSelector).val()),
          onShow: function () {
            this.setOptions({
              maxDate: plugin.getMaxDate()
            })
          }
        })
        $(plugin.options.dateEndSelector).attr('type', 'text').datetimepicker({
          timepicker: false,
          format: 'm/d/Y',
          scrollMonth: false,
          closeOnDateSelect: true,
          yearStart: 1900,
          value: plugin.formatDateForValue($(plugin.options.dateEndSelector).val()),
          onShow: function () {
            this.setOptions({
              minDate: plugin.getMinDate()
            })
          }
        })
      }
    },

    formatDateForValue: function (date) {
      var result = date
      date = date.split('-')
      if (date.length === 3) {
        var year = date.shift()
        var month = date.shift()
        var day = date.shift()
        result = month + '/' + day + '/' + year
      }
      return result
    },

    formatDateForMinMax: function (date) {
      var result = false
      date = date.split('/')
      if (date.length === 3) {
        var month = date.shift()
        var day = date.shift()
        var year = date.shift()
        result = year + '/' + month + '/' + day
      }
      return result
    },

    getMaxDate: function () {
      var plugin = this
      var result = false
      var maxDate = $(plugin.options.dateEndSelector).val()
      if (maxDate) {
        result = plugin.formatDateForMinMax(maxDate)
      }
      return result
    },

    getMinDate: function () {
      var plugin = this
      var result = false
      var minDate = $(plugin.options.dateStartSelector).val()
      if (minDate) {
        result = plugin.formatDateForMinMax(minDate)
      }
      return result
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpDateRangePicker(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpEmailMarketingInlineLabels'

  var defaults = {
    inlineLabels: false
  }

  function FdpEmailMarketingInlineLabels (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpEmailMarketingInlineLabels.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      if (plugin.options.inlineLabels) {
        plugin.displayLabelsInline()
      } else {
        plugin.displayLabelsDefault()
      }
    },

    displayLabelsDefault: function () {
      var plugin = this

      plugin.$el.find('form').removeClass('form--inline-label')

      plugin.$el.find('.e2ma_signup_form_row').each(function () {
        $(this).find('.e2ma_signup_form_label').attr('style', 'display: block;')
        $(this).find('textarea, input:not([type="checkbox"],[type="radio"])').attr('placeholder', '')
      })
    },

    displayLabelsInline: function () {
      var plugin = this

      plugin.$el.find('form').addClass('form--inline-label')

      plugin.$el.find('.e2ma_signup_form_row').each(function () {
        if (!$(this).has(':checkbox, :radio').length) {
          var labelText = $(this).find('.e2ma_signup_form_label').attr('style', 'display: none;').text().replace(/\s{2,10}/g, ' ')
          $(this).find('textarea, input:not([type="checkbox"],[type="radio"])').attr('placeholder', labelText).focus(function () {
            $(this).tooltipster({
              maxWidth: 300,
              position: 'top-left',
              functionInit: function () {
                return labelText
              }
            })
            $(this).tooltipster('show')
          }).blur(function () {
            $(this).tooltipster('destroy')
          })
        }
      })
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      $.data(this, pluginName, new FdpEmailMarketingInlineLabels(this, options))
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFeeCoverageUtils'

  var defaults = {
    currencySign: '$',
    labelTemplate: '',
    parentForm: null
  }

  function FdpFeeCoverageUtils (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpFeeCoverageUtils.prototype = {

    /**
     * Initialize the plugin.
     */
    init: function () {
      var plugin = this

      if (plugin.options.parentForm) {
        // set the initial value
        var amountsCalculator = $(plugin.options.parentForm).data('fdpFormPaymentAmountCalculator')
        if (amountsCalculator) {
          plugin.updateFeeLabel(amountsCalculator.getTransactionFee())
        }
      }

      plugin.initEvents()
    },

    /**
     * Initialize events.
     */
    initEvents: function () {
      var plugin = this

      if (plugin.options.parentForm) {
        // update transaction fee when an event is triggered
        plugin.options.parentForm.on('fdpFormPaymentAmountCalculator:transactionFee', function (e, transactionFee) {
          plugin.updateFeeLabel(transactionFee)
        })
      }
    },

    /**
     * Set the updated total.
     *
     * @param {number} transactionFee
     */
    updateFeeLabel: function (transactionFee) {
      var plugin = this
      var newFee = transactionFee === 0 ? parseFloat('0.00') : parseFloat(transactionFee)
      newFee = !isNaN(newFee) ? newFee.toFixed(2) : '0.00'

      var templateRegex = new RegExp('{transaction_fee}', 'ig')
      plugin.$el.find('label span').text(plugin.options.labelTemplate.replace(templateRegex, plugin.options.currencySign + newFee))
    }
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFeeCoverageUtils(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFileUploadUtils'

  var defaults = {
    state: 'uninitialized',
    uploadFields: [],
    progressBars: [],
    uploadCount: 0,
    uploadTotal: 0,
    lastProcessed: '',
    totalProgress: 0
  }

  function FdpFileUploadUtils (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
    this.initFunctions()
  }

  FdpFileUploadUtils.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this
      plugin.body = $('body')
      plugin.progressModal = null
    },

    initFunctions: function () {
      var plugin = this

      plugin.initializeUploads = function () {
        plugin.options.uploadFields = plugin.$el.find(':file')
        if (plugin.progressModal === null && plugin.options.uploadFields.length) {
          plugin.options.state = 'initializing'
          var showProgressModal = false
          plugin.options.uploadFields.each(function (index, field) {
            if ($(field).val() !== '' && $(field).val() !== '0') {
              showProgressModal = true
              plugin.progressModal = plugin._modalHtml()
              plugin.progressModal.append(plugin._progressBarHtml($(field).attr('id'), $(field).attr('name')))
            }
          })
          if (!showProgressModal) {
            plugin.closeModal()
          } else {
            plugin.progressModal.prepend(plugin._progressHeaderHtml())
            plugin.progressModal.append(plugin._disclaimerHtml())
          }
        }
        if (plugin.progressModal !== null) {
          plugin.body.magnificPopup({
            type: 'inline',
            modal: true,
            items: {
              src: plugin.progressModal
            }
          })
        }
        if (plugin.options.state !== 'processing') {
          plugin.doUpload()
        }
        plugin.options.state = 'initialized'
      }

      plugin.closeModal = function () {
        var plugin = this
        if (plugin.progressModal) {
          plugin.progressModal.magnificPopup('close')
          plugin.progressModal = null
        }
      }

      /**
       *  The Progress bar update function
       */
      plugin.doUpload = function () {
        var uid = plugin.$el.find('#progress_key').val()
        if (plugin.options.uploadCount >= 1 && uid) {
          plugin.body.magnificPopup('open')
          plugin.options.state = 'processing'
          $.ajax({
            url: '/upload_progress?id=' + uid,
            method: 'GET',
            dataType: 'json',
            success: function (data) {
              var complete = false
              if (data === null) {
                setTimeout(function () {
                  plugin.doUpload()
                }, 100)
              } else {
                var response = data
                if (response) {
                  plugin._finishQuickFiles(response.fieldname)

                  if (plugin.options.lastProcessed !== '' && plugin.options.lastProcessed !== response.fieldname) {
                    plugin._finishProgress(plugin.options.lastProcessed)
                  } else if (plugin.options.progressBars[response.fieldname].currentFileProgress >= plugin.options.progressBars[response.fieldname].size) {
                    plugin._finishProgress(response.fieldname)
                  }

                  // Update percentage in increments of 5
                  var percentage = Math.round((Math.floor(100 * parseInt(response.bytes_uploaded) / parseInt(response.bytes_total)) / 5)) * 5

                  // Update the current load bar percentage
                  $(plugin.options.progressBars[response.fieldname].selector).removeClass('progress-' + plugin.options.progressBars[response.fieldname].currentFileProgress)
                  $(plugin.options.progressBars[response.fieldname].selector).addClass('progress-' + percentage)

                  // Update the global value of progress
                  plugin.options.progressBars[response.fieldname].currentFileProgress = percentage
                  plugin.options.lastProcessed = response.fieldname

                  if (percentage >= 100 || (parseInt(response.bytes_uploaded) >= parseInt(response.bytes_total))) {
                    plugin._finishProgress(response.fieldname)
                    if (parseInt(response.files_uploaded) >= plugin.options.uploadCount) {
                      complete = true
                    }
                  } else {
                    setTimeout(function () {
                      plugin.doUpload()
                    }, 100)
                  }
                } else {
                  setTimeout(function () {
                    plugin.doUpload()
                  }, 100)
                }
              }
              return complete
            },
            error: function () {
              plugin.closeModal()
              plugin.$el.trigger('processed', true)
              return false
            }
          })
        }
      }
    },

    _finishQuickFiles: function (field) {
      var plugin = this
      if (plugin.options.progressBars[field].id > 1) {
        for (var bar in plugin.options.progressBars) {
          if (Object.prototype.hasOwnProperty.call(plugin.options.progressBars, bar)) {
            if (bar !== field && plugin.options.progressBars[bar].id < plugin.options.progressBars[field].id && plugin.options.progressBars[bar].finished === false) {
              plugin._finishProgress(bar)
            }
          }
        }
      }
    },

    _finishProgress: function (field) {
      var plugin = this
      $(plugin.options.progressBars[field].selector).removeClass('progress-' + plugin.options.progressBars[field].currentFileProgress)
      $(plugin.options.progressBars[field].selector).addClass('progress-100')
      plugin.options.progressBars[field].currentFileProgress = 100
      plugin.options.progressBars[field].finished = true
    },

    _progressBarHtml: function (uploadFieldId, fieldName) {
      var plugin = this
      var fileUploadField = $('input#' + uploadFieldId)
      var uploadFile = ''
      plugin.options.uploadCount = fileUploadField[0].files.length - 1
      for (var i = 0; i < fileUploadField[0].files.length; i++) {
        if (!fileUploadField[0].multiple && i !== fileUploadField[0].files.length - 1) {
          continue
        }
        uploadFile += fileUploadField[0].files[i].name + ', '
      }
      uploadFile = uploadFile.substring(0, uploadFile.length - 2)

      var progressBar = $('<div/>').attr({
        id: 'upload_' + uploadFieldId,
        class: 'progress-bar progress-bar--linear progress-bar--animated progress-0'
      })
      var barTrench = $('<div/>').addClass('progress-bar__trench')
      var barMeter = $('<div/>').addClass('progress-bar__meter')
      var barMeta = $('<div/>').addClass('progress-bar__meta').text(uploadFile)
      $(barTrench).append(barMeter)
      $(progressBar).append(barTrench)
      $(progressBar).append(barMeta)
      plugin.options.uploadTotal += uploadFile.size
      plugin.options.progressBars[fieldName] = {
        id: ++plugin.options.uploadCount,
        selector: $(progressBar),
        fileSize: uploadFile.size,
        fileName: uploadFile.name,
        finished: false,
        currentFileProgress: 0
      }
      return progressBar
    },

    _progressHeaderHtml: function () {
      var plugin = this
      var header = $('<div/>').addClass('inline-popup__header')
      var heading = $('<h5/>').text('Your File' + ((plugin.options.uploadCount > 1) ? 's Are ' : ' Is ') + 'Uploading...')
      $(header).append(heading)
      return header
    },

    _disclaimerHtml: function () {
      var disclaimer = $('<div/>').addClass('inline-popup-disclaimer')
      var notice = $('<strong/>').text('Do not refresh this window while your upload is in progress. ')
      $(disclaimer).append($('<p/>').text('You can continue working in other browser windows and tabs.'))
      $(disclaimer).find('p').prepend(notice)
      return disclaimer
    },

    _modalHtml: function () {
      return $('<div/>').attr({
        id: 'file-upload-progress-modal',
        class: 'inline-popup inline-popup--xs modal-popup modal-popup--progress-bar'
      })
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFileUploadUtils(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFormFieldCountriesAndSubdivisions'

  var defaults = {
    ariaDescribedBy: '',
    contentIdentifier: '',
    countriesList: [],
    defaultValue: '',
    formFieldName: '',
    linkedFormFieldName: '',
    linkedSubFieldFormId: '',
    subFieldFormFieldName: '',
    countriesSubFields: false,
    stateSsoDisabled: false,
    statePlaceholder: '',
    textContent: 'Select a State/Province...'
  }

  function FdpFormFieldCountriesAndSubdivisions (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpFormFieldCountriesAndSubdivisions.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      plugin.options.contentIdentifier = plugin.options.contentIdentifier === false ? '' : plugin.options.contentIdentifier

      plugin.countrySelect = $('#content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.linkedFormFieldName).val()
      if (typeof plugin.countrySelect === 'undefined') {
        plugin.countrySelect = $('#content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.linkedSubFieldFormId).val()
      }

      if (plugin.options.defaultValue !== '') {
        $('#content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName).val(plugin.options.defaultValue)
      }

      plugin.initEvents()
      $('select[name="' + plugin.options.linkedFormFieldName + '"]').trigger('change')
      $('input[name="' + plugin.options.linkedFormFieldName + '"]').trigger('change')
    },

    initEvents: function () {
      var plugin = this
      var formField = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName)
      var linkedFormField = '#content_' + plugin.options.contentIdentifier + '_field_'
      if (plugin.options.linkedSubFieldFormId === '') {
        linkedFormField += plugin.options.linkedFormFieldName
      } else {
        linkedFormField += plugin.options.linkedSubFieldFormId
      }
      var selectName = plugin.options.subFieldFormFieldName === '' ? plugin.options.formFieldName : plugin.options.subFieldFormFieldName

      $(linkedFormField).change(function () {
        var selectedCountry = plugin.options.countriesList[$(this).val()]
        if (selectedCountry) {
          plugin.$el.empty()
          if (Object.prototype.hasOwnProperty.call(selectedCountry, 'use_subdivision_list') && selectedCountry.use_subdivision_list === true) {
            if (!plugin.options.countriesSubFields) {
              var $selectField = $($('<select/>')
                .attr({
                  name: selectName,
                  id: 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName,
                  class: 'subdivision_form_field',
                  'aria-labelledby': 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName + '_aria_label',
                  'aria-describedby': (plugin.options.ariaDescribedBy) ? plugin.options.ariaDescribedBy : undefined
                })
              ).append(
                $($('<option/>').attr({
                  value: '0',
                  disabled: ''

                })).text(plugin.options.textContent)
              ).append(
                $($('<option/>').attr({
                  value: 'dash',
                  disabled: ''
                })).text('-----')
              ).focus(function () {
                plugin.showToolTips(this, formField)
              })
              if (plugin.options.stateFieldRequired) {
                $selectField.attr('required', '')
              }
              if (plugin.options.stateSsoDisabled) {
                $selectField.attr('disabled', '')
              }
              plugin.$el.append($selectField)
              if (plugin.options.defaultValue === '') {
                $('option[value="0"]').prop({
                  selected: 'selected'
                })
              }
              if (Object.prototype.hasOwnProperty.call(selectedCountry, 'subdivisions')) {
                for (var iso in selectedCountry.subdivisions) {
                  if (Object.prototype.hasOwnProperty.call(selectedCountry.subdivisions, iso)) {
                    var optionData = {
                      value: iso
                    }
                    if (iso === plugin.options.defaultValue) {
                      optionData.selected = 'selected'
                    }
                    $('select[name="' + selectName + '"]').append(
                      $($('<option/>').attr(optionData)).text(selectedCountry.subdivisions[iso])
                    )
                  }
                }
              }
            } else {
              var $selectCountriesSubFields = $('<select/>')
                .attr({
                  name: selectName,
                  id: 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName,
                  'aria-labelledby': 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName + '_aria_label',
                  'aria-describedby': (plugin.options.ariaDescribedBy) ? plugin.options.ariaDescribedBy : undefined,
                  placeholder: (plugin.options.countriesSubFields) ? plugin.options.statePlaceholder : formField.placeholder
                })
              if (plugin.options.stateFieldRequired) {
                $selectCountriesSubFields.attr('required', '')
              }
              if (plugin.options.stateSsoDisabled) {
                $selectCountriesSubFields.attr('disabled', '')
              }
              plugin.$el.append($selectCountriesSubFields)
              if (Object.prototype.hasOwnProperty.call(selectedCountry, 'subdivisions')) {
                for (var subdivisionIsoCode in selectedCountry.subdivisions) {
                  if (Object.prototype.hasOwnProperty.call(selectedCountry.subdivisions, subdivisionIsoCode)) {
                    var subdivisionOptionData = {
                      value: subdivisionIsoCode
                    }
                    if (subdivisionIsoCode === plugin.options.defaultValue) {
                      subdivisionOptionData.selected = 'selected'
                    }
                    $('select[name="' + selectName + '"]').append(
                      $($('<option/>').attr(subdivisionOptionData)).text(subdivisionIsoCode)
                    )
                  }
                }
              }
            }
          } else {
            var $inputField = $('<input/>').attr({
              type: 'text',
              name: selectName,
              id: 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName,
              value: plugin.options.defaultValue,
              placeholder: (plugin.options.countriesSubFields)
                ? plugin.options.statePlaceholder
                : formField.placeholder,
              'aria-labelledby': 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName + '_aria_label',
              'aria-describedby': (plugin.options.ariaDescribedBy) ? plugin.options.ariaDescribedBy : undefined
            })
            if (!plugin.options.countriesSubFields) {
              $inputField.attr('size', '40')
            }
            if (plugin.options.stateFieldRequired) {
              $inputField.attr('required', '')
            }
            if (plugin.options.stateSsoDisabled) {
              $inputField.attr('disabled', '')
            }
            plugin.$el.append($inputField)
          }
        } else {
          plugin.$el.empty()
          plugin.$el.append(
            $($('<select/>')
              .attr({
                name: selectName,
                id: 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName,
                class: 'subdivision_form_field',
                'aria-labelledby': 'content_' + plugin.options.contentIdentifier + '_field_' + plugin.options.formFieldName + '_aria_label',
                disabled: ''
              })
            ).append(
              $($('<option/>').attr({
                value: '0'

              })).text(plugin.options.textContent)))
        }
      })
    },

    showToolTips: function (plugin, formField) {
      $(plugin).tooltipster({
        maxWidth: 300,
        position: 'top-left',
        functionInit: function () {
          return formField.placeholder
        }
      })

      $(plugin).tooltipster('show')
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFormFieldCountriesAndSubdivisions(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFormFraudPrevention'

  function FdpFormFraudPrevention (el, options) {
    var defaults = {
      isAjaxFraudPreventionActive: false,
      ajaxUrl: ''
    }

    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpFormFraudPrevention.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      // init plugin function
      plugin.sendFraudPreventionAjaxRequest = function (callback) {
        if (plugin.options.isAjaxFraudPreventionActive) {
          var formPostIdField = plugin.$el.find('input[type="hidden"][name="form_post_id"]')
          if (formPostIdField.length > 0) {
            $.ajax({
              type: 'GET',
              url: plugin.options.ajaxUrl,
              data: { form_post_id: formPostIdField.val() },
              success: function (data) {
                if (data && Object.prototype.hasOwnProperty.call(data, 'fraudId')) {
                  plugin.$el.append('<input type="hidden" name="form_fraud_id" value="' + data.fraudId + '">')
                }
              },
              complete: function () {
                callback()
              }
            })
          } else {
            callback()
          }
        } else {
          callback()
        }
      }
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFormFraudPrevention(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFormUtils'

  var defaults = {
    contentIdentifier: '',
    usePaymentField: false,
    isRecurring: false,
    paymentField: null,
    paymentFields: {
      cc_name: null,
      cc_type: null,
      cc_number: null,
      cc_cvv: null,
      cc_exp_date: null,
      zip_code: null,
      ach_first_name: null,
      ach_last_name: null,
      ach_account_number: null,
      ach_routing_number: null,
      ach_type: null,
      is_recurring: null
    },
    paymentMethod: null,
    creditCardTypes: {
      visa: {
        id: 1,
        name: 'Visa'
      },
      mastercard: {
        id: 2,
        name: 'MasterCard'
      },
      discover: {
        id: 3,
        name: 'Discover'
      },
      amex: {
        id: 4,
        name: 'American Express'
      },
      dinersclub: {
        id: 5,
        name: 'Diners Club'
      }
    }
  }

  function FdpFormUtils (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
    this.initFunctions()
  }

  FdpFormUtils.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      plugin.ERROR_BLOCK_PARENT = 'div.form-row__controls'
      plugin.ERROR_BLOCK_SELECTOR = 'div.form-control-info.form-control-info--below'
      plugin.ERROR_WRAPPER_SELECTOR = 'div.form-control-info__error'
      plugin.ERROR_ALERT_WRAPPER_SELECTOR = 'div.alert__content.form-control-info__error'
    },

    initFunctions: function () {
      var plugin = this

      plugin.renderFieldValidationErrors = function (row, message) {
        if ($(row).hasClass('form-row--amount')) {
          plugin.renderAmountFieldValidationErrors(row, message)
        } else {
          if (row && message) {
            var errorContainer = $(row).find(plugin.ERROR_BLOCK_SELECTOR)
            if (!$(row).find(plugin.ERROR_BLOCK_SELECTOR).length) {
              errorContainer = $('<div/>').addClass('form-control-info form-control-info--below')
              $(errorContainer).appendTo($(row).find(plugin.ERROR_BLOCK_PARENT))
            }
            var errorWrapper = $(errorContainer).find(plugin.ERROR_WRAPPER_SELECTOR)
            if (!$(row).find(plugin.ERROR_WRAPPER_SELECTOR).length) {
              errorWrapper = $('<div/>').addClass('form-control-info__error')
              $(errorWrapper).prependTo($(errorContainer))
            }
            $(errorWrapper).text(message)
          }
        }
      }

      plugin.renderAmountFieldValidationErrors = function (row, message) {
        if (row && message) {
          var errorContainer = $(row).find(plugin.ERROR_BLOCK_SELECTOR)
          if (!$(row).find(plugin.ERROR_BLOCK_SELECTOR).length) {
            errorContainer = $('<div/>').addClass('form-control-info form-control-info--below')
            $(errorContainer).appendTo($(row).children(plugin.ERROR_BLOCK_PARENT))
          }
          var errorWrapper = $(errorContainer).find(plugin.ERROR_WRAPPER_SELECTOR)
          if (!$(row).find(plugin.ERROR_WRAPPER_SELECTOR).length) {
            errorWrapper = $('<div/>').addClass('form-control-info__error')
            $(errorWrapper).prependTo($(errorContainer))
          }
          $(errorWrapper).text(message)
        }
      }

      plugin.renderPaymentFieldValidationErrors = function (row, message) {
        if (row && message) {
          var alertPanel = $(row).find($('div.panel.panel--alert.alert--bad.form-alert'))
          if (!$(row).find('div.panel.panel--alert.alert--bad.form-alert').length) {
            alertPanel = $('<div/>').addClass('panel panel--alert alert--bad form-alert')
            $(alertPanel).prependTo($(row))
          }
          var alertContent = $(row).find(plugin.ERROR_WRAPPER_SELECTOR)
          if (!$(row).find(plugin.ERROR_ALERT_WRAPPER_SELECTOR).length) {
            alertContent = $('<div/>').addClass('alert__content')
            $(alertPanel).append($(alertContent))
          }
          $(alertContent).text(message)
        }
      }

      plugin.clearValidationErrors = function () {
        $('div.panel.panel--alert.alert--bad.form-alert').remove()
        $(plugin.ERROR_WRAPPER_SELECTOR).remove()
      }

      plugin.formatCreditCardType = function (ccType) {
        ccType = ccType || ''
        var formattedType = ''
        for (var card in plugin.options.creditCardTypes) {
          if (Object.prototype.hasOwnProperty.call(plugin.options.creditCardTypes, card)) {
            if (parseInt(ccType) === ccType) {
              if (plugin.options.creditCardTypes[card].id === ccType) {
                formattedType = card
                break
              }
            } else {
              if (plugin.options.creditCardTypes[card].name === ccType) {
                formattedType = card
              }
            }
          }
        }
        return formattedType
      }

      plugin.formatCreditCardTypeToFdp = function (formattedType) {
        formattedType = formattedType || ''
        return plugin.options.creditCardTypes[formattedType] || 0
      }

      plugin.processPayment = function (form, formCallback) {
        plugin._getPaymentFieldValues(form)
        if (typeof plugin.options.paymentField === 'undefined' || plugin.options.paymentField === null || $(plugin.options.paymentField).not(':visible').length || plugin.options.paymentField.length === 0) {
          return formCallback(false)
        }
        var paymentGatewayData = $(form).data('paymentGatewayData')
        if (paymentGatewayData && paymentGatewayData.paymentGatewayName === 'PaymentSpring') {
          var data = {}
          if (plugin.options.paymentMethod === 'cc') {
            var cardExp = plugin._paymentCardExpiryVal(plugin.options.paymentFields.cc_exp_date.value)
            data = {
              token_type: 'credit_card',
              public_api_key: paymentGatewayData.paymentGatewayApiKey,
              card_number: plugin.options.paymentFields.cc_number.value.split(' ').join(''),
              card_exp_month: cardExp.month,
              card_exp_year: cardExp.year,
              card_owner_name: plugin.options.paymentFields.cc_name.value,
              csc: plugin.options.paymentFields.cc_cvv.value,
              zip: plugin.options.paymentFields.zip_code.value
            }
          } else if (plugin.options.paymentMethod === 'ach') {
            var bankAccountType = null
            if (plugin.options.paymentFields.ach_type.value !== 'undefined') {
              if (plugin.options.paymentFields.ach_type.value === '1') {
                bankAccountType = 'savings'
              }
              if (plugin.options.paymentFields.ach_type.value === '2') {
                bankAccountType = 'checking'
              }
            }
            data = {
              token_type: 'bank_account',
              public_api_key: paymentGatewayData.paymentGatewayApiKey,
              bank_account_number: plugin.options.paymentFields.ach_account_number.value,
              bank_routing_number: plugin.options.paymentFields.ach_routing_number.value,
              bank_account_holder_first_name: plugin.options.paymentFields.ach_first_name.value,
              bank_account_holder_last_name: plugin.options.paymentFields.ach_last_name.value,
              bank_account_type: bankAccountType
            }
          }

          $.ajax({
            url: 'https://api.paymentspring.com/api/v1/tokens/jsonp',
            dataType: 'jsonp',
            timeout: 10000,
            data: data,
            jsonpCallback: 'jsonpcallback',
            success: function (response) {
              if (response.errors) {
                plugin._paymentSpringErrorResponse(form, response.errors)
                formCallback(true)
              } else {
                plugin._paymentSpringSuccessResponse(form, response)
                formCallback(false)
              }
            },
            error: function () {
              plugin._paymentSpringErrorResponse(form, [{ code: '-1', message: 'Request timeout' }])
              formCallback(true)
            }
          })
        }

        return false
      }
    },

    _paymentCardExpiryVal: function (value) {
      var month, year
      value = value.replace(/\s/g, '')
      var parts = value.split('/', 2)
      if (parts.length === 2) {
        month = parts[0]
        year = parts[1]
        if (year.length === 2 && /^\d+$/.test(year)) {
          var prefix = new Date().getFullYear().toString().substring(0, 2)
          year = prefix + year
        }
      }
      month = parseInt(month, 10)
      year = parseInt(year, 10)
      return { month: month, year: year }
    },

    _paymentSpringSuccessResponse: function (form, response) {
      var plugin = this
      if (!plugin.options.usePaymentField) {
        if (plugin.options.paymentFields.cc_number !== 'undefined') {
          var ccNumValue = Object.prototype.hasOwnProperty.call(response, 'last_4') ? response.last_4 : ''
          $(form).find('#' + $(form).find(plugin.options.paymentFields.cc_number.selector).attr('id')).val(ccNumValue)
        }
        if (plugin.options.paymentFields.ach_account_number !== 'undefined') {
          var bankAccountNumValue = Object.prototype.hasOwnProperty.call(response, 'bank_account_number_last_4') ? response.bank_account_number_last_4 : ''
          $(form).find('#' + $(form).find(plugin.options.paymentFields.ach_account_number.selector).attr('id')).val(bankAccountNumValue)
        }
        if (plugin.options.paymentFields.cc_cvv !== 'undefined') {
          $(form).find('#' + $(form).find(plugin.options.paymentFields.cc_cvv.selector).attr('id').val(''))
        }
      } else {
        $(form).find('input[type="hidden"].js-added-element').remove()
        $(form).append('<input type="hidden" class="js-added-element" name="payment_gateway_cc_token" value="' + response.id + '">')
        if (plugin.options.paymentMethod === 'cc') {
          $(form).append('<input type="hidden" class="js-added-element" name="' + plugin.options.paymentFields.cc_number.selector + '" value="' + response.last_4 + '">')
          $(form).append('<input type="hidden" class="js-added-element" name="' + plugin.options.paymentFields.cc_name.selector + '" value="' + response.card_owner_name + '">')
          $(form).append('<input type="hidden" class="js-added-element" name="' + plugin.options.paymentFields.cc_exp_date.selector + '_MONTH" value="' + response.card_exp_month + '">')
          $(form).append('<input type="hidden" class="js-added-element" name="' + plugin.options.paymentFields.cc_exp_date.selector + '_YEAR" value="' + response.card_exp_year + '">')
          $(form).append('<input type="hidden" class="js-added-element" name="' + plugin.options.paymentFields.zip_code.selector + '" value="' + response.zip + '">')
        }
        if (plugin.options.paymentMethod === 'ach') {
          $(form).append('<input type="hidden" class="js-added-element" name="' + plugin.options.paymentFields.ach_account_number.selector + '" value="' + response.bank_account_number_last_4 + '">')
          $(form).append('<input type="hidden" class="js-added-element" name="' + plugin.options.paymentFields.ach_type.selector + '" value="' + plugin.options.paymentFields.ach_type.value + '">')
        }
      }
    },

    _paymentSpringErrorResponse: function (form, errors) {
      var plugin = this
      var errorsArray = plugin._formatPaymentSpringErrors(errors)
      var errorContainer = ($(form).find('div.wizard__content').length > 0) ? $(form).find('div.wizard__content') : plugin.options.paymentField
      $.each(errorsArray, function (index, error) {
        plugin.renderPaymentFieldValidationErrors(errorContainer, error)
      })
    },

    _formatPaymentSpringErrors: function (errors) {
      var errorMessages = []
      for (var i = 0; i < errors.length; i++) {
        var message = errors[i].message
        switch (errors[i].code) {
          case '002':
            message = 'Api authentication failed, verify payment gateway settings are correct.'
            break
          case '-1':
            message = 'There was an error with your transaction. Your card has NOT been charged. Please try again in a few minutes or contact us if you continue to experience issues.'
            break
        }
        errorMessages.push(message)
      }
      return errorMessages
    },

    _getPaymentFieldValues: function (form) {
      var plugin = this

      var paymentField = $(form).find('div.field-collection--payment')
      if (paymentField.length) {
        var formId = $(paymentField).attr('id').replace(plugin.options.contentIdentifier, '').replace(/\D+/g, '')

        plugin.options.paymentMethod = $(form).find('input[name="f' + formId + '_payment_method"][type="hidden"], input[name="f' + formId + '_payment_method"][type="radio"]:checked').val()
        plugin.options.paymentField = (paymentField.length > 1) ? paymentField.filter('[data="payment-method-' + plugin.options.paymentMethod + '"]') : paymentField
      }

      if (typeof $(plugin.options.paymentField).attr('id') !== 'undefined') {
        var fieldId = 'content_' + plugin.options.contentIdentifier + '_f' + formId
        if (fieldId) {
          plugin.options.usePaymentField = true

          if (plugin.options.paymentMethod === 'cc') {
            plugin.options.paymentFields.cc_name = {
              selector: fieldId + '_CREDIT_CARD_HOLDER_NAME',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_CREDIT_CARD_HOLDER_NAME').val()
            }
            plugin.options.paymentFields.cc_number = {
              selector: fieldId + '_CREDIT_CARD_NUMBER',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_CREDIT_CARD_NUMBER').val()
            }
            plugin.options.paymentFields.cc_exp_date = {
              selector: fieldId + '_CREDIT_CARD_EXPIRATION_DATE',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_CREDIT_CARD_EXPIRATION_DATE').val()
            }
            plugin.options.paymentFields.cc_cvv = {
              selector: fieldId + '_CREDIT_CARD_CVV',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_CREDIT_CARD_CVV').val()
            }
            plugin.options.paymentFields.cc_type = {
              selector: fieldId + '_CREDIT_CARD_TYPE',
              value: plugin.formatCreditCardType($(form).find('#' + fieldId + '_CREDIT_CARD_TYPE').val() || 0)
            }

            if ($(plugin.options.paymentField).find('#' + fieldId + '_CREDIT_CARD_ZIP_CODE').length) {
              plugin.options.paymentFields.zip_code = {
                selector: fieldId + '_CREDIT_CARD_ZIP_CODE',
                value: $(plugin.options.paymentField).find('#' + fieldId + '_CREDIT_CARD_ZIP_CODE').val()
              }
            } else {
              var paymentGatewayData = $(form).data('paymentGatewayData')
              if (paymentGatewayData && paymentGatewayData.paymentGatewayName === 'PaymentSpring') {
                if (Object.prototype.hasOwnProperty.call(paymentGatewayData, 'paymentGatewayZipCodeFieldId') && paymentGatewayData.paymentGatewayZipCodeFieldId) {
                  var mappedZipCodeFieldSelector = 'content_' + plugin.options.contentIdentifier + '_field_f' + paymentGatewayData.paymentGatewayZipCodeFieldId
                  if ($('#' + mappedZipCodeFieldSelector).length === 0) {
                    mappedZipCodeFieldSelector += '_postal_code'
                  }
                  if ($('#' + mappedZipCodeFieldSelector).length > 0) {
                    plugin.options.paymentFields.zip_code = {
                      selector: mappedZipCodeFieldSelector,
                      value: $('#' + mappedZipCodeFieldSelector).val()
                    }
                  }
                }
              }
            }
          } else if (plugin.options.paymentMethod === 'ach') {
            plugin.options.paymentFields.ach_first_name = {
              selector: fieldId + '_ACH_FIRST_NAME',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_ACH_FIRST_NAME').val()
            }
            plugin.options.paymentFields.ach_last_name = {
              selector: fieldId + '_ACH_LAST_NAME',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_ACH_LAST_NAME').val()
            }
            plugin.options.paymentFields.ach_account_number = {
              selector: fieldId + '_ACH_ACCOUNT_NUMBER',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_ACH_ACCOUNT_NUMBER').val()
            }
            plugin.options.paymentFields.ach_routing_number = {
              selector: fieldId + '_ACH_ROUTING_NUMBER',
              value: $(plugin.options.paymentField).find('#' + fieldId + '_ACH_ROUTING_NUMBER').val()
            }
            plugin.options.paymentFields.ach_type = {
              selector: fieldId + '_ACH_TYPE',
              value: $(plugin.options.paymentField).find('[id^="' + fieldId + '_ACH_TYPE"]:checked').val()
            }
          }

          plugin.options.paymentFields.is_recurring = {
            selector: fieldId + '_CREDIT_CARD_RECURRING_PAYMENT',
            value: $(plugin.options.paymentField).find('#' + fieldId + '_CREDIT_CARD_RECURRING_PAYMENT').is(':checked')
          }

          plugin.options.isRecurring = plugin.options.paymentFields.is_recurring
        }
      } else {
        plugin.options.paymentFields.cc_name = {
          selector: '.fdpc_cc_name',
          value: plugin._getFormFieldValue(form, plugin._getFormFieldId(form, '.fdpc_cc_name'))
        }
        plugin.options.paymentFields.cc_type = {
          selector: '.fdpc_cc_type',
          value: plugin.formatCreditCardType(plugin._getFormFieldValue(form, plugin._getFormFieldId(form, '.fdpc_cc_type')))
        }
        plugin.options.paymentFields.cc_number = {
          selector: '.fdpc_cc_number',
          value: plugin._getFormFieldValue(form, plugin._getFormFieldId(form, '.fdpc_cc_number'))
        }
        plugin.options.paymentFields.cc_exp_month = {
          selector: '.fdpc_cc_exp_month',
          value: plugin._getFormFieldValue(form, plugin._getFormFieldId(form, '.fdpc_cc_exp_month'))
        }
        plugin.options.paymentFields.cc_exp_year = {
          selector: '.fdpc_cc_exp_year',
          value: plugin._getFormFieldValue(form, plugin._getFormFieldId(form, '.fdpc_cc_exp_year'))
        }
        plugin.options.paymentFields.cc_cvv = {
          selector: '.fdpc_cc_cvv',
          value: plugin._getFormFieldValue(form, plugin._getFormFieldId(form, '.fdpc_cc_cvv'))
        }
        plugin.options.paymentFields.zip_code = {
          selector: '.fdpc_cc_zip',
          value: plugin._getFormFieldValue(form, plugin._getFormFieldId(form, '.fdpc_cc_zip'))
        }
      }
    },

    _getFormFieldId: function (form, fieldClass) {
      var fieldId = $(form).find(fieldClass).attr('id')
      if (fieldId) {
        fieldId = fieldId.substring(9)
      }
      return fieldId
    },

    _getFormFieldValue: function (form, fieldId, clearField) {
      clearField = clearField || false
      var value = ''
      if (fieldId) {
        var field = $(form).find('[name="' + fieldId + '"]').filter(':input')
        if (field.length === 1) {
          value = field.val()
          if (clearField) {
            field.val('')
          }
        } else if (field.length > 1) {
          field = field.filter(':checked')
          value = field.value()
          if (clearField) {
            field.prop('checked', false)
          }
        }
      }
      return value
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFormUtils(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFormValidate'

  var defaults = {
    contentIdentifier: '',
    parentFormId: '',
    requiredFormFields: [],
    isPageflexForm: false,
    isAjaxFraudPreventionActive: false,
    ajaxFraudPreventionUrl: '',
    ajaxCaptchaValidationUrl: '',
    paymentFieldIdentifiers: [
      '_CREDIT_CARD_HOLDER_NAME',
      '_CREDIT_CARD_NUMBER',
      '_CREDIT_CARD_EXPIRATION_DATE',
      '_CREDIT_CARD_CVV',
      '_CREDIT_CARD_ZIP_CODE',
      '_ACH_FIRST_NAME',
      '_ACH_LAST_NAME',
      '_ACH_TYPE',
      '_ACH_ACCOUNT_NUMBER',
      '_ACH_ROUTING_NUMBER'
    ],
    totalFileUploadAmount: '',
    totalFileUploadSize: '',
    subFieldLabels: [],
    validateCaptcha: false,
    captchaToken: '',
    disableSubmitOnEnterFields: []
  }

  function FdpFormValidate (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  function humanFileSize (size) {
    var i = Math.floor(Math.log(size) / Math.log(1024))
    return (size / Math.pow(1024, i)).toFixed(1) * 1 + ' ' + ['B', 'kB', 'MB', 'GB', 'TB'][i]
  }

  FdpFormValidate.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      // Create utility instances on the form
      plugin.$el.fdpFormUtils({ contentIdentifier: plugin.options.contentIdentifier })
      plugin.$el.fdpFileUploadUtils()
      plugin.$el.fdpFormFraudPrevention({
        isAjaxFraudPreventionActive: plugin.options.isAjaxFraudPreventionActive,
        ajaxUrl: plugin.options.ajaxFraudPreventionUrl
      })

      plugin.submitButton = plugin.$el.find('#content_' + plugin.options.contentIdentifier + '_submit_' + plugin.options.parentFormId)
      plugin.submitButton.removeClass('form-disabled').attr('disabled', false)
      plugin.errorBannerOnce = true
      plugin.fileUploadError = false
      plugin.totalSizeAllowed = plugin.options.totalFileUploadSize * 1024 * 1024
      plugin.totalFilesAllowed = plugin.options.totalFileUploadAmount
      plugin.subFieldLabels = plugin.options.subFieldLabels
      plugin.totalSize = 0
      plugin.totalFiles = 0
      plugin.validateCaptcha = plugin.options.validateCaptcha
      if (plugin.validateCaptcha === true) {
        plugin.submitButton.on('recaptcha:submitted', function () {
          var formPostIdField = plugin.$el.find('input[type="hidden"][name="form_post_id"]')
          var displayError = ''
          plugin.captchaToken = plugin.submitButton.data('token')
          $.ajax({
            type: 'POST',
            url: plugin.options.ajaxCaptchaValidationUrl,
            data: {
              captcha_token: plugin.captchaToken,
              form_post_id: (formPostIdField && formPostIdField.length > 0) ? formPostIdField.val() : ''
            },
            dataType: 'json',
            success: function (response) {
              if (response && typeof response === 'object' && typeof response.status !== 'undefined') {
                if (response.status !== 'success') {
                  plugin.hasErrors = true
                  displayError += '<div class="alert__content"><ul><li>Invalid CAPTCHA Response</li></ul></div>'
                } else {
                  plugin.$el.append('<input type="hidden" name="captcha_response_token" value="' + plugin.captchaToken + '">')
                }
              } else {
                plugin.hasErrors = true
                displayError += '<div class="alert__content"><ul><li>Invalid CAPTCHA Response</li></ul></div>'
              }
              plugin.$el.trigger('recaptcha:token:acquired')
            },
            error: function () {
              plugin.hasErrors = true
              displayError += '<div class="alert__content"><ul><li>Invalid CAPTCHA Response</li></ul></div>'
              plugin.$el.trigger('recaptcha:token:acquired')
            }
          })
          if (plugin.hasErrors === true) {
            if (plugin.errorBannerOnce) {
              $('#' + plugin.$el[0].id).parent().prepend('<div id="' + plugin.$el[0].id + '_banner" class="panel panel--alert alert--bad form-alert" role="alert">' +
                '<h5 class="alert__title">There was an error with this form.</h5>' +
                displayError +
                '<button type="button" class="button--icon alert__close js-alert__close"><span class="hidden-visually">Close this alert</span></button></div>')
            }
            $('html,body').animate({ scrollTop: 0 }, 'fast')
            plugin.eventListener()
            plugin.errorBannerOnce = false
          }
        })
      }
      plugin.disableSubmitOnEnterFields = plugin.options.disableSubmitOnEnterFields
      plugin.initRequiredFormFields()
      plugin.initEvents()
    },

    getIsPayLater: function () {
      var plugin = this
      var isPayLater = false

      if (plugin.$el.find('input[name="pay_later_method"]').length > 0) {
        // ecommerce pay later field
        if (plugin.$el.find('input[name="pay_later_method"]:checked').val() === '2') {
          isPayLater = true
        }
      } else {
        if (typeof plugin.$el.data('fdpFormPaymentAmountCalculator') !== 'undefined') {
          isPayLater = plugin.$el.data('fdpFormPaymentAmountCalculator').getIsPayLater()
        }
      }

      return isPayLater
    },

    eventListener: function () {
      var plugin = this
      $('.button--icon.alert__close.js-alert__close').click(function (e) {
        $('#' + plugin.$el[0].id + '_banner').fadeOut(500)
        plugin.errorBannerOnce = true
      })
    },

    initRequiredFormFields: function () {
      var plugin = this

      plugin.requiredFields = {}
      $.each(plugin.options.requiredFormFields, function (index, field) {
        if (Object.prototype.hasOwnProperty.call(field, 'id') && Object.prototype.hasOwnProperty.call(field, 'label') && Object.prototype.hasOwnProperty.call(field, 'type')) {
          var subFields = []
          var formRowId = 'content_' + plugin.options.contentIdentifier + '_form-row-' + field.id
          if (field.type === 21) {
            $.each(plugin.options.paymentFieldIdentifiers, function (index, identifier) {
              subFields.push(formRowId + identifier)
            })
          }

          plugin.requiredFields[formRowId] = {
            id: field.id,
            label: field.label,
            typeId: field.type,
            inputTypeId: field.inputType,
            subFields: subFields
          }
        }
      })
    },

    initEvents: function () {
      var plugin = this

      if (plugin.disableSubmitOnEnterFields.length !== 0) {
        $(plugin.disableSubmitOnEnterFields).each(function (id, field) {
          plugin.$el.find(field).on('keydown', function (event) {
            if (event.keyCode === 13) {
              event.preventDefault()
              return false
            }
          })
        })
      }

      if (plugin.validateCaptcha) {
        plugin.$el.on(
          'recaptcha:token:acquired', function (event) {
            plugin.submitButton.on(
              'click', function (event) {
                plugin._processFormSubmit(event)
              }
            )
            plugin._processFormSubmit(event)
          }
        )
      } else {
        plugin.submitButton.on(
          'click', function (event) {
            plugin._processFormSubmit(event)
          }
        )
      }

      plugin.$el.on('processed', function (event, hasErrors) {
        if (!hasErrors) {
          if (plugin.options.isPageflexForm) {
            plugin._showPageflexProcessingModal()
            $('body').magnificPopup('open')
          }
          if (plugin.$el.find(':file').length > 0) {
            plugin.$el.data('fdpFileUploadUtils').initializeUploads()
          }
          // send fraud prevention request
          plugin.$el.data('fdpFormFraudPrevention').sendFraudPreventionAjaxRequest(function () {
            $(plugin.$el).submit()
          })
        } else {
          plugin.$el.find('input[type="submit"], input[type="reset"]').attr('disabled', false)
          plugin.$el.removeClass('form-disabled')
          return false
        }
      })
    },

    _processFormSubmit: function (event) {
      var plugin = this
      event.preventDefault()
      plugin.errorBannerOnce = true
      plugin.totalSize = 0
      plugin.totalFiles = 0
      plugin.hasDirectoryError = 0
      if (!plugin.$el.hasClass('form-disabled')) {
        // Clear last validation
        plugin.$el.data('fdpFormUtils').clearValidationErrors()
        plugin.hasErrors = false
        plugin.isPayLater = plugin.getIsPayLater()

        plugin.$el.find('input[type="submit"], input[type="reset"]').attr('disabled', true)
        plugin.$el.addClass('form-disabled')

        var fileRows = plugin.$el.find('div.form-row.form-row--file-upload')
        if (fileRows.length === 0) {
          return plugin._processRequiredFields()
        }

        var arrayOfFiles = []
        fileRows.each(function (index, row) {
          var inputId = $(row)[0].id.replace('form-row-', 'field_')
          var inputElement = $('#' + inputId)

          $.each(inputElement[0].files, function (i, file) {
            arrayOfFiles.push(file)
          })
        })

        if (arrayOfFiles.length === 0) {
          return plugin._processRequiredFields()
        }

        $.each(arrayOfFiles, function (index, file) {
          var reader = new FileReader()
          reader.onloadend = function (e) {
            if (e.currentTarget.error !== null) {
              plugin.hasDirectoryError = true
            }

            plugin.totalSize = plugin.totalSize + file.size
            plugin.totalFiles++

            if (index === arrayOfFiles.length - 1) {
              return plugin._checkForUploadErrors()
            }
          }

          reader.readAsText(file.slice(0, 1024))
        })
      }
    },

    _checkForUploadErrors: function () {
      var plugin = this
      plugin.fileUploadError = (plugin.hasDirectoryError || plugin.totalSize >= plugin.totalSizeAllowed || plugin.totalFiles > plugin.totalFilesAllowed)

      var cannotUploadDirectory = 'Whoops! You are trying to upload a folder, only files can be uploaded at this time. Please remove the folder and try again.'
      var fileSizeTooLarge = 'Whoops! You are trying to upload ' + humanFileSize(plugin.totalSize) + ' but only ' + humanFileSize(plugin.totalSizeAllowed) + ' is allowed at one time. Please remove some files and try again.'
      var fileCountTooLarge = 'Whoops! You are trying to upload ' + plugin.totalFiles + ' files but the limit is ' + plugin.totalFilesAllowed + ' at a time. Please remove some files and try again.'
      if (plugin.fileUploadError) {
        var displayError = ''
        if (plugin.hasDirectoryError) {
          displayError += '<div class="alert__content"><ul><li>' + cannotUploadDirectory + '</li></ul></div>'
        }
        if (plugin.totalFiles > plugin.totalFilesAllowed) {
          displayError += '<div class="alert__content"><ul><li>' + fileCountTooLarge + '</li></ul></div>'
        }
        if (plugin.totalSize > plugin.totalSizeAllowed) {
          displayError += '<div class="alert__content"><ul><li>' + fileSizeTooLarge + '</li></ul></div>'
        }
        plugin.hasErrors = true
        if (plugin.errorBannerOnce) {
          $('#' + plugin.$el[0].id).parent().prepend('<div id="' + plugin.$el[0].id + '_banner" class="panel panel--alert alert--bad form-alert" role="alert">' +
            '<h5 class="alert__title">There was an error with this form.</h5>' +
            displayError +
            '<button type="button" class="button--icon alert__close js-alert__close"><span class="hidden-visually">Close this alert</span></button></div>')
        }
        $('html,body').animate({ scrollTop: 0 }, 'fast')
        plugin.eventListener()
        plugin.errorBannerOnce = false
        plugin.hasErrors = true
      }

      return plugin._processRequiredFields()
    },

    _processRequiredFields: function () {
      var plugin = this
      var defaultErrorMessage = 'This field is required and cannot be empty.'
      var internationalEmptyMessage = 'You must enter a country code.'
      var subFieldEmptyMessage = ''
      var hasSubmitAmount = true
      if (typeof plugin.$el.data('fdpFormPaymentAmountCalculator') !== 'undefined') {
        var totals = plugin.$el.data('fdpFormPaymentAmountCalculator').getTotals()
        hasSubmitAmount = totals.paymentTotal > 0
      }

      var displayError = ''
      var subFieldErrors = []

      plugin.$el.find('div.form-row.form-row--required').each(function (index, row) {
        var errorMessageNumber = 0 // Set it to field type ID
        var hasErrors = false
        var field = plugin._getRequiredFieldObject(row)

        if (typeof field !== 'undefined') {
          switch (parseInt(field.typeId)) {
            case 2:
              hasErrors = (plugin.$el.find('textarea[name="' + field.id + '"]').val() === '')
              break
            case 3:
              hasErrors = (plugin.$el.find('input[name="' + field.id + '[]"]:checked').length === 0)
              break
            case 4:
              hasErrors = (plugin.$el.find('input[name="' + field.id + '"]:checked').length === 0)
              break
            case 6:
              hasErrors = false
              break
            case 5:
              if (plugin.$el.find('select[name="' + field.id + '"]').val() === '') {
                hasErrors = true
                errorMessageNumber = 5
              }
              break
            case 15:
              hasErrors = plugin.$el.find('select[name="' + field.id + '"]:selected').val() === ''
              break
            case 7:
              if (plugin.$el.find('input[name="' + field.id + '"]').val() === '' || plugin.$el.find('input[name="' + field.id + '[]"]').val() === '') {
                if (plugin.$el.find('input[name="' + field.id + '_use_saved_upload"]').val() !== undefined &&
                  plugin.$el.find('input[name="' + field.id + '_saved_upload"]').val() !== undefined) {
                  if (plugin.$el.find('input[name="' + field.id + '_use_saved_upload"]:checked').val() === undefined) {
                    hasErrors = true
                  }
                } else {
                  hasErrors = true
                }
              }
              break
            case 8:
              hasErrors = ((plugin.$el.find('input[name="' + field.id + '"]').val() === '') && (plugin.$el.find('input[name="' + field.id + '_upload"]').val() === ''))
              break
            case 21:
              if (!plugin.isPayLater && hasSubmitAmount) {
                var paymentMethod = plugin.$el.find('input[name="' + field.id + '_payment_method"][type="hidden"], input[name="' + field.id + '_payment_method"][type="radio"]:checked').val()
                var ccPaymentField = plugin.$el.find('#content_' + plugin.options.contentIdentifier + '_form-row-' + field.id + '-cc')
                var achPaymentField = plugin.$el.find('#content_' + plugin.options.contentIdentifier + '_form-row-' + field.id + '-ach')
                var fieldErrors = 0
                var payField

                if (paymentMethod === 'cc' && ccPaymentField.length > 0) {
                  payField = ccPaymentField.find('.fdpc_payment_field_cardholder_name')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = ccPaymentField.find('.fdpc_payment_field_credit_card_number')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = ccPaymentField.find('.fdpc_payment_field_csc_number')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = ccPaymentField.find('.fdpc_payment_field_expiration_date')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = ccPaymentField.find('.fdpc_payment_field_zip')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                } else if (paymentMethod === 'ach' && achPaymentField.length > 0) {
                  payField = achPaymentField.find('.bank_account_holder_first_name')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = achPaymentField.find('.bank_account_holder_last_name')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = achPaymentField.find('.bank_account_type')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = achPaymentField.find('.bank_account_number')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                  payField = achPaymentField.find('.bank_routing_number')
                  if (payField.val() === '') {
                    subFieldErrors.push(payField[0].labels[0].innerText)
                    fieldErrors++
                    plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(payField.closest('.form-row'), defaultErrorMessage)
                  }
                }
                hasErrors = (fieldErrors > 0 || plugin.hasErrors)
              }
              plugin.processedPaymentFields = true
              break
            case 23:
              switch (field.inputTypeId) {
                case 4:
                  hasErrors = false
                  break
                case 1:
                  hasErrors = (plugin.$el.find('input[name="' + field.id + '"]:checked').length === 0)
                  break
                case 2:
                  hasErrors = (plugin.$el.find('input[name="' + field.id + '[]"]:checked').length === 0)
                  break
                case 3:
                  hasErrors = (plugin.$el.find('select[name="' + field.id + '"]:selected').val() === '')
                  break
                case 0:
                default:
                  hasErrors = (plugin.$el.find('input[name="' + field.id + '"]').val() === '')
                  break
              }
              break
            case 24: // Phone Fields
              var internationalEmpty = false
              var findPhoneField = plugin.$el.find('input[type="tel"]')

              var realPhoneField = null

              if (findPhoneField.length > 1) {
                for (var phoneFieldi = 0; phoneFieldi < findPhoneField.length; phoneFieldi++) {
                  if (findPhoneField[phoneFieldi].name.indexOf(field.id) !== -1) {
                    realPhoneField = findPhoneField[phoneFieldi]
                  }
                }
              }

              realPhoneField = realPhoneField == null ? findPhoneField[0] : realPhoneField

              var phoneFieldId = realPhoneField.id // last step
              var basePhoneFieldId = phoneFieldId.substring(0, phoneFieldId.indexOf(field.id))
              basePhoneFieldId += field.id + '_international'
              var phoneField = document.getElementById(phoneFieldId)
              var internationalField = document.getElementById(basePhoneFieldId)
              if (internationalField == null) {
                hasErrors = (plugin.$el.find('input[name="' + phoneField.name + '"]').val() === '')
              } else {
                hasErrors = (plugin.$el.find('input[name="' + phoneField.name + '"]').val() === '') ||
                  (plugin.$el.find('input[name="' + internationalField.name + '"]').val() === '')
                internationalEmpty = (plugin.$el.find('input[name="' + internationalField.name + '"]').val() === '') && !(plugin.$el.find('input[name="' + phoneField.name + '"]').val() === '')
              }
              if (internationalEmpty) {
                errorMessageNumber = field.typeId
              }
              break
            case 26: // Name fields
              var prefix = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_prefix')
              var firstName = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_first_name')
              var middleName = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_middle_name')
              var lastName = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_last_name')
              var suffix = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_suffix')
              var prefixError = false
              var firstNameError = false
              var middleNameError = false
              var lastNameError = false
              var suffixError = false
              var nameErrorFields = []
              subFieldEmptyMessage = 'These field(s) are required and cannot be empty: '
              if (prefix !== null && prefix.required && (plugin.$el.find('select[name="' + prefix.name + '"]').val() === '')) {
                prefixError = true
                nameErrorFields.push(plugin.subFieldLabels.name.placeholders.prefix)
              }
              if (firstName !== null && firstName.required && (plugin.$el.find('input[name="' + firstName.name + '"]').val() === '')) {
                firstNameError = true
                nameErrorFields.push(plugin.subFieldLabels.name.placeholders.first_name)
              }
              if (middleName !== null && middleName.required && (plugin.$el.find('input[name="' + middleName.name + '"]').val() === '')) {
                middleNameError = true
                nameErrorFields.push(plugin.subFieldLabels.name.placeholders.middle_name)
              }
              if (lastName !== null && lastName.required && (plugin.$el.find('input[name="' + lastName.name + '"]').val() === '')) {
                lastNameError = true
                nameErrorFields.push(plugin.subFieldLabels.name.placeholders.last_name)
              }
              if (suffix !== null && suffix.required && (plugin.$el.find('input[name="' + suffix.name + '"]').val() === '')) {
                suffixError = true
                nameErrorFields.push(plugin.subFieldLabels.name.placeholders.suffix)
              }
              if (prefixError || firstNameError || middleNameError || lastNameError || suffixError) {
                hasErrors = true
                errorMessageNumber = field.typeId
                for (var i = 0; i < nameErrorFields.length; i++) {
                  if (i !== nameErrorFields.length - 1) {
                    subFieldEmptyMessage += nameErrorFields[i] + ', '
                  } else {
                    subFieldEmptyMessage += nameErrorFields[i] + '.'
                  }
                }
              }
              break
            case 27: // Address fields
              var addressLine = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_address_line')
              var addressLineTwo = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_address_line_2')
              var addressLineThree = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_address_line_3')
              var city = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_city')
              var state = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_state')
              var postalCode = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_postal_code')
              var country = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_country')
              subFieldEmptyMessage = 'These field(s) are required and cannot be empty: '
              var addressErrorFields = []
              if (addressLine !== null && addressLine.required && (plugin.$el.find('input[name="' + addressLine.name + '"]').val() === '')) {
                addressErrorFields.push(plugin.subFieldLabels.address.labels.line)
              }
              if (addressLineTwo !== null && addressLineTwo.required && (plugin.$el.find('input[name="' + addressLineTwo.name + '"]').val() === '')) {
                addressErrorFields.push(plugin.subFieldLabels.address.labels.line_2)
              }
              if (addressLineThree !== null && addressLineThree.required && (plugin.$el.find('input[name="' + addressLineThree.name + '"]').val() === '')) {
                addressErrorFields.push(plugin.subFieldLabels.address.labels.line_3)
              }
              if (city !== null && city.required && (plugin.$el.find('input[name="' + city.name + '"]').val() === '')) {
                addressErrorFields.push(plugin.subFieldLabels.address.labels.city)
              }
              if (state !== null && state.required && (plugin.$el.find('input[name="' + state.name + '"]').val() === '')) {
                addressErrorFields.push(plugin.subFieldLabels.address.labels.state)
              }
              if (postalCode !== null && postalCode.required && (plugin.$el.find('input[name="' + postalCode.name + '"]').val() === '')) {
                addressErrorFields.push(plugin.subFieldLabels.address.labels.postal_code)
              }
              if (country !== null && country.required && (plugin.$el.find('input[name="' + country.name + '"]').val() === '')) {
                addressErrorFields.push(plugin.subFieldLabels.address.labels.country)
              }
              if (addressErrorFields.length > 0) {
                hasErrors = true
                errorMessageNumber = field.typeId
                for (var j = 0; j < addressErrorFields.length; j++) {
                  if (j !== addressErrorFields.length - 1) {
                    subFieldEmptyMessage += addressErrorFields[j] + ', '
                  } else {
                    subFieldEmptyMessage += addressErrorFields[j] + '.'
                  }
                }
              }
              break
            case 28: // Amount field
              var total = 0
              var customAmount = document.getElementById('content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_custom')

              var listAmountId = 'content_' + plugin.options.contentIdentifier + '_field_' + field.id + '_list_amount'
              var listAmount = $('input[id^="' + listAmountId + '"]')

              if (listAmount.length > 0) { // radio button or checkbox
                for (var list = 0; list < listAmount.length; list++) {
                  if (plugin.$el.find('input[id="' + listAmount[list].id + '"]:checked').length > 0) {
                    total += parseFloat(listAmount[list].value)
                  }
                }
              } else { // pulldown or doesn't exist
                listAmount = $('select[id^="' + listAmountId + '"]')
                if (listAmount.length > 0) {
                  total += parseFloat(listAmount.val())
                }
              }

              if (customAmount !== null) {
                var amount = plugin.$el.find('input[name="' + customAmount.name + '"]').val()
                // make it so that it gets past the required field. In future pass in min value
                if (total === 0 && amount === '0') {
                  total = 1
                } else {
                  total += amount === '' ? 0 : parseFloat(amount)
                }
              }
              hasErrors = (isNaN(total) || total === 0)
              break
            case 1:
            default:
              hasErrors = (plugin.$el.find('input[name="' + field.id + '"]').val() === '')
              errorMessageNumber = 0
              break
          }
          if (hasErrors) {
            if (field.label !== '') {
              displayError += '<li>The "' + field.label + '" field is required and cannot be empty.</li>'
            } else if (subFieldErrors.length === 0) {
              displayError += '<li>The unlabeled field is required and cannot be empty.</li>'
            } else if (subFieldErrors.length > 0) {
              for (var error = 0; error < subFieldErrors.length; error++) {
                displayError += '<li>The "' + subFieldErrors[error] + '" field is required and cannot be empty.</li>'
              }
            }
            plugin.hasErrors = true
            switch (errorMessageNumber) {
              case 5:
                plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(row, defaultErrorMessage)
                break
              case 24:
                plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(row, internationalEmptyMessage)
                break
              case 26:
              case 27:
                plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(row, subFieldEmptyMessage)
                break
              case 28:
                plugin.$el.data('fdpFormUtils').renderAmountFieldValidationErrors(row, subFieldEmptyMessage)
                break
              default:
                plugin.$el.data('fdpFormUtils').renderFieldValidationErrors(row, defaultErrorMessage)
                break
            }
          }
        }
      })
      if (plugin.hasErrors) {
        $('#' + plugin.$el[0].id).parent().prepend('<div id="' + plugin.$el[0].id + '_banner" class="panel panel--alert alert--bad form-alert" role="alert">' +
          '<h5 class="alert__title">There was an error with this form.</h5>' +
          '<div class="alert__content"><ul>' + displayError + '</ul></div>' +
          '<button type="button" class="button--icon alert__close js-alert__close"><span class="hidden-visually">Close this alert</span></button></div>')
        $('html,body').animate({ scrollTop: 0 }, 'fast')
        plugin.eventListener()
      }
      plugin._continueProcessingUpload()
    },

    _continueProcessingUpload: function () {
      var plugin = this
      var paymentGatewayData = plugin.$el.data('paymentGatewayData')
      var hasSubmitAmount = true
      if (typeof plugin.$el.data('fdpFormPaymentAmountCalculator') !== 'undefined') {
        var totals = plugin.$el.data('fdpFormPaymentAmountCalculator').getTotals()
        hasSubmitAmount = totals.paymentTotal > 0
      }

      plugin.processedPaymentFields = false
      if (!plugin.hasErrors && hasSubmitAmount && !plugin.isPayLater && paymentGatewayData) {
        plugin.$el.data('fdpFormUtils').processPayment(plugin.$el, function (hasErrors) {
          plugin.$el.trigger('processed', hasErrors)
        })
      } else {
        plugin.$el.trigger('processed', plugin.hasErrors)
      }
    },

    _getRequiredFieldObject: function (field) {
      var plugin = this
      var fieldObj = plugin.requiredFields[field.id]

      if (typeof fieldObj === 'undefined' && !plugin.processedPaymentFields) {
        $.each(plugin.requiredFields, function (index, obj) {
          $.each(obj.subFields, function (i, subField) {
            if (field.id === subField) {
              fieldObj = obj
            }
          })
        })
      }

      return fieldObj
    },

    _showPageflexProcessingModal: function () {
      var plugin = this

      if (plugin.options.isPageflexForm) {
        plugin.pageflexProcessingModal = $('<div/>').attr({
          id: 'file-upload-progress-modal',
          class: 'inline-popup inline-popup--xs modal-popup modal-popup--progress-bar'
        })

        var header = $('<div/>').addClass('inline-popup__header')
        var heading = $('<h5/>').text('Generating document, please wait a moment...')
        $(header).append(heading)

        var disclaimer = $('<div/>').addClass('inline-popup-disclaimer')
        var notice = $('<strong/>').text('Do not refresh this window while your document is being generated. ')
        $(disclaimer).append($('<p/>').text('You can continue working in other browser windows and tabs.'))
        $(disclaimer).find('p').prepend(notice)

        $(plugin.pageflexProcessingModal).append(header)
        $(plugin.pageflexProcessingModal).append(disclaimer)
        $('body').magnificPopup({
          type: 'inline',
          modal: true,
          items: {
            src: $(plugin.pageflexProcessingModal)
          }
        })
      }
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFormValidate(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpMinutemanStoreLocatorMap'

  var defaults = {
    map: {}
  }

  function FdpMinutemanStoreLocatorMap (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpMinutemanStoreLocatorMap.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      plugin.markers = []
      plugin.initEvents()
      google.maps.event.addDomListener(window, 'load', plugin.initGoogleMap(plugin))
    },

    initEvents: function () {
      var plugin = this

      $('.view-map').click(function () {
        var index = $(this).closest('.mmp-store').index()
        if (index < plugin.markers.length) {
          google.maps.event.trigger(plugin.markers[index], 'click')
        }
      })
    }

  }

  FdpMinutemanStoreLocatorMap.prototype.initGoogleMap = function (plugin) {
    var mapLatitude = Object.prototype.hasOwnProperty.call(plugin.options.map, 'latitude') ? plugin.options.map.latitude : 0
    var mapLongitude = Object.prototype.hasOwnProperty.call(plugin.options.map, 'longitude') ? plugin.options.map.longitude : 0
    var mapZoom = Object.prototype.hasOwnProperty.call(plugin.options.map, 'zoom') ? plugin.options.map.zoom : 0
    var googleMapOptions = {
      center: new google.maps.LatLng(mapLatitude, mapLongitude),
      zoom: mapZoom,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      streetViewControl: false
    }

    plugin.googleMap = new google.maps.Map(plugin.$el[0], googleMapOptions)

    if (Object.prototype.hasOwnProperty.call(plugin.options.map, 'markers')) {
      if (plugin.options.map.markers.length > 1) {
        var bounds = new google.maps.LatLngBounds()
      }

      if (plugin.options.map.markers.length > 0) {
        var infoWindow = new google.maps.InfoWindow()

        $.each(plugin.options.map.markers, function (index, marker) {
          var icon = Object.prototype.hasOwnProperty.call(plugin.options.map, 'icon') ? plugin.options.map.icon : ''
          var shadow = Object.prototype.hasOwnProperty.call(plugin.options.map, 'shadow') ? plugin.options.map.shadow : ''
          var latitude = Object.prototype.hasOwnProperty.call(marker, 'latitude') ? marker.latitude : 0
          var longitude = Object.prototype.hasOwnProperty.call(marker, 'longitude') ? marker.longitude : 0
          var html = Object.prototype.hasOwnProperty.call(marker, 'latituhtmlde') ? marker.html : ''
          plugin['m' + index] = new google.maps.Marker({
            icon: icon,
            shadow: shadow,
            position: new google.maps.LatLng(latitude, longitude),
            map: plugin.googleMap
          })
          google.maps.event.addListener(plugin['m' + index], 'click', function () {
            infoWindow.setContent(html)
            infoWindow.open(plugin.googleMap, plugin['m' + index])
          })

          if (bounds) {
            bounds.extend(plugin['m' + index].getPosition())
          }
          plugin.markers.push(plugin['m' + index])
        })
      }

      if (plugin.options.map.markers.length > 1) {
        plugin.googleMap.fitBounds(bounds)
        plugin.googleMap.setCenter(bounds.getCenter())
      }
    }
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpMinutemanStoreLocatorMap(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpPardot'

  var defaults = {}

  function FdpPardot (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpPardot.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this
      const pardotErrors = plugin.getURLParameter('errors')
      var pardotErrorMessage = plugin.getURLParameter('errorMessage')

      if (pardotErrors != null && pardotErrorMessage != null) {
        pardotErrorMessage = pardotErrorMessage.replace(/\+/g, ' ')
        pardotErrorMessage = pardotErrorMessage.replace(/ - /g, '')
        var pardotErrorMessages = pardotErrorMessage.split('~~~')
        pardotErrorMessages.splice(0, 1)
        pardotErrorMessages = pardotErrorMessages.filter(function (elem) {
          return (elem !== '' && elem !== 'This field is required')
        }).map(function (elem) {
          return '<li>' + elem + '</li>'
        })
        plugin.$el.before('<div class="panel panel--alert alert--bad form-alert" role="alert">' +
          '<h5 class="alert__title">There was an error with this form.</h5>' +
          '<div class="alert__content"><ul>' + pardotErrorMessages.join('') + '</ul></div>' +
          '<button type="button" class="button--icon alert__close js-alert__close"><span class="hidden-visually">Close this alert</span></button></div>')
      }

      var allParams = plugin.getURLParameters()
      $.each(allParams, function (key, value) {
        var field = $('.form-row input[name=\'' + key + '\'], .form-row select[name=\'' + key + '\'], .form-row textarea[name=\'' + key + '\']')
        if (field.is(':text') || field.is('select') || field.is('textarea')) {
          field.val(value)
        } else if (field.is(':radio')) {
          field.filter('input[value="' + value + '"]').prop('checked', true)
        }
      })
    }

  }

  FdpPardot.prototype.getURLParameter = function (name) {
    return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(document.location.search) || ['', ''])[1].replace(/\+/g, '%20')) || null
  }

  FdpPardot.prototype.getURLParameters = function () {
    var params = {}
    var query = document.location.search.replace('?', '')
    query = query.split('&')

    for (var i = 0; i < query.length; i++) {
      var field = query[i].split('=')
      var value = decodeURIComponent(field[1])
      value = value.replace(/\+/g, ' ')
      params[field[0]] = value
    }
    return params
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpPardot(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpPaymentGatewayData'

  var defaults = {
    paymentGatewayName: '',
    paymentGatewayApiKey: '',
    paymentGatewayZipCodeFieldId: ''
  }

  function FdpPaymentGatewayData (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpPaymentGatewayData.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      if (plugin.options.paymentGatewayName && plugin.options.paymentGatewayApiKey) {
        plugin.$el.data('paymentGatewayData', plugin.options)
      }
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpPaymentGatewayData(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpPaymentFormLoadingTabStop'
  var defaults = {}

  function FdpPaymentFormLoadingTabStop (el, options) {
    this.$el = $(el)
    this.form = el.form
    this.options = $.extend({}, defaults, options)
    this.init()
  }

  FdpPaymentFormLoadingTabStop.prototype = {

    /**
     * Initialize the plugin
     */
    init: function () {
      var plugin = this

      plugin.loadingTabStop = $('<a href="#" title="loading payment form" style="position: absolute; display: none;" />')
      plugin.$el.after(plugin.loadingTabStop)

      plugin.initEvents()
    },

    /**
     * Initialize events.
     */
    initEvents: function () {
      var plugin = this

      plugin.$el.keydown(function (e) {
        var val = $(e.target).val()
        var trigger = e.which === 9 && val && val !== plugin.lastTriggerVal
        if (!trigger) {
          // unless it's a tab press, we have a value, and it wasn't the last value we triggered on
          return
        }
        plugin.lastTriggerVal = val
        plugin.loadingTabStop.show()
        $(e.target.form)
          .one('fdpFormPaymentAmountCalculator:totals', plugin.handleTabToHiddenField.bind(plugin))
      })
    },

    handleTabToHiddenField: function () {
      var plugin = this
      setTimeout(function () {
        if (document.activeElement === plugin.loadingTabStop.get(0)) {
          var inputs = $(':input', plugin.form).not(':hidden')
          var nextInput = inputs.get(inputs.index(plugin.$el) + 1)
          if (nextInput) {
            nextInput.focus()
          }
        }
        plugin.loadingTabStop.hide()
      })
    }
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpPaymentFormLoadingTabStop(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpTogglePaymentFields'

  var defaults = {}

  function FdpTogglePaymentFields (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpTogglePaymentFields.prototype = {

    /**
     * Initialize the plugin
     */
    init: function () {
      var plugin = this

      plugin.creditBalanceFields = plugin.$el.find('div.form-row--use-credit')
      plugin.paymentTotalFields = plugin.$el.find('div.form-row--total-amount')
      plugin.payLaterFields = plugin.$el.find('div.fdpc_pay_later')

      plugin.paymentFields = []
      if (plugin.$el.find('div.form-row--payment-method').length) {
        plugin.paymentFields.push(plugin.$el.find('div.form-row--payment-method'))
      } else {
        plugin.paymentFields.push(plugin.$el.find('div.field-collection--payment'))
      }
      plugin.paymentFields.push(plugin.$el.find('.fdpc_cc_number').closest('.form_row'))
      plugin.paymentFields.push(plugin.$el.find('div.form-row.cc_form_row:not(.fdpc_pay_later)'))
      plugin.paymentFields.push(plugin.$el.find('div.form-row.payment--recurring'))

      var amountsCalculator = $(plugin.$el).data('fdpFormPaymentAmountCalculator')
      if (amountsCalculator) {
        plugin.toggleFields(amountsCalculator.getTotals(), false)
      }

      plugin.initEvents()
    },

    /**
     * Initialize events.
     */
    initEvents: function () {
      var plugin = this

      // update total when an event is triggered
      plugin.$el.on('fdpFormPaymentAmountCalculator:totals', function (e, totals) {
        plugin.toggleFields(totals)
      })
    },

    toggleFields: function (totals, animate = true) {
      var plugin = this

      var speed = 'fast'
      if (!animate) {
        speed = 0
      }

      // pay now/later
      if (totals.total === 0) {
        plugin.payLaterFields.slideUp(speed)
      } else {
        plugin.payLaterFields.slideDown(speed)
      }

      // cc fields
      if (totals.isPayLater || totals.paymentTotal === 0) {
        $.each(plugin.paymentFields, function (index, field) {
          field.slideUp(speed)
        })
        plugin.$el.find('h5.form-title.js-pay-later-toggle').fadeOut(speed)
      } else {
        $.each(plugin.paymentFields, function (index, field) {
          field.slideDown(speed)
        })
        plugin.$el.find('h5.form-title.js-pay-later-toggle').fadeIn(speed)
      }

      // credit balance
      if (totals.isPayLater || totals.total === 0) {
        plugin.creditBalanceFields.slideUp(speed)
      } else {
        plugin.creditBalanceFields.slideDown(speed)
      }

      // total payment
      if (totals.isPayLater || totals.total === 0) {
        plugin.paymentTotalFields.slideUp(speed)
      } else {
        plugin.paymentTotalFields.slideDown(speed)
      }
    }
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpTogglePaymentFields(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpPaymentFieldTotals'

  var defaults = {
    currencySign: '$',
    parentForm: null
  }

  function FdpPaymentFieldTotals (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpPaymentFieldTotals.prototype = {

    /**
     * Initialize the plugin.
     */
    init: function () {
      var plugin = this

      if (plugin.options.parentForm) {
        // set the initial value
        var amountsCalculator = $(plugin.options.parentForm).data('fdpFormPaymentAmountCalculator')
        if (amountsCalculator) {
          plugin.updateTotals(amountsCalculator.getTotals())
        }
      }

      plugin.initEvents()
    },

    /**
     * Initialize events.
     */
    initEvents: function () {
      var plugin = this

      if (plugin.options.parentForm) {
        // update total when an event is triggered
        plugin.options.parentForm.on('fdpFormPaymentAmountCalculator:totals', function (e, amounts) {
          plugin.updateTotals(amounts)
        })
      }
    },

    /**
     * Set the updated total.
     *
     * @param amounts
     */
    updateTotals: function (amounts) {
      var plugin = this
      var formattedTotal = plugin.formatTotal(amounts.total)
      var formattedPaymentTotal = plugin.formatTotal(amounts.paymentTotal)
      var formattedCreditBalanceTotal = plugin.formatTotal(amounts.creditBalanceTotal)

      var paymentTotalEl = plugin.$el.find('.form-row--total-payment')
      var creditBalanceEl = plugin.$el.find('.form-row--total-credit-balance')
      var chargedCcEl = plugin.$el.find('.form-row--total-charged-cc')
      var chargedAchEl = plugin.$el.find('.form-row--total-charged-ach')

      paymentTotalEl.find('span').text(plugin.options.currencySign + formattedTotal)
      creditBalanceEl.find('span').text(plugin.options.currencySign + formattedCreditBalanceTotal)
      chargedCcEl.find('span').text(plugin.options.currencySign + formattedPaymentTotal)
      chargedAchEl.find('span').text(plugin.options.currencySign + formattedPaymentTotal)

      if (amounts.userHasCreditBalance) {
        creditBalanceEl.show()
        if (amounts.paymentType === 'ach') {
          chargedAchEl.show()
          chargedCcEl.hide()
        } else {
          chargedAchEl.hide()
          chargedCcEl.show()
        }
      } else {
        creditBalanceEl.hide()
        chargedCcEl.hide()
        chargedAchEl.hide()
      }
    },

    /**
     * Format a total for display.
     *
     * @param value
     * @returns {string|string}
     */
    formatTotal: function (value) {
      var total = value === 0 ? parseFloat('0.00') : parseFloat(value)
      return !isNaN(total) ? total.toFixed(2) : '0.00'
    }
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpPaymentFieldTotals(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpUserProfileSearch'

  var defaults = {
    ajaxUrl: '',
    columns: [],
    formActionUrl: '',
    isAdvancedSearch: false,
    keywords: '',
    params: {
      page: 1,
      rp: 1,
      sortname: '',
      sortorder: 'asc',
      qtype: '',
      query: ''
    },
    resultsCount: null,
    searchColumns: []
  }

  function FdpUserProfileSearch (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)
    this.init()
  }

  FdpUserProfileSearch.prototype = {

    // plugin logic goes here
    init: function () {
      var plugin = this

      plugin.searchResults = plugin.$el.find('.portal-user-search__results')
      plugin.table = {}

      plugin.populateFormSelectOptions()
      plugin.getUsers(plugin.options.params)
      plugin.initEvents()
    },

    initEvents: function () {
      var plugin = this

      plugin.$el.find('a.form-control-reset__reset').on('click', function (e) {
        e.preventDefault()
        $(this).hide()
        $(this).closest('.portal-user-search-keywords').find('input[type="search"]').val('')
        var reset = {
          page: 1,
          rp: plugin.options.params.rp,
          sortname: plugin.options.params.sortname,
          profile_columns_get_id: plugin.options.params.profile_columns_get_id,
          sortorder: 'asc',
          query: '',
          qtype: ''
        }
        if (plugin.options.params.result_user_ids) {
          reset.result_user_ids = plugin.options.params.result_user_ids
        }
        plugin.getUsers(reset)
      })
    },

    getUsers: function (params) {
      var plugin = this

      if (params.result_user_ids != null && (typeof params.result_user_ids !== 'string')) { // We convert it to json so we can get past the max_input_vars limit (7000)
        params.result_user_ids = JSON.stringify(params.result_user_ids)
      }

      $.ajax({
        type: 'POST',
        url: plugin.options.ajaxUrl,
        data: params,
        dataType: 'json',
        success: function (users) {
          plugin.populateKeywordResults(users)
          plugin.setupResultsTable(users)
          plugin.populateTableActions(users, params)
          plugin.populateFormReturn()
        },
        error: function () {
          // handle error
        }
      })
    },

    populateKeywordResults: function (users) {
      var plugin = this
      var results = (!plugin.options.resultsCount) ? 'Your search for "' + plugin.options.keywords + '" returned ' + users.count + ' results.' : plugin.$el.find('p.portal-user-search__keyword-results strong').text()
      plugin.options.resultsCount = users.count
      if (plugin.options.keywords) {
        plugin.$el.find('p.portal-user-search__keyword-results strong').text(results)
      }
    },

    populateFormSelectOptions: function () {
      var plugin = this
      var render = ''
      render += '<option value="0">All Profile Fields</option>'
      render += '<option value="" disabled="disabled">-----</option>'
      $.each(plugin.options.searchColumns, function (index, column) {
        render += '<option value="' + column.name + '">' + column.display + '</option>'
      })
      plugin.$el.find('select[name="portal-user-search-profile-fields"]').append(render)
      plugin.createSearchFormListener()
    },

    createSearchFormListener: function () {
      var plugin = this
      var searchForm = plugin.$el.find('.portal-user-search__form form')
      searchForm.submit(function (e) {
        e.preventDefault()
        plugin.$el.find('a.form-control-reset__reset').show()
        var formField = searchForm.find('select[name="portal-user-search-profile-fields"]').val()
        var keywords = searchForm.find('input[name="portal-user-search-keywords"]').val()
        var qType = (formField === '0') ? 'all' : formField
        var requestData = $.extend(plugin.options.params, { qtype: qType, query: keywords })
        plugin.getUsers(requestData)
      })
    },

    setupResultsTable: function (users) {
      var plugin = this
      plugin.searchResults.find('.flex-table').remove()
      plugin.searchResults.prepend('<div class="flex-table flex-table--has-links"></div>')
      plugin.table = plugin.searchResults.find('.flex-table')
      plugin.populateTableHeader()
      plugin.populateTableRows(users)
    },

    populateTableHeader: function () {
      var plugin = this
      var render = ''
      $.each(plugin.options.columns, function (index, column) {
        if (column.display !== 'Details') render += '<div class="flex-table-td">' + column.display + '</div>'
      })
      plugin.table.append('<div class="flex-table__tr flex-table__tr--header"></div>')
      plugin.table.find('.flex-table__tr--header').append(render)
    },

    populateTableRows: function (users) {
      var plugin = this
      plugin.table.children('a').remove()
      plugin.searchResults.find('.panel--no-results').remove()
      if (users.count > 0) {
        for (var i = 0; i < users.count; i++) {
          var userData = users.data[i]
          var anchor = $('<a>').attr({ href: plugin.options.formActionUrl + '?' + $.param({ get_id: userData.detailsGetId }) })
          var row = $('<div>').addClass('flex-table__tr')
          anchor.append(row)
          row.append(plugin.populateUserData(userData))
          plugin.table.append(anchor)
        }
      } else {
        plugin.table.remove()
        plugin.searchResults.find('.panel--no-results').remove()
        var message = '<div class="portal-user-search__results panel panel--no-results">No results were found.</div>'
        plugin.searchResults.append(message)
      }
    },

    populateUserData: function (userData) {
      var plugin = this
      var render = ''
      $.each(plugin.options.columns, function (index, column) {
        if (column.display !== 'Details' && column.display !== 'Username') {
          var key = column.name.replace(/\D/g, '')
          var value = ''
          var profileField = userData.profile[key]
          if (profileField) {
            switch (profileField.fieldTypeId) {
              default:
                value = profileField.value
                if (value.indexOf('href') > -1) {
                  value = value.replace(/<a.*href=.*>(.*?)<\/a>/gi, '$1')
                }
                break
              case 2:
                value = '<p>'
                value += profileField.value.replace(/(?:\r\n|\r|\n)/g, '<br />')
                value += '</p>'
                break
              case 18: // display image
                if (profileField.value.url) {
                  value = '<div class="display-image image" style="max-width: ' + profileField.value.width + 'px;">'
                  value += '<img src="' + profileField.value.url + '" width="' + profileField.value.width + '" height="' + profileField.value.height + '"/>'
                  value += '</div>'
                }
                break
              case 25: // url
                value = '<a href="' + profileField.value + '" target="_blank" rel="noopener noreferrer">' + profileField.value + '</a>'
                break
            }
          }
          if ($.trim(value) === '') {
            value = 'n/a'
          }
          if (column.display === 'E-mail Address') {
            render += '<div class="flex-table-td break-all" data-header="' + column.display + '">' + value + '</div>'
          } else {
            render += '<div class="flex-table-td" data-header="' + column.display + '">' + value + '</div>'
          }
        }
        if (column.display === 'Username') {
          render += '<div class="flex-table-td" data-header="' + column.display + '">' + userData.username + '</div>'
        }
      })
      return render
    },

    populateTableActions: function (users, params) {
      var plugin = this
      plugin.searchResults.find('.table-actions').remove()
      if (users.count > 0) {
        plugin.searchResults.append('<div class="table-actions">')
        plugin.searchResults.find('.table-actions').append(plugin.getRenderedPerPageSelectBox(params))
        plugin.createSelectJumpEventListener(users)
        var pagination = {
          totalCount: users.totalCount,
          perPage: params.rp,
          currentPage: users.page,
          totalPages: (users.count) ? Math.ceil(users.totalCount / params.rp) : 0
        }
        plugin.searchResults.find('.table-actions').append(plugin.getRenderedPagination(pagination))
        plugin.createPaginationEventListeners()
      }
    },

    getRenderedPerPageSelectBox: function (params) {
      var allowedPageRows = [10, 25, 50, 100, 250]
      var render = '<div class="nav--rows-page">'
      render += '<select class="js-select-jump">'
      for (var i = 0; i < allowedPageRows.length; i++) {
        if (parseInt(params.rp) !== allowedPageRows[i]) {
          render += '<option value="' + allowedPageRows[i] + '">' + allowedPageRows[i] + '/page</option>'
        } else {
          render += '<option value="' + allowedPageRows[i] + '" selected="selected">' + allowedPageRows[i] + '/page</option>'
        }
      }
      render += '</select></div>'
      return render
    },

    createSelectJumpEventListener: function (users) {
      var plugin = this
      plugin.searchResults.find('.table-actions .nav--rows-page .js-select-jump').on('change', function (e) {
        e.preventDefault()
        var perPage = $(this).val()
        var totalPages = (users.count) ? Math.ceil(users.totalCount / perPage) : 0
        var page = (totalPages < users.page) ? totalPages : users.page
        var requestData = $.extend(plugin.options.params, { rp: perPage, page: page })
        plugin.getUsers(requestData)
      })
    },

    getRenderedPagination: function (pagination) {
      if (pagination.totalCount > pagination.perPage) {
        var render = ''
        var maxPages = 8
        var startPage = ((pagination.currentPage - (maxPages / 2)) <= 1) ? 1 : (pagination.currentPage - (maxPages / 2))
        var endPage = ((startPage + maxPages) > pagination.totalPages) ? pagination.totalPages : (startPage + maxPages)
        startPage = ((endPage - maxPages) >= startPage || (endPage - maxPages) <= 1) ? startPage : (endPage - maxPages)

        render += '<nav class="nav nav--pagination" aria-label="Pagination">'
        render += '<ul>'

        if (pagination.currentPage > 1) {
          render += '<li><a href="' + (pagination.currentPage - 1) + '" class="nav--pagination__prev" aria-label="Go to previous page"></a></li>'
        } else {
          render += '<li><span class="nav--pagination__prev"></span></li>'
        }

        if (startPage > 1) {
          render += '<li><a href="1" aria-label="Go to page 1">1</a></li>'
        }

        if (startPage > 2) {
          render += '<li><span class="nav--pagination__spread"></span></li>'
        }

        for (var i = startPage; i < startPage + pagination.totalPages; i++) {
          if (i <= endPage) {
            if (i === pagination.currentPage) {
              render += '<li><a href="' + i + '" class="nav--pagination__here" aria-current="true" aria-label="Current Page, Page ' + i + '">' + i + '</a></li>'
            } else {
              render += '<li><a href="' + i + '" aria-label="Go to page ' + i + '">' + i + '</a></li>'
            }
          }
        }

        if (endPage < (pagination.totalPages - 1)) {
          render += '<li><span class="nav--pagination__spread"></span></li>'
        }

        if (endPage < pagination.totalPages) {
          render += '<li><a href="' + pagination.totalPages + '" aria-label="Go to page ' + pagination.totalPages + '">' + pagination.totalPages + '</a></li>'
        }

        if (pagination.currentPage !== pagination.totalPages) {
          render += '<li><a href="' + (pagination.currentPage + 1) + '" class="nav--pagination__next" aria-label="Go to next page"></a></li>'
        } else {
          render += '<li><span class="nav--pagination__next"></span></li>'
        }

        render += '</ul>'
        render += '</nav>'
        return render
      }
    },

    createPaginationEventListeners: function () {
      var plugin = this
      plugin.searchResults.find('.table-actions nav.nav--pagination a').on('click', function (e) {
        e.preventDefault()
        var page = $(this).attr('href')
        var requestData = $.extend(plugin.options.params, { page: page })
        plugin.getUsers(requestData)
      })
    },

    populateFormReturn: function () {
      var plugin = this
      plugin.$el.find('.portal-user-search-results__return').remove()
      var navReturn = '<div class="portal-user-search-results__return">'
      navReturn += '<a href="' + plugin.options.formActionUrl + '" class="nav-return">Return to Advanced Search Form</a>'
      navReturn += '</div>'
      if (plugin.options.isAdvancedSearch) {
        plugin.searchResults.append(navReturn)
      }
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpUserProfileSearch(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFileUploadDragAndDrop'

  var defaults = {
    outsideInput: ''
  }

  function FdpFileUploadDragAndDrop (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpFileUploadDragAndDrop.prototype = {
    // plugin logic goes here
    init: function () {
      var plugin = this
      plugin.makeEventsListen = true
      var inputId = plugin.$el.find('input')
      plugin.input = inputId
      plugin.fileId = inputId[0].id
      var table = plugin.$el.find('tbody')
      plugin.table = table[0].id
      var emptyFiles = plugin.$el.find('tr')
      plugin.emptyFiles = document.getElementById(emptyFiles[0].id)
      var label = plugin.$el.find('label')
      plugin.label = $('#' + label[0].id)
      plugin.dropzone = plugin.$el[0].id
      var divDropzone = $('#' + plugin.dropzone)

      var input = $('#' + plugin.fileId)

      if (!plugin.isDragAndDropSupported()) {
        $(divDropzone[0].parentNode).append(input)
        divDropzone.remove()
        plugin.makeEventsListen = false
        input.addClass('no-drag-drop')
      }

      if (plugin.makeEventsListen) {
        plugin.eventListeners()
      }
    },

    eventListeners: function () {
      var plugin = this
      var dropzone = $('#' + plugin.dropzone)

      $('#' + plugin.fileId).change(function (e) {
        plugin.populateFileName()
      })

      $('#' + plugin.fileId + '_remove').click(function (e) {
        plugin.input.prop('value', '')
        var table = document.getElementById(plugin.table)
        table.innerHTML = ''
        table.appendChild(plugin.emptyFiles)
        $('#' + plugin.fileId + '_remove').addClass('hidden')
        e.preventDefault()
      })

      dropzone.on('dragover', function (e) {
        $(this).addClass('panel--hover')
        e.preventDefault()
        e.stopPropagation()
      })

      dropzone.on('dragleave', function (e) {
        $(this).removeClass('panel--hover')
        e.preventDefault()
        e.stopPropagation()
      })

      dropzone.on('drop', function (e) {
        e.preventDefault()
        e.stopPropagation()
        plugin.$el.parent().find('.form-control-info.form-control-info--below').remove()
        $(this).removeClass('panel--hover')
        if (!plugin.input[0].multiple && e.originalEvent.dataTransfer.files.length > 1) {
          plugin.$el.parent().append(
            '<div class="form-control-info form-control-info--below">' +
            '<div class="form-control-info__error">' +
            'This field does not allow multiple files.' +
            '</div>' +
            '</div>'
          )
          return
        }
        plugin.input.prop('files', e.originalEvent.dataTransfer.files)
        plugin.populateFileName()
      })
    },

    populateFileName: function () {
      var plugin = this
      var table = document.getElementById(plugin.table)
      var files = plugin.input.prop('files')
      if (files.length > 0) {
        $('#' + plugin.fileId + '_remove').removeClass('hidden')
        table.innerHTML = ''
        for (var i = 0; i < files.length; i++) {
          if (!plugin.input[0].multiple && i !== files.length - 1) {
            continue
          }
          var row = table.insertRow(0)
          row.setAttribute('id', plugin.fileId + '_' + i)
          var cell1 = row.insertCell(0)
          cell1.setAttribute('class', 'width--99p')
          cell1.innerHTML = '<div class="break-all">' + files[i].name + '</div>'
        }
      } else {
        table.innerHTML = ''
        table.appendChild(plugin.emptyFiles)
        $('#' + plugin.fileId + '_remove').addClass('hidden')
      }

      plugin.eventListeners()
    },

    isDragAndDropSupported: function () {
      var div = document.createElement('div')
      return (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div)) && 'FormData' in window && 'FileReader' in window
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFileUploadDragAndDrop(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpVersadocProof'

  var defaults = {
    ajaxUrl: '',
    errorModal: null,
    formPostId: null,
    generatingModal: null,
    modalTrigger: null,
    retryButton: null
  }

  function FdpVersadocProof (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpVersadocProof.prototype = {

    init: function () {
      var plugin = this

      plugin.eventListeners()
    },

    eventListeners: function () {
      var plugin = this

      $(plugin.options.modalTrigger).on('mfpChange', function (e) {
        var instance = $.magnificPopup.instance
        // send ajax request to generate the proof if the 'generating' modal was opened.
        if ($(instance.currItem.inlineElement)[0] === $(plugin.options.generatingModal)[0]) {
          $.ajax({
            type: 'POST',
            url: plugin.options.ajaxUrl,
            data: {
              form_post_id: plugin.options.formPostId
            },
            success: function (data) {
              if (data && Object.prototype.hasOwnProperty.call(data, 'status') && data.status === 1 && Object.prototype.hasOwnProperty.call(data, 'file')) {
                // force the file to download and close the modal
                window.location.href = data.file
                instance.close()
              } else {
                // show the error generating proof modal
                $.magnificPopup.open({
                  items: {
                    src: $(plugin.options.errorModal),
                    type: 'inline'
                  },
                  modal: true
                })
              }
            }
          })
        }
      })

      $(plugin.options.retryButton).click(function () {
        $(plugin.options.modalTrigger).magnificPopup('open')
      })

      $(plugin.$el).find('.js-button--update-preview').click(function (e) {
        // hide everything in the preview column
        $(plugin.$el).find('.versadoc-fullscreen__preview').children().addClass('hidden')

        // hide other alerts that may be in the form column
        $(plugin.$el).find('.versadoc-fullscreen__form .panel--alert').addClass('hidden')

        // add class to center alert in the preview column and show the alert
        $(plugin.$el).find('.versadoc-fullscreen__preview').addClass('versadoc-fullscreen__preview--alert')
        $(plugin.$el).find('.versadoc-fullscreen__generating-preview-alert').removeClass('hidden')
      })
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpVersadocProof(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  $.fdpWebsiteNotices = function (revisionNumber) {
    // Adds an event listener to the notice button in order to remove the element from the window.
    $('#fdp-website-notice-button').on('click', function (e) {
      $('#fdp-website-notice').remove()
      createCookie('fdp_closed_notice_revision', revisionNumber)
    })
  }

  $.fdpWebsiteNoticesCookieExists = function (revisionNumber) {
    // If a cookie exists, return true.
    if (parseInt(getCookie('fdp_closed_notice_revision')) === revisionNumber) {
      return true
    }
  }

  function createCookie (name, value) {
    document.cookie = name + '=' + value + '; path=/'
  }

  function getCookie (cname) {
    var name = cname + '='
    var decodedCookie = decodeURIComponent(document.cookie)
    var ca = decodedCookie.split(';')
    for (var i = 0; i < ca.length; i++) {
      var c = ca[i]
      while (c.charAt(0) === ' ') {
        c = c.substring(1)
      }
      if (c.indexOf(name) === 0) {
        return c.substring(name.length, c.length)
      }
    }
    return ''
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpPagination'

  var defaults = {
    count: 0,
    totalCount: 0,
    perPage: 25,
    currentPage: 1
  }

  function FdpPagination (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)
    this._init()
  }

  FdpPagination.prototype = {

    /**
     * Initialize the plugin.
     *
     * @private
     */
    _init: function () {
      var plugin = this
      plugin._initPaginationParams()
      plugin._renderPagination()
    },

    /**
     * Initialize the pagination parameters.
     *
     * @private
     */
    _initPaginationParams: function () {
      var plugin = this
      plugin.pagination = {
        totalCount: plugin.options.totalCount,
        perPage: plugin.options.perPage,
        currentPage: plugin.options.currentPage,
        totalPages: (plugin.options.totalCount) ? Math.ceil(plugin.options.totalCount / plugin.options.perPage) : 0
      }
    },

    /**
     * Render the pagination.
     *
     * @private
     */
    _renderPagination: function () {
      var plugin = this
      if (plugin.options.totalCount > plugin.options.count) {
        if (!plugin.nav) {
          plugin.nav = $('<nav>')
            .addClass(['nav', 'nav--pagination'])
            .attr('aria-label', 'Pagination')

          plugin.$el.append(plugin.nav)
        }
        plugin.nav.empty()
        plugin._buildPagination()
        plugin._createEventListeners()
      } else {
        if (plugin.nav) {
          plugin.nav.remove()
        }
      }
    },

    /**
     * Build the pagination and add it to the DOM.
     *
     * @private
     */
    _buildPagination: function () {
      var plugin = this
      var pagination = plugin.pagination
      var paginationList = $('<ul>')

      var maxPages = 8
      var startPage = ((pagination.currentPage - (maxPages / 2)) <= 1) ? 1 : (pagination.currentPage - (maxPages / 2))
      var endPage = ((startPage + maxPages) > pagination.totalPages) ? pagination.totalPages : (startPage + maxPages)
      startPage = ((endPage - maxPages) >= startPage || (endPage - maxPages) <= 1) ? startPage : (endPage - maxPages)

      if (pagination.currentPage > 1) {
        paginationList.append('<li><a href="' + (pagination.currentPage - 1) + '" class="nav--pagination__prev" aria-label="Go to previous page"></a></li>')
      } else {
        paginationList.append('<li><span class="nav--pagination__prev"></span></li>')
      }

      if (startPage > 1) {
        paginationList.append('<li><a href="1" aria-label="Go to page 1">1</a></li>')
      }

      if (startPage > 2) {
        paginationList.append('<li><span class="nav--pagination__spread"></span></li>')
      }

      for (var i = startPage; i < startPage + pagination.totalPages; i++) {
        if (i <= endPage) {
          if (i === pagination.currentPage) {
            paginationList.append('<li><a href="' + i + '" class="nav--pagination__here" aria-current="true" aria-label="Current Page, Page ' + i + '">' + i + '</a></li>')
          } else {
            paginationList.append('<li><a href="' + i + '" aria-label="Go to page ' + i + '">' + i + '</a></li>')
          }
        }
      }

      if (endPage < (pagination.totalPages - 1)) {
        paginationList.append('<li><span class="nav--pagination__spread"></span></li>')
      }

      if (endPage < pagination.totalPages) {
        paginationList.append('<li><a href="' + pagination.totalPages + '" aria-label="Go to page ' + pagination.totalPages + '">' + pagination.totalPages + '</a></li>')
      }

      if (pagination.currentPage !== pagination.totalPages) {
        paginationList.append('<li><a href="' + (pagination.currentPage + 1) + '" class="nav--pagination__next" aria-label="Go to next page"></a></li>')
      } else {
        paginationList.append('<li><span class="nav--pagination__next"></span></li>')
      }

      plugin.nav.append(paginationList)
    },

    /**
     * Setup the pagination event listeners.
     *
     * @private
     */
    _createEventListeners: function () {
      var plugin = this
      plugin.nav.find('a').on('click', function (e) {
        e.preventDefault()
        if (!$(this).hasClass('nav--pagination__here')) {
          var page = $(this).attr('href')
          plugin.$el.trigger('pagination:go-to-page', page)
        }
      })
    },

    /**
     * Update the pagination parameters and rerender the pagination.
     *
     * @param {object} options
     */
    update: function (options) {
      var plugin = this
      plugin.options = $.extend({}, plugin.options, options)
      plugin._initPaginationParams()
      plugin._renderPagination()
    }
  }

  $.fn[pluginName] = function (methodOrOptions) {
    var pluginArguments = arguments
    return this.each(function () {
      var instance = $.data(this, pluginName)
      if (instance && methodOrOptions.indexOf('_') !== 0 && instance[methodOrOptions]) {
        return instance[methodOrOptions].apply(instance, Array.prototype.slice.call(pluginArguments, 1))
      } else if (typeof methodOrOptions === 'object' || !methodOrOptions) {
        $.data(this, pluginName, new FdpPagination(this, methodOrOptions))
      } else if (!instance) {
        $.error('Plugin must be initialised before using method: ' + methodOrOptions)
      } else if (methodOrOptions.indexOf('_') === 0) {
        $.error('Method ' + methodOrOptions + ' is private!')
      } else {
        $.error('Method ' + methodOrOptions + ' does not exist.')
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpImageGallery'

  var defaults = {
    ajaxUrl: '',
    columns: 0,
    displayItemTitle: false,
    displayItemCaption: false,
    displayItemAction: false,
    maxWidth: 0,
    itemsPerPage: 0,
    displayLightbox: false,
    lightboxDisplayItemTitle: false,
    lightboxDisplayItemCaption: false,
    lightboxDisplayItemAction: false
  }

  function FdpImageGallery (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)
    this.init()
  }

  FdpImageGallery.prototype = {

    /**
     * Initialize the plugin.
     */
    init: function () {
      var plugin = this
      plugin.contentId = plugin.$el.attr('id')
      plugin.itemsList = plugin.$el.find('ul')

      plugin.initializePagination()
      plugin.getItems({ page: 0 })
    },

    /**
     * Initialize pagination.
     */
    initializePagination: function () {
      var plugin = this
      plugin.$el.fdpPagination({
        perPage: plugin.options.itemsPerPage
      })

      // fetch items when a new page is selected.
      plugin.$el.on('pagination:go-to-page', function (e, page) {
        plugin.getItems({ page: page - 1 })
      })
    },

    /**
     * Fetch the content image gallery items and render them in the list.
     *
     * @param {{page: number}} params
     */
    getItems: function (params) {
      var plugin = this
      $.ajax({
        type: 'POST',
        url: plugin.options.ajaxUrl,
        data: params,
        success: function (data) {
          if (data && typeof data === 'object' && Object.prototype.hasOwnProperty.call(data, 'data')) {
            plugin.populateItems(data.data)
            plugin.updatePagination(params.page, data.count, data.totalCount)
          } else {
            $.error('Error fetching content image gallery items.')
          }
        },
        error: function () {
          $.error('Error fetching content image gallery items.')
        }
      })
    },

    /**
     * Populate the content image gallery items into the list.
     *
     * @param {array} items
     */
    populateItems: function (items) {
      var plugin = this

      // remove all existing items
      plugin.itemsList.empty()

      // populate the items into the list
      $.each(items, function (index, data) {
        plugin.itemsList.append(plugin.populateItem(data))
      })

      // initialize lightbox for the image gallery
      if (plugin.options.displayLightbox) {
        $(plugin.itemsList).find('.js-lightbox--inline').magnificPopup({
          type: 'inline',
          gallery: {
            enabled: true
          },
          closeBtnInside: false
        })
      }
    },

    /**
     * Populate a content image gallery item into the list.
     *
     * @param {object} item
     * @return {jQuery}
     */
    populateItem: function (item) {
      var plugin = this
      var listItem = $('<li>')
        .attr('id', plugin.contentId + '_item_' + item.id)
        .addClass('image-gallery-item')

      var contentDiv = $('<div>')
        .addClass('image-gallery-item__content')

      // display the image
      if (item.mediaImage) {
        var contentImageDiv = $('<div>')
          .addClass(['image-gallery-item-image', 'image'])

        contentImageDiv.append($('<img>')
          .attr('src', item.mediaImage.url)
          .attr('srcset', item.mediaImage.srcset)
          .attr('sizes', plugin.calculateImageSize(item.mediaImage))
          .attr('width', item.mediaImage.width)
          .attr('height', item.mediaImage.height)
          .attr('alt', item.imageAlt)
        )

        // link the image
        if (!plugin.options.displayLightbox) {
          contentImageDiv.find('img').wrap(plugin.buildItemLink(item))
        }

        contentDiv.append(contentImageDiv)
      }

      var contentDetailsDiv = $('<div>')
        .addClass('image-gallery-item-details')

      // display the title
      if (plugin.options.displayItemTitle && $.trim(item.title) !== '') {
        var titleDiv = $('<div>')
          .addClass('image-gallery-item-title')
          .text(item.title)

        // link the title
        if (!plugin.options.displayLightbox) {
          titleDiv.wrapInner(plugin.buildItemLink(item))
        }

        contentDetailsDiv.append(titleDiv)
      }

      // display the caption
      if (plugin.options.displayItemCaption) {
        contentDetailsDiv.append(plugin.buildItemCaption(item))
      }

      // display the action
      if (plugin.options.displayItemAction) {
        contentDetailsDiv.append(plugin.buildItemAction(item, false))
      }

      // only append the details div if it is not empty
      if (contentDetailsDiv.children().length > 0) {
        contentDiv.append(contentDetailsDiv)
      }

      listItem.append(contentDiv)

      plugin.populateItemLightbox(item, listItem)

      return listItem
    },

    /**
     * Populate the lightbox for an image gallery item.
     *
     * @param {object} item
     * @param {jQuery} listItem
     */
    populateItemLightbox: function (item, listItem) {
      var plugin = this
      if (plugin.options.displayLightbox) {
        var lightboxId = plugin.contentId + '_item_' + item.id + '_lightbox'

        listItem.addClass(['lightbox', 'lightbox--inline', 'js-lightbox--inline'])
        listItem.attr('data-mfp-src', '#' + lightboxId)
        listItem.attr('tabindex', 0)

        // open the lightbox when the Enter key is pressed
        listItem.on('keydown', function (e) {
          var code = e.which
          // 13 = Return
          if ((code === 13)) {
            $(this).click()
          }
        })

        var lightboxDiv = $('<div>')
          .attr('id', lightboxId)
          .addClass(['inline-popup', 'mfp-hide'])

        if (plugin.options.lightboxDisplayItemTitle || plugin.options.lightboxDisplayItemAction || plugin.options.lightboxDisplayItemCaption || !item.mediaImage) {
          lightboxDiv.addClass('inline-popup--md')
        } else {
          // the wrapper div should always be 48 pixels larger than the image to compensate for padding.
          lightboxDiv.css('max-width', (item.mediaImage.width + 48) + 'px')
        }

        if (plugin.options.lightboxDisplayItemTitle && $.trim(item.title) !== '') {
          var lightboxHeader = $('<div>')
            .addClass('inline-popup__header')

          var titleHeadline = $('<h5>')
            .text(item.title)

          // link the title
          titleHeadline.wrapInner(plugin.buildItemLink(item))

          lightboxHeader.append(titleHeadline)
          lightboxDiv.append(lightboxHeader)
        }

        var contentDiv = $('<div>')
          .addClass('inline-popup__content')

        // display the image
        if (item.mediaImage) {
          var contentImageDiv = $('<div>')
            .addClass(['image'])
            .css('max-width', item.mediaImage.width + 'px')

          contentImageDiv.append($('<img>')
            .attr('src', item.mediaImage.url)
            .attr('srcset', item.mediaImage.srcset)
            .attr('sizes', '100vw')
            .attr('width', item.mediaImage.width)
            .attr('height', item.mediaImage.height)
            .attr('alt', item.imageAlt)
          )

          // link the image
          contentImageDiv.find('img').wrap(plugin.buildItemLink(item))

          contentDiv.append(contentImageDiv)
        }

        // display the caption
        if (plugin.options.lightboxDisplayItemCaption) {
          contentDiv.append(plugin.buildItemCaption(item))
        }

        // display the action
        if (plugin.options.lightboxDisplayItemAction) {
          contentDiv.append(plugin.buildItemAction(item, true))
        }

        // only append the content div if it is not empty
        if (contentDiv.children().length > 0) {
          lightboxDiv.append(contentDiv)
        }

        listItem.append(lightboxDiv)
      }
    },

    /**
     * Build the item caption div.
     *
     * @param {object} item
     * @return {null|jQuery}
     */
    buildItemCaption: function (item) {
      var captionDiv = null
      if ($.trim(item.caption) !== '') {
        captionDiv = $('<div>')
          .addClass('image-gallery-item-caption')
        var lines = item.caption.split(/(?:\r\n|\r|\n)/g)
        $.each(lines, function (index, captionLine) {
          captionDiv.append($('<p>').text(captionLine))
        })
      }
      return captionDiv
    },

    /**
     * Build the item action div.
     *
     * @param {object} item
     * @param {boolean} inLightbox
     * @return {null|jQuery}
     */
    buildItemAction: function (item, inLightbox) {
      var plugin = this
      var actionDiv = null
      if ($.trim(item.actionText) !== '') {
        actionDiv = $('<div>')
          .addClass('image-gallery-item-action')
          .text(item.actionText)

        if (inLightbox || !plugin.options.displayLightbox) {
          // link the action text
          actionDiv.wrapInner(plugin.buildItemLink(item))
        }
      }
      return actionDiv
    },

    /**
     * Build item link.
     *
     * @param {object} item
     * @return {null|jQuery}
     */
    buildItemLink: function (item) {
      var link = null
      if (item.link) {
        link = $('<a>')
          .attr('href', item.link.url)
        if (item.link.isTargetWindowNew) {
          link.attr('target', '_blank')
          link.attr('rel', 'noopener noreferrer')
        }
        if (Object.prototype.hasOwnProperty.call(item.link, 'classes')) {
          link.addClass(item.link.classes)
        }
      }
      return link
    },

    /**
     * Calculate the image size based on the number of columns and if available the max image width.
     *
     * @param {object} image
     * @return {string}
     */
    calculateImageSize: function (image) {
      var plugin = this
      var size = '100vw'
      if (plugin.options.columns > 0) {
        var columnRatio = (1 / plugin.options.columns)
        if (plugin.options.maxWidth > 0) {
          var imageMaxWidth = (plugin.options.maxWidth * columnRatio).toFixed(0)
          size = Math.min(image.width, imageMaxWidth) + 'px'
        } else {
          size = (columnRatio * 100).toFixed(2) + 'vw'
        }
      }
      return size
    },

    /**
     * Update the pagination when a page is selected.
     *
     * @param page
     * @param count
     * @param totalCount
     */
    updatePagination: function (page, count, totalCount) {
      var plugin = this
      plugin.$el.fdpPagination('update', {
        currentPage: page + 1,
        count: count,
        totalCount: totalCount
      })
    }

  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpImageGallery(this, options))
      }
    })
  }
})(jQuery, window, document)

;(function ($, window, document) {
  var pluginName = 'fdpFormPaymentAmountCalculator'

  var defaults = {
    paymentFields: [],
    externalPaymentAmount: 0,
    allowFeeCoverage: false,
    paymentGatewayId: 0,
    formOpenId: 0,
    locale: '',
    currency: '',
    feeCoverageAjaxUrl: ''
  }

  function FdpFormPaymentAmountCalculator (el, options) {
    this.$el = $(el)
    this.options = $.extend({}, defaults, options)

    this.init()
  }

  FdpFormPaymentAmountCalculator.prototype = {

    /**
     * Initialize the plugin.
     */
    init: function () {
      var plugin = this

      // payment amount form fields
      plugin.paymentFields = []
      for (var key in plugin.options.paymentFields) {
        if (Object.prototype.hasOwnProperty.call(plugin.options.paymentFields, key)) {
          plugin.paymentFields.push($('[name="' + plugin.options.paymentFields[key] + '"]'))
        }
      }

      plugin.feeCoverageFields = plugin.$el.find('div.payment--cover-transaction-fees input[type="checkbox"]')
      plugin.paymentTypeFields = plugin.$el.find('div.form-row--payment-method > .form-row__controls > ol input[type="radio"]')
      plugin.creditBalanceFields = plugin.$el.find('div.form-row--use-credit input[type="checkbox"]')
      plugin.payLaterFields = plugin.$el.find('div.fdpc_pay_later :input')
      plugin.ecommercePayLaterFields = plugin.$el.find('input[name="pay_later_method"]')

      plugin.state = {
        externalPaymentAmount: 0, // total from cart or event registration
        amountFields: 0, // total of all amount fields
        transactionFee: 0, // transaction fee amount
        availableCreditBalance: 0, // credit balance user has available
        useCreditBalance: false, // has the user chosen to apply their credit balance?
        coverTransactionFee: false, // has the user chosen to cover the transaction fee?
        paymentType: 'cc', // payment type (cc or ach)
        isPayLater: false, // has the user opted to pay later?

        // calculated totals
        total: 0, // total including external payment amount, amount fields, and transaction fee
        paymentTotal: 0, // total minus the credit balance usage
        creditBalanceTotal: 0 // amount of credit balance that was applied against the total
      }

      plugin.initializeState()
      plugin.addEventListeners(plugin.paymentFields)
    },

    /**
     * Initialize the default values for state.
     */
    initializeState: function () {
      var plugin = this
      var updatedState = {}

      if (!isNaN(parseFloat(plugin.options.externalPaymentAmount))) {
        updatedState.externalPaymentAmount = parseFloat(plugin.options.externalPaymentAmount)
      }

      if (plugin.paymentTypeFields.length > 0) {
        updatedState.paymentType = plugin.paymentTypeFields.filter(':checked').val()
      } else if (plugin.$el.find('input.bank_routing_number').length > 0) {
        updatedState.paymentType = 'ach'
      }

      if (plugin.options.allowFeeCoverage && plugin.feeCoverageFields.length > 0) {
        updatedState.coverTransactionFee = plugin.feeCoverageFields.is(':checked')
      }

      if (plugin.creditBalanceFields.length > 0) {
        plugin.creditBalanceFields.each(function () {
          var tmpCreditBalance = $(this).data('purchaseCreditBalance')
          if (tmpCreditBalance !== undefined) {
            updatedState.availableCreditBalance = tmpCreditBalance * 1
          }
        })
      }

      updatedState.amountFields = plugin.getAmountFieldsTotal()

      if (plugin.payLaterFields.length > 0) {
        var payLaterValue = ''
        if (plugin.payLaterFields.is('select')) {
          payLaterValue = plugin.payLaterFields.val()
        } else {
          payLaterValue = plugin.payLaterFields.filter(':checked').val()
        }
        updatedState.isPayLater = (payLaterValue === 'PAY_LATER')
      }

      if (plugin.ecommercePayLaterFields.length > 0) {
        var ecommercePayLaterValue = plugin.ecommercePayLaterFields.filter(':checked').val()
        updatedState.isPayLater = (ecommercePayLaterValue === '2')
      }

      plugin.updateState(updatedState)
    },

    /**
     * Add event listeners.
     *
     * @param {array} paymentFields
     */
    addEventListeners: function (paymentFields) {
      var plugin = this

      // listen for changes to amount form fields
      for (var i = 0; i < paymentFields.length; i++) {
        if (paymentFields[i].length > 1) {
          for (var j = 0; j < paymentFields[i].length; j++) {
            $(paymentFields[i][j]).on('change', function () {
              plugin.updateState({ amountFields: plugin.getAmountFieldsTotal() })
            })
          }
        } else {
          if (paymentFields[i][0].tagName === 'INPUT' || paymentFields[i][0].tagName === 'SELECT') {
            $(paymentFields[i][0]).on('change', function () {
              plugin.updateState({ amountFields: plugin.getAmountFieldsTotal() })
            })
          }
        }
      }

      // cc vs bank account
      plugin.paymentTypeFields.on('change', function () {
        plugin.updateState({ paymentType: $(this).val() })
      })

      // listen for fee coverage checkbox
      if (plugin.options.allowFeeCoverage) {
        plugin.feeCoverageFields.on('change', function () {
          plugin.updateState({ coverTransactionFee: $(this).is(':checked') })
        })
      }

      // check for express checkout update quantity
      if (!isNaN(parseFloat(plugin.options.externalPaymentAmount)) && parseFloat(plugin.options.externalPaymentAmount) > 0) {
        $('.js-shopping-cart-total .shopping-cart-total__pricing').on('update', function (e, newTotal) {
          newTotal = parseFloat(newTotal)
          if (!isNaN(newTotal)) {
            plugin.updateState({ externalPaymentAmount: newTotal })
          }
        })
      }

      // listen for credit balance usage.
      plugin.creditBalanceFields.change(function () {
        plugin.updateState({ useCreditBalance: $(this).is(':checked') })
      })

      // listen for changes to pay later
      plugin.payLaterFields.on('change', function () {
        plugin.updateState({ isPayLater: ($(this).val() === 'PAY_LATER') })
      })

      // listen for changes to pay later on ecommerce
      plugin.ecommercePayLaterFields.on('change', function () {
        plugin.updateState({ isPayLater: ($(this).val() === '2') })
      })
    },

    /**
     * Retrieve the calculated totals.
     *
     * @returns {object}
     */
    getTotals: function () {
      var plugin = this
      return {
        total: plugin.state.total,
        paymentTotal: plugin.state.paymentTotal,
        creditBalanceTotal: plugin.state.creditBalanceTotal,
        isPayLater: plugin.state.isPayLater,
        paymentType: plugin.state.paymentType,
        userHasCreditBalance: plugin.getUserHasCreditBalance()
      }
    },

    /**
     * Retrieve the transaction fee;
     *
     * @returns {number}
     */
    getTransactionFee: function () {
      return this.state.transactionFee
    },

    /**
     * Has the user opted to pay later?
     *
     * @returns {boolean}
     */
    getIsPayLater: function () {
      return this.state.isPayLater
    },

    /**
     * Does the user have a credit balance that could be applied?
     *
     * @returns {boolean}
     */
    getUserHasCreditBalance: function () {
      return this.creditBalanceFields.length > 0
    },

    /**
     * Calculate amount fields total.
     *
     * @returns {number}
     */
    getAmountFieldsTotal: function () {
      var plugin = this

      var amountFieldsTotal = 0
      for (var i = 0; i < plugin.paymentFields.length; i++) {
        var field = null
        if (plugin.paymentFields[i].length > 1) {
          for (var j = 0; j < plugin.paymentFields[i].length; j++) {
            field = $(plugin.paymentFields[i][j])
            if (field[0].checked && !isNaN(parseFloat(field[0].value))) {
              amountFieldsTotal += parseFloat(field[0].value)
            }
          }
        } else {
          field = $(plugin.paymentFields[i][0])
          var value = $(field).val()
          if (field.attr('type') !== 'checkbox' && field.attr('type') !== 'radio') {
            if (value !== null && value.length > 0 && !isNaN(parseFloat(value))) {
              amountFieldsTotal += parseFloat(value)
            }
          } else if (field.attr('type') !== 'checkbox' && field.attr('type') === 'radio') {
            if (field.is(':checked') && value !== null && value.length > 0 && !isNaN(parseFloat(value))) {
              amountFieldsTotal += parseFloat(value)
            }
          } else {
            if (field.is(':checked')) {
              if (value !== null && value.length > 0 && !isNaN(parseFloat(value))) {
                amountFieldsTotal += parseFloat(value)
              }
            }
          }
        }
      }

      return amountFieldsTotal
    },

    /**
     * Update the transaction fee.
     *
     * @param {object} state
     * @param {number} transactionFeePaymentTotal
     */
    updateTransactionFee: function (state, transactionFeePaymentTotal) {
      var plugin = this
      var data = {
        formFieldPrice: transactionFeePaymentTotal,
        paymentGatewayId: plugin.options.paymentGatewayId,
        formOpenId: plugin.options.formOpenId,
        locale: plugin.options.locale,
        currency: plugin.options.currency
      }

      $.ajax({
        type: 'POST',
        data: data,
        url: plugin.options.feeCoverageAjaxUrl,
        success: function (data) {
          state.transactionFee = data.total * 1
          plugin.updateState(state)
        },
        error: function () {
          state.transactionFee = 0
          plugin.updateState(state)
        }
      })
    },

    /**
     * Update the state and calculate new totals.
     *
     * @param {object} newState
     */
    updateState: function (newState) {
      var plugin = this

      var originalState = $.extend({}, plugin.state)
      var updatedState = $.extend({}, originalState, newState)

      var subtotal = updatedState.externalPaymentAmount + updatedState.amountFields
      var paymentTotal = 0
      var creditBalanceTotal = 0
      var total = subtotal
      var transactionFeePaymentTotal = 0
      if (!updatedState.isPayLater) {
        paymentTotal = subtotal
        if (updatedState.useCreditBalance) {
          paymentTotal = paymentTotal - updatedState.availableCreditBalance
          if (paymentTotal < 0) {
            paymentTotal = 0
          }
          creditBalanceTotal = subtotal - paymentTotal
        }
        // transaction fee is calculated on the payment total (minus a pre-existing fee)
        transactionFeePaymentTotal = paymentTotal

        if (updatedState.coverTransactionFee && updatedState.paymentType === 'cc') {
          paymentTotal = paymentTotal + updatedState.transactionFee
          total = subtotal + updatedState.transactionFee
        }
      }
      updatedState.total = total
      updatedState.creditBalanceTotal = creditBalanceTotal
      updatedState.paymentTotal = paymentTotal

      var hasUpdatedTransactionFee = Object.prototype.hasOwnProperty.call(newState, 'transactionFee')
      if (
        !hasUpdatedTransactionFee &&
        plugin.options.allowFeeCoverage &&
        (
          originalState.externalPaymentAmount !== updatedState.externalPaymentAmount ||
          originalState.amountFields !== updatedState.amountFields ||
          originalState.useCreditBalance !== updatedState.useCreditBalance
        )
      ) {
        // request new transaction fee amount
        plugin.updateTransactionFee(updatedState, transactionFeePaymentTotal)
      } else {
        plugin.state = updatedState

        plugin.triggerEvents(originalState, updatedState)
      }
    },

    /**
     * Trigger an event when state has changed
     *
     * @param {object} oldState
     * @param {object} newState
     */
    triggerEvents: function (oldState, newState) {
      var plugin = this

      // trigger an event if the totals have changed
      if (
        oldState.total !== newState.total ||
        oldState.creditBalanceTotal !== newState.creditBalanceTotal ||
        oldState.paymentTotal !== newState.paymentTotal ||
        oldState.isPayLater !== newState.isPayLater ||
        oldState.paymentType !== newState.paymentType
      ) {
        plugin.$el.trigger(pluginName + ':totals', plugin.getTotals())
      }

      // trigger an event if the transaction fee has changed
      if (oldState.transactionFee !== newState.transactionFee) {
        plugin.$el.trigger(pluginName + ':transactionFee', plugin.getTransactionFee())
      }
    }
  }

  $.fn[pluginName] = function (options) {
    return this.each(function () {
      if (!$.data(this, pluginName)) {
        $.data(this, pluginName, new FdpFormPaymentAmountCalculator(this, options))
      }
    })
  }
})(jQuery, window, document)
